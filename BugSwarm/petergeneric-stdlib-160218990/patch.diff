diff --git a/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/rest/ui/impl/RulesUIServiceImpl.java b/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/rest/ui/impl/RulesUIServiceImpl.java
index e8025180..c1b050c8 100644
--- a/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/rest/ui/impl/RulesUIServiceImpl.java
+++ b/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/rest/ui/impl/RulesUIServiceImpl.java
@@ -54,8 +54,7 @@ public String getIndex()
 		try
 		{
 			rules = rulesProvider.get();
-
-			OgnlContext varMap = rulesEngine.prepare(rules);
+			Map<String, Object> varMap = rulesEngine.prepare(rules);
 			call.set("varMap", varMap);
 			inputsValid = true;
 		}
