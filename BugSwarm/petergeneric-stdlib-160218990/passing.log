Using worker: worker-linux-docker-0699dcfe.prod.travis-ci.org:travis-linux-9

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: 160219580
Job id: 160219581
travis-build version: ef82e8245
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:fix.CVE-2015-7547[0K$ export DEBIAN_FRONTEND=noninteractive
W: Size of file /var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise-backports_multiverse_source_Sources.gz is not what the server reported 5886 5888
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-amd64_Packages.gz is not what the server reported 33653 36677
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-i386_Packages.gz is not what the server reported 33699 36733
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  libc-bin libc-dev-bin libc6-dev
Suggested packages:
  glibc-doc
The following packages will be upgraded:
  libc-bin libc-dev-bin libc6 libc6-dev
4 upgraded, 0 newly installed, 0 to remove and 258 not upgraded.
Need to get 8,840 kB of archives.
After this operation, 14.3 kB disk space will be freed.
Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6-dev amd64 2.15-0ubuntu10.15 [2,943 kB]
Get:2 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-dev-bin amd64 2.15-0ubuntu10.15 [84.7 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-bin amd64 2.15-0ubuntu10.15 [1,177 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6 amd64 2.15-0ubuntu10.15 [4,636 kB]
Fetched 8,840 kB in 0s (36.7 MB/s)
Preconfiguring packages ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72019 files and directories currently installed.)
Preparing to replace libc6-dev 2.15-0ubuntu10.10 (using .../libc6-dev_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6-dev ...
Preparing to replace libc-dev-bin 2.15-0ubuntu10.10 (using .../libc-dev-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-dev-bin ...
Preparing to replace libc-bin 2.15-0ubuntu10.10 (using .../libc-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-bin ...
Processing triggers for man-db ...
Setting up libc-bin (2.15-0ubuntu10.15) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72018 files and directories currently installed.)
Preparing to replace libc6 2.15-0ubuntu10.10 (using .../libc6_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6 ...
Setting up libc6 (2.15-0ubuntu10.15) ...
Setting up libc-dev-bin (2.15-0ubuntu10.15) ...
Setting up libc6-dev (2.15-0ubuntu10.15) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
travis_fold:end:fix.CVE-2015-7547[0Kdepth=3 C = US, O = "Entrust, Inc.", OU = www.entrust.net/CPS is incorporated by reference, OU = "(c) 2006 Entrust, Inc.", CN = Entrust Root Certification Authority
verify error:num=19:self signed certificate in certificate chain
verify return:0
DONE
travis_fold:start:git.checkout[0Ktravis_time:start:05f97f1c[0K$ git clone --depth=50 --branch=rules https://github.com/petergeneric/stdlib.git petergeneric/stdlib
Cloning into 'petergeneric/stdlib'...
remote: Counting objects: 2066, done.[K
remote: Compressing objects:   0% (1/1322)   [Kremote: Compressing objects:   1% (14/1322)   [Kremote: Compressing objects:   2% (27/1322)   [Kremote: Compressing objects:   3% (40/1322)   [Kremote: Compressing objects:   4% (53/1322)   [Kremote: Compressing objects:   5% (67/1322)   [Kremote: Compressing objects:   6% (80/1322)   [Kremote: Compressing objects:   7% (93/1322)   [Kremote: Compressing objects:   8% (106/1322)   [Kremote: Compressing objects:   9% (119/1322)   [Kremote: Compressing objects:  10% (133/1322)   [Kremote: Compressing objects:  11% (146/1322)   [Kremote: Compressing objects:  12% (159/1322)   [Kremote: Compressing objects:  13% (172/1322)   [Kremote: Compressing objects:  14% (186/1322)   [Kremote: Compressing objects:  15% (199/1322)   [Kremote: Compressing objects:  16% (212/1322)   [Kremote: Compressing objects:  17% (225/1322)   [Kremote: Compressing objects:  18% (238/1322)   [Kremote: Compressing objects:  19% (252/1322)   [Kremote: Compressing objects:  20% (265/1322)   [Kremote: Compressing objects:  21% (278/1322)   [Kremote: Compressing objects:  22% (291/1322)   [Kremote: Compressing objects:  23% (305/1322)   [Kremote: Compressing objects:  24% (318/1322)   [Kremote: Compressing objects:  25% (331/1322)   [Kremote: Compressing objects:  26% (344/1322)   [Kremote: Compressing objects:  27% (357/1322)   [Kremote: Compressing objects:  28% (371/1322)   [Kremote: Compressing objects:  29% (384/1322)   [Kremote: Compressing objects:  30% (397/1322)   [Kremote: Compressing objects:  31% (410/1322)   [Kremote: Compressing objects:  32% (424/1322)   [Kremote: Compressing objects:  33% (437/1322)   [Kremote: Compressing objects:  34% (450/1322)   [Kremote: Compressing objects:  35% (463/1322)   [Kremote: Compressing objects:  36% (476/1322)   [Kremote: Compressing objects:  37% (490/1322)   [Kremote: Compressing objects:  38% (503/1322)   [Kremote: Compressing objects:  39% (516/1322)   [Kremote: Compressing objects:  40% (529/1322)   [Kremote: Compressing objects:  41% (543/1322)   [Kremote: Compressing objects:  42% (556/1322)   [Kremote: Compressing objects:  43% (569/1322)   [Kremote: Compressing objects:  44% (582/1322)   [Kremote: Compressing objects:  45% (595/1322)   [Kremote: Compressing objects:  46% (609/1322)   [Kremote: Compressing objects:  47% (622/1322)   [Kremote: Compressing objects:  48% (635/1322)   [Kremote: Compressing objects:  49% (648/1322)   [Kremote: Compressing objects:  50% (661/1322)   [Kremote: Compressing objects:  51% (675/1322)   [Kremote: Compressing objects:  52% (688/1322)   [Kremote: Compressing objects:  53% (701/1322)   [Kremote: Compressing objects:  54% (714/1322)   [Kremote: Compressing objects:  55% (728/1322)   [Kremote: Compressing objects:  56% (741/1322)   [Kremote: Compressing objects:  57% (754/1322)   [Kremote: Compressing objects:  58% (767/1322)   [Kremote: Compressing objects:  59% (780/1322)   [Kremote: Compressing objects:  60% (794/1322)   [Kremote: Compressing objects:  61% (807/1322)   [Kremote: Compressing objects:  62% (820/1322)   [Kremote: Compressing objects:  63% (833/1322)   [Kremote: Compressing objects:  64% (847/1322)   [Kremote: Compressing objects:  65% (860/1322)   [Kremote: Compressing objects:  66% (873/1322)   [Kremote: Compressing objects:  67% (886/1322)   [Kremote: Compressing objects:  68% (899/1322)   [Kremote: Compressing objects:  69% (913/1322)   [Kremote: Compressing objects:  70% (926/1322)   [Kremote: Compressing objects:  71% (939/1322)   [Kremote: Compressing objects:  72% (952/1322)   [Kremote: Compressing objects:  73% (966/1322)   [Kremote: Compressing objects:  74% (979/1322)   [Kremote: Compressing objects:  75% (992/1322)   [Kremote: Compressing objects:  76% (1005/1322)   [Kremote: Compressing objects:  77% (1018/1322)   [Kremote: Compressing objects:  78% (1032/1322)   [Kremote: Compressing objects:  79% (1045/1322)   [Kremote: Compressing objects:  80% (1058/1322)   [Kremote: Compressing objects:  81% (1071/1322)   [Kremote: Compressing objects:  82% (1085/1322)   [Kremote: Compressing objects:  83% (1098/1322)   [Kremote: Compressing objects:  84% (1111/1322)   [Kremote: Compressing objects:  85% (1124/1322)   [Kremote: Compressing objects:  86% (1137/1322)   [Kremote: Compressing objects:  87% (1151/1322)   [Kremote: Compressing objects:  88% (1164/1322)   [Kremote: Compressing objects:  89% (1177/1322)   [Kremote: Compressing objects:  90% (1190/1322)   [Kremote: Compressing objects:  91% (1204/1322)   [Kremote: Compressing objects:  92% (1217/1322)   [Kremote: Compressing objects:  93% (1230/1322)   [Kremote: Compressing objects:  94% (1243/1322)   [Kremote: Compressing objects:  95% (1256/1322)   [Kremote: Compressing objects:  96% (1270/1322)   [Kremote: Compressing objects:  97% (1283/1322)   [Kremote: Compressing objects:  98% (1296/1322)   [Kremote: Compressing objects:  99% (1309/1322)   [Kremote: Compressing objects: 100% (1322/1322)   [Kremote: Compressing objects: 100% (1322/1322), done.[K
Receiving objects:   0% (1/2066)   Receiving objects:   1% (21/2066)   Receiving objects:   2% (42/2066)   Receiving objects:   3% (62/2066)   Receiving objects:   4% (83/2066)   Receiving objects:   5% (104/2066)   Receiving objects:   6% (124/2066)   Receiving objects:   7% (145/2066)   Receiving objects:   8% (166/2066)   Receiving objects:   9% (186/2066)   Receiving objects:  10% (207/2066)   Receiving objects:  11% (228/2066)   Receiving objects:  12% (248/2066)   Receiving objects:  13% (269/2066)   Receiving objects:  14% (290/2066)   Receiving objects:  15% (310/2066)   Receiving objects:  16% (331/2066)   Receiving objects:  17% (352/2066)   Receiving objects:  18% (372/2066)   Receiving objects:  19% (393/2066)   Receiving objects:  20% (414/2066)   Receiving objects:  21% (434/2066)   Receiving objects:  22% (455/2066)   Receiving objects:  23% (476/2066)   Receiving objects:  24% (496/2066)   Receiving objects:  25% (517/2066)   Receiving objects:  26% (538/2066)   Receiving objects:  27% (558/2066)   Receiving objects:  28% (579/2066)   Receiving objects:  29% (600/2066)   Receiving objects:  30% (620/2066)   Receiving objects:  31% (641/2066)   Receiving objects:  32% (662/2066)   Receiving objects:  33% (682/2066)   Receiving objects:  34% (703/2066)   Receiving objects:  35% (724/2066)   Receiving objects:  36% (744/2066)   Receiving objects:  37% (765/2066)   Receiving objects:  38% (786/2066)   Receiving objects:  39% (806/2066)   Receiving objects:  40% (827/2066)   Receiving objects:  41% (848/2066)   Receiving objects:  42% (868/2066)   Receiving objects:  43% (889/2066)   Receiving objects:  44% (910/2066)   Receiving objects:  45% (930/2066)   Receiving objects:  46% (951/2066)   Receiving objects:  47% (972/2066)   Receiving objects:  48% (992/2066)   Receiving objects:  49% (1013/2066)   Receiving objects:  50% (1033/2066)   Receiving objects:  51% (1054/2066)   Receiving objects:  52% (1075/2066)   Receiving objects:  53% (1095/2066)   Receiving objects:  54% (1116/2066)   Receiving objects:  55% (1137/2066)   Receiving objects:  56% (1157/2066)   Receiving objects:  57% (1178/2066)   Receiving objects:  58% (1199/2066)   Receiving objects:  59% (1219/2066)   Receiving objects:  60% (1240/2066)   Receiving objects:  61% (1261/2066)   Receiving objects:  62% (1281/2066)   Receiving objects:  63% (1302/2066)   Receiving objects:  64% (1323/2066)   Receiving objects:  65% (1343/2066)   Receiving objects:  66% (1364/2066)   Receiving objects:  67% (1385/2066)   remote: Total 2066 (delta 450), reused 1499 (delta 305), pack-reused 0[K
Receiving objects:  68% (1405/2066)   Receiving objects:  69% (1426/2066)   Receiving objects:  70% (1447/2066)   Receiving objects:  71% (1467/2066)   Receiving objects:  72% (1488/2066)   Receiving objects:  73% (1509/2066)   Receiving objects:  74% (1529/2066)   Receiving objects:  75% (1550/2066)   Receiving objects:  76% (1571/2066)   Receiving objects:  77% (1591/2066)   Receiving objects:  78% (1612/2066)   Receiving objects:  79% (1633/2066)   Receiving objects:  80% (1653/2066)   Receiving objects:  81% (1674/2066)   Receiving objects:  82% (1695/2066)   Receiving objects:  83% (1715/2066)   Receiving objects:  84% (1736/2066)   Receiving objects:  85% (1757/2066)   Receiving objects:  86% (1777/2066)   Receiving objects:  87% (1798/2066)   Receiving objects:  88% (1819/2066)   Receiving objects:  89% (1839/2066)   Receiving objects:  90% (1860/2066)   Receiving objects:  91% (1881/2066)   Receiving objects:  92% (1901/2066)   Receiving objects:  93% (1922/2066)   Receiving objects:  94% (1943/2066)   Receiving objects:  95% (1963/2066)   Receiving objects:  96% (1984/2066)   Receiving objects:  97% (2005/2066)   Receiving objects:  98% (2025/2066)   Receiving objects:  99% (2046/2066)   Receiving objects: 100% (2066/2066)   Receiving objects: 100% (2066/2066), 964.75 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/450)   Resolving deltas:  10% (49/450)   Resolving deltas:  12% (56/450)   Resolving deltas:  14% (64/450)   Resolving deltas:  15% (68/450)   Resolving deltas:  17% (80/450)   Resolving deltas:  18% (85/450)   Resolving deltas:  19% (88/450)   Resolving deltas:  20% (90/450)   Resolving deltas:  21% (97/450)   Resolving deltas:  23% (104/450)   Resolving deltas:  24% (108/450)   Resolving deltas:  25% (113/450)   Resolving deltas:  26% (117/450)   Resolving deltas:  27% (122/450)   Resolving deltas:  28% (127/450)   Resolving deltas:  29% (131/450)   Resolving deltas:  30% (139/450)   Resolving deltas:  32% (148/450)   Resolving deltas:  33% (149/450)   Resolving deltas:  34% (153/450)   Resolving deltas:  35% (158/450)   Resolving deltas:  36% (162/450)   Resolving deltas:  37% (167/450)   Resolving deltas:  38% (172/450)   Resolving deltas:  39% (179/450)   Resolving deltas:  40% (184/450)   Resolving deltas:  41% (185/450)   Resolving deltas:  42% (189/450)   Resolving deltas:  43% (197/450)   Resolving deltas:  44% (198/450)   Resolving deltas:  45% (206/450)   Resolving deltas:  46% (207/450)   Resolving deltas:  48% (216/450)   Resolving deltas:  49% (222/450)   Resolving deltas:  50% (225/450)   Resolving deltas:  51% (230/450)   Resolving deltas:  52% (234/450)   Resolving deltas:  53% (242/450)   Resolving deltas:  54% (245/450)   Resolving deltas:  55% (250/450)   Resolving deltas:  56% (253/450)   Resolving deltas:  60% (270/450)   Resolving deltas:  61% (277/450)   Resolving deltas:  62% (279/450)   Resolving deltas:  63% (285/450)   Resolving deltas:  64% (291/450)   Resolving deltas:  65% (293/450)   Resolving deltas:  66% (297/450)   Resolving deltas:  67% (302/450)   Resolving deltas:  68% (308/450)   Resolving deltas:  69% (313/450)   Resolving deltas:  70% (318/450)   Resolving deltas:  71% (320/450)   Resolving deltas:  72% (326/450)   Resolving deltas:  73% (331/450)   Resolving deltas:  74% (333/450)   Resolving deltas:  75% (340/450)   Resolving deltas:  76% (343/450)   Resolving deltas:  77% (347/450)   Resolving deltas:  78% (353/450)   Resolving deltas:  79% (357/450)   Resolving deltas:  80% (360/450)   Resolving deltas:  81% (367/450)   Resolving deltas:  82% (370/450)   Resolving deltas:  83% (375/450)   Resolving deltas:  84% (378/450)   Resolving deltas:  85% (384/450)   Resolving deltas:  86% (389/450)   Resolving deltas:  87% (392/450)   Resolving deltas:  88% (396/450)   Resolving deltas:  89% (401/450)   Resolving deltas:  90% (405/450)   Resolving deltas:  92% (415/450)   Resolving deltas:  94% (423/450)   Resolving deltas:  97% (437/450)   Resolving deltas:  98% (441/450)   Resolving deltas:  99% (447/450)   Resolving deltas: 100% (450/450)   Resolving deltas: 100% (450/450), done.
Checking connectivity... done.

travis_time:end:05f97f1c:start=1473958348450309202,finish=1473958349050052259,duration=599743057[0K$ cd petergeneric/stdlib
$ git checkout -qf 3b48781e1e189fd592d09d3e849dbf3a6bfe81fc
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee https://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:021216b2[0K$ Installing caching utilities

travis_time:end:021216b2:start=1473958350734395687,finish=1473958350781516925,duration=47121238[0Ktravis_time:start:0cb64500[0K
travis_time:end:0cb64500:start=1473958350786479123,finish=1473958350789795250,duration=3316127[0Ktravis_time:start:3b6a3a80[0K[32;1mattempting to download cache archive[0m
[32;1mfetching rules/cache-linux-precise-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--jdk-oraclejdk8.tgz[0m
[32;1mfound cache[0m

travis_time:end:3b6a3a80:start=1473958350793698559,finish=1473958362392666950,duration=11598968391[0Ktravis_time:start:06be8a00[0K
travis_time:end:06be8a00:start=1473958362397001655,finish=1473958362400383764,duration=3382109[0Ktravis_time:start:308783dc[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:308783dc:start=1473958362404432807,finish=1473958369406558817,duration=7002126010[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:000365f6[0K$ mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "3.13.0-40-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 20 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 20 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: 3b48781e1e189fd592d09d3e849dbf3a6bfe81fc at timestamp: 1473958377061
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.1.5-SNAPSHOT/stdlib-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 82 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 13 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/test-classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.5-SNAPSHOT/stdlib-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.5-SNAPSHOT/stdlib-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.1.5-SNAPSHOT/stdlib-guice-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 137 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 12 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.5-SNAPSHOT/stdlib-guice-common-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.5-SNAPSHOT/stdlib-guice-common-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.1.5-SNAPSHOT/user-manager-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/user-manager/api/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.5-SNAPSHOT/user-manager-api-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.5-SNAPSHOT/user-manager-api-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 81 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/resteasy/DelegatingHttpServletRequest.java: /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/resteasy/DelegatingHttpServletRequest.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/resteasy/DelegatingHttpServletRequest.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.5-SNAPSHOT/stdlib-guice-webapp-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.5-SNAPSHOT/stdlib-guice-webapp-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 20 source files to /home/travis/build/petergeneric/stdlib/guice/metrics/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.5-SNAPSHOT/stdlib-guice-metrics-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.5-SNAPSHOT/stdlib-guice-metrics-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/guice/freemarker/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.5-SNAPSHOT/stdlib-guice-freemarker-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.5-SNAPSHOT/stdlib-guice-freemarker-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 15 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.5-SNAPSHOT/stdlib-guice-testing-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.5-SNAPSHOT/stdlib-guice-testing-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 61 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Some input files use or override a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 32 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.5-SNAPSHOT/stdlib-guice-hibernate-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.5-SNAPSHOT/stdlib-guice-hibernate-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.5-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.5-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 8 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.5-SNAPSHOT/stdlib-guice-liquibase-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.5-SNAPSHOT/stdlib-guice-liquibase-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 28 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.5-SNAPSHOT/carbon-client-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.5-SNAPSHOT/carbon-client-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building service-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager-parent/9.1.5-SNAPSHOT/service-manager-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 10 source files to /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/petergeneric/stdlib/service-manager/configuration/target/configuration-9.1.5-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/service-manager/configuration/src/main/webapp]
[INFO] Webapp assembled in [241 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/configuration-9.1.5-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/configuration-9.1.5-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/configuration-9.1.5-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/configuration-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-rules 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-rules ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/rules/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-rules ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 16 source files to /home/travis/build/petergeneric/stdlib/rules/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/rules/src/main/java/com/peterphi/rules/types/RestServiceVar.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/rules/src/main/java/com/peterphi/rules/types/RestServiceVar.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-rules ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/rules/target/test-classes
[INFO] /home/travis/build/petergeneric/stdlib/rules/src/test/java/com/peterphi/rules/RuleTest.java: /home/travis/build/petergeneric/stdlib/rules/src/test/java/com/peterphi/rules/RuleTest.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/rules/src/test/java/com/peterphi/rules/RuleTest.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-rules ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-rules ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/rules/target/stdlib-rules-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-rules ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/rules/target/stdlib-rules-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib-rules/9.1.5-SNAPSHOT/stdlib-rules-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/rules/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-rules/9.1.5-SNAPSHOT/stdlib-rules-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-azure 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-azure ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/azure/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-azure ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 6 source files to /home/travis/build/petergeneric/stdlib/azure/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-azure ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/azure/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-azure ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-azure ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/azure/target/stdlib-azure-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-azure ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/azure/target/stdlib-azure-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib-azure/9.1.5-SNAPSHOT/stdlib-azure-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/azure/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-azure/9.1.5-SNAPSHOT/stdlib-azure-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager Main 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 20 source files to /home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/logging/hub/RingBuffer.java: /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/logging/hub/RingBuffer.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/logging/hub/RingBuffer.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ service-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [service-manager] in [/home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.1.5-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/webapp]
[INFO] Webapp assembled in [290 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.1.5-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.1.5-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/service-manager-9.1.5-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/service-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/service-manager-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 37 source files to /home/travis/build/petergeneric/stdlib/user-manager/service/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/user-manager/service/src/main/java/com/peterphi/usermanager/ui/impl/RoleUIServiceImpl.java: /home/travis/build/petergeneric/stdlib/user-manager/service/src/main/java/com/peterphi/usermanager/ui/impl/RoleUIServiceImpl.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/user-manager/service/src/main/java/com/peterphi/usermanager/ui/impl/RoleUIServiceImpl.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.5-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [179 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.5-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.5-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.5-SNAPSHOT/user-manager-9.1.5-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.5-SNAPSHOT/user-manager-9.1.5-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.635 s]
[INFO] stdlib ............................................. SUCCESS [ 12.975 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.208 s]
[INFO] stdlib guice common ................................ SUCCESS [  7.039 s]
[INFO] user-manager ....................................... SUCCESS [  0.013 s]
[INFO] user manager rest api .............................. SUCCESS [  0.603 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  2.763 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.409 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.397 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  1.001 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  1.461 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  0.575 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.254 s]
[INFO] carbon client ...................................... SUCCESS [  0.331 s]
[INFO] service-manager .................................... SUCCESS [  0.019 s]
[INFO] Configuration Service .............................. SUCCESS [  2.291 s]
[INFO] stdlib-rules ....................................... SUCCESS [  1.471 s]
[INFO] stdlib-azure ....................................... SUCCESS [  1.371 s]
[INFO] Service Manager Main ............................... SUCCESS [  3.964 s]
[INFO] user manager service ............................... SUCCESS [  2.729 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 43.410 s
[INFO] Finished at: 2016-09-15T16:53:37+00:00
[INFO] Final Memory: 56M/322M
[INFO] ------------------------------------------------------------------------

travis_time:end:000365f6:start=1473958372248510706,finish=1473958418963329253,duration=46714818547[0Ktravis_fold:end:install[0Kcoverity_scan:start$ export PROJECT_NAME=petergeneric/stdlib
coverity_scan:endtravis_time:start:05714ee4[0K$ mvn test -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 20 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 20 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: 3b48781e1e189fd592d09d3e849dbf3a6bfe81fc at timestamp: 1473958423873
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.958 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.128 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.032 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.io.PropertyFileTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.common.retry.retry.RetryManager).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.084 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.116 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.267 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.03 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.076 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.183 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.718 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.028 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.12 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.162 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.547 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2016-09-15 16:54:00,471 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,472 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,478 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,493 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,496 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,496 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,498 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,498 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,498 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,502 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,502 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,502 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,505 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,505 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,506 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,556 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,556 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,556 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,559 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,559 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,560 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,561 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,561 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,562 TRACE {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2016-09-15 16:54:00,600 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,601 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-15 16:54:00,601 TRACE {set} key=unit-test; value=true
2016-09-15 16:54:00,604  INFO Trying to create Guice Injector...
2016-09-15 16:54:00,612 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@22f71333
2016-09-15 16:54:00,613 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@13969fbe
2016-09-15 16:54:00,649 TRACE {set} key=travis_tag; value=
2016-09-15 16:54:00,650 TRACE {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2016-09-15 16:54:00,650 TRACE {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2016-09-15 16:54:00,650 TRACE {set} key=casher_dir; value=/home/travis/.casher
2016-09-15 16:54:00,650 TRACE {set} key=travis_job_id; value=160219581
2016-09-15 16:54:00,650 TRACE {set} key=travis_jdk_version; value=oraclejdk8
2016-09-15 16:54:00,650 TRACE {set} key=travis_os_name; value=linux
2016-09-15 16:54:00,650 TRACE {set} key=ps4; value=+
2016-09-15 16:54:00,650 TRACE {set} key=rvm_silence_path_mismatch_check_flag; value=1
2016-09-15 16:54:00,650 TRACE {set} key=mail; value=/var/mail/travis
2016-09-15 16:54:00,650 TRACE {set} key=logname; value=travis
2016-09-15 16:54:00,651 TRACE {set} key=rvm_version; value=1.26.8 (1.26.8)
2016-09-15 16:54:00,651 TRACE {set} key=travis_event_type; value=push
2016-09-15 16:54:00,651 TRACE {set} key=pwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-09-15 16:54:00,651 TRACE {set} key=git_askpass; value=echo
2016-09-15 16:54:00,652 TRACE {set} key=rails_env; value=test
2016-09-15 16:54:00,652 TRACE {set} key=has_antares_three_little_fronzies_badge; value=true
2016-09-15 16:54:00,652 TRACE {set} key=shell; value=/bin/bash
2016-09-15 16:54:00,652 TRACE {set} key=composer_no_interaction; value=1
2016-09-15 16:54:00,652 TRACE {set} key=travis_secure_env_vars; value=true
2016-09-15 16:54:00,652 TRACE {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2016-09-15 16:54:00,652 TRACE {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2016-09-15 16:54:00,652 TRACE {set} key=oldpwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-09-15 16:54:00,652 TRACE {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2016-09-15 16:54:00,653 TRACE {set} key=coverity_scan_branch; value=0
2016-09-15 16:54:00,653 TRACE {set} key=rvm_path; value=/home/travis/.rvm
2016-09-15 16:54:00,653 TRACE {set} key=coverity_scan_token; value=[secure]
2016-09-15 16:54:00,653 TRACE {set} key=continuous_integration; value=true
2016-09-15 16:54:00,653 TRACE {set} key=ruby_version; value=ruby-1.9.3-p551
2016-09-15 16:54:00,653 TRACE {set} key=debian_frontend; value=noninteractive
2016-09-15 16:54:00,653 TRACE {set} key=_system_name; value=Ubuntu
2016-09-15 16:54:00,653 TRACE {set} key=lc_all; value=en_US.UTF-8
2016-09-15 16:54:00,653 TRACE {set} key=m2_home; value=/usr/local/maven
2016-09-15 16:54:00,653 TRACE {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2016-09-15 16:54:00,653 TRACE {set} key=rvm_autoupdate_flag; value=0
2016-09-15 16:54:00,653 TRACE {set} key=travis_build_number; value=587
2016-09-15 16:54:00,654 TRACE {set} key=lc_ctype; value=en_US.UTF-8
2016-09-15 16:54:00,654 TRACE {set} key=shlvl; value=3
2016-09-15 16:54:00,654 TRACE {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2016-09-15 16:54:00,654 TRACE {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2016-09-15 16:54:00,654 TRACE {set} key=_system_arch; value=x86_64
2016-09-15 16:54:00,654 TRACE {set} key=has_josh_k_seal_of_approval; value=true
2016-09-15 16:54:00,654 TRACE {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2016-09-15 16:54:00,654 TRACE {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2016-09-15 16:54:00,654 TRACE {set} key=travis_build_id; value=160219580
2016-09-15 16:54:00,654 TRACE {set} key=term; value=xterm
2016-09-15 16:54:00,654 TRACE {set} key=rvm_prefix; value=/home/travis
2016-09-15 16:54:00,654 TRACE {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2016-09-15 16:54:00,654 TRACE {set} key=lang; value=en_US.UTF-8
2016-09-15 16:54:00,654 TRACE {set} key=travis_job_number; value=587.1
2016-09-15 16:54:00,654 TRACE {set} key=travis_pull_request; value=false
2016-09-15 16:54:00,654 TRACE {set} key=project_name; value=petergeneric/stdlib
2016-09-15 16:54:00,654 TRACE {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2016-09-15 16:54:00,654 TRACE {set} key=merb_env; value=test
2016-09-15 16:54:00,654 TRACE {set} key=rack_env; value=test
2016-09-15 16:54:00,654 TRACE {set} key=travis_language; value=java
2016-09-15 16:54:00,656 TRACE {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2016-09-15 16:54:00,656 TRACE {set} key=travis_branch; value=rules
2016-09-15 16:54:00,656 TRACE {set} key=maven_cmd_line_args; value=test -B
2016-09-15 16:54:00,656 TRACE {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2016-09-15 16:54:00,656 TRACE {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2016-09-15 16:54:00,658 TRACE {set} key=nvm_dir; value=/home/travis/.nvm
2016-09-15 16:54:00,658 TRACE {set} key=travis; value=true
2016-09-15 16:54:00,658 TRACE {set} key=ci; value=true
2016-09-15 16:54:00,658 TRACE {set} key=_system_type; value=Linux
2016-09-15 16:54:00,658 TRACE {set} key=travis_build_dir; value=/home/travis/build/petergeneric/stdlib
2016-09-15 16:54:00,658 TRACE {set} key=ssh_tty; value=/dev/pts/1
2016-09-15 16:54:00,658 TRACE {set} key=ssh_client; value=172.17.42.1 59863 22
2016-09-15 16:54:00,658 TRACE {set} key=_system_version; value=12.04
2016-09-15 16:54:00,658 TRACE {set} key=travis_commit_range; value=438602031dbb...3b48781e1e18
2016-09-15 16:54:00,658 TRACE {set} key=user; value=travis
2016-09-15 16:54:00,658 TRACE {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2016-09-15 16:54:00,658 TRACE {set} key=travis_commit; value=3b48781e1e189fd592d09d3e849dbf3a6bfe81fc
2016-09-15 16:54:00,658 TRACE {set} key=travis_repo_slug; value=petergeneric/stdlib
2016-09-15 16:54:00,658 TRACE {set} key=ssh_connection; value=172.17.42.1 59863 172.17.5.107 22
2016-09-15 16:54:00,658 TRACE {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2016-09-15 16:54:00,658 TRACE {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2016-09-15 16:54:00,658 TRACE {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2016-09-15 16:54:00,659 TRACE {set} key=home; value=/home/travis
2016-09-15 16:54:00,659 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@6aaa5eb0
2016-09-15 16:54:00,659 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@3498ed
2016-09-15 16:54:00,659 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@22f71333
2016-09-15 16:54:00,659 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@13969fbe
2016-09-15 16:54:00,722 TRACE Search for config files with name: environment.properties
2016-09-15 16:54:00,723 TRACE Search for config files with name: service.properties
2016-09-15 16:54:00,727 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@6767c1fc
2016-09-15 16:54:00,828  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/webquery/
2016-09-15 16:54:00,829  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/std/guice/hibernate/webquery/
2016-09-15 16:54:00,933 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2016-09-15 16:54:00,933 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@5c5a1b69, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@3701eaf6, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@627551fb, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@2b552920, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@2758fe70, com.peterphi.std.guice.common.metrics.CoreMetricsModule@1f36e637, com.peterphi.std.guice.common.cached.module.CacheModule@578486a3, com.peterphi.std.guice.common.retry.module.RetryModule@551aa95a, com.peterphi.std.guice.common.JAXBModule@35d176f7, com.peterphi.std.guice.common.logging.Log4JModule@43814d18, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@1dfe2924]
2016-09-15 16:54:01,654 DEBUG Discovered new property: guice.bootstrap.class
2016-09-15 16:54:01,654 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,655 DEBUG Discovered new property: scan.packages
2016-09-15 16:54:01,655 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,655 DEBUG Discovered new property: override-properties.file
2016-09-15 16:54:01,655 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,655 DEBUG Discovered new property: mode
2016-09-15 16:54:01,655 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: log4j.properties
2016-09-15 16:54:01,657 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: guice.jaxb.moxy
2016-09-15 16:54:01,657 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: unit-test
2016-09-15 16:54:01,657 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: service.instance-id
2016-09-15 16:54:01,657 TRACE Discovered new binding for property service.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: service-manager.logging.skip
2016-09-15 16:54:01,657 TRACE Discovered new binding for property service-manager.logging.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: service-manager.logging.max-backlog
2016-09-15 16:54:01,657 TRACE Discovered new binding for property service-manager.logging.max-backlog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: service.config.endpoint
2016-09-15 16:54:01,657 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: service.config.path
2016-09-15 16:54:01,657 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,657 DEBUG Discovered new property: service.config.source
2016-09-15 16:54:01,657 TRACE Discovered new binding for property service.config.source of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,658 DEBUG Discovered new property: service.config.last-revision
2016-09-15 16:54:01,658 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,658 DEBUG Discovered new property: service.config.skip
2016-09-15 16:54:01,658 TRACE Discovered new binding for property service.config.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,658 DEBUG Discovered new property: restutils.allow-restart
2016-09-15 16:54:01,658 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,659 DEBUG Discovered new property: restutils.show-serviceprops
2016-09-15 16:54:01,659 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,659 DEBUG Discovered new property: restutils.allow-reconfigure
2016-09-15 16:54:01,659 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,659 DEBUG Discovered new property: restutils.show-bound-values
2016-09-15 16:54:01,659 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,659 DEBUG Discovered new property: local.restservices.endpoint
2016-09-15 16:54:01,659 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,659 DEBUG Discovered new property: local.restservices.prefix
2016-09-15 16:54:01,659 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,659 DEBUG Discovered new property: servlet.context-name
2016-09-15 16:54:01,659 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,660 DEBUG Discovered new property: context-name
2016-09-15 16:54:01,661 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,661 DEBUG Discovered new property: role.jaxrs-server.auto
2016-09-15 16:54:01,661 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,661 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-09-15 16:54:01,666 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,666 DEBUG Discovered new property: local.webapp.endpoint
2016-09-15 16:54:01,667 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,667 DEBUG Discovered new property: local.container.endpoint
2016-09-15 16:54:01,667 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,667 DEBUG Discovered new property: local.webapp.context-path
2016-09-15 16:54:01,667 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,667 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-09-15 16:54:01,667 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,667 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.provider
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.enabled
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-09-15 16:54:01,668 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,668 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-09-15 16:54:01,669 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,669 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-09-15 16:54:01,669 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,669 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-09-15 16:54:01,669 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,669 DEBUG Discovered new property: service.oauth2.endpoint
2016-09-15 16:54:01,669 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,669 DEBUG Discovered new property: service.oauth2.client_id
2016-09-15 16:54:01,669 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,669 DEBUG Discovered new property: service.oauth2.client_secret
2016-09-15 16:54:01,669 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-09-15 16:54:01,670 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: rest.exception.html.highlight.terms
2016-09-15 16:54:01,670 TRACE Discovered new binding for property rest.exception.html.highlight.terms of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2016-09-15 16:54:01,670 TRACE Discovered new binding for property rest.exception.html.highlight.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: rest.exception.html.enabled
2016-09-15 16:54:01,670 TRACE Discovered new binding for property rest.exception.html.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2016-09-15 16:54:01,670 TRACE Discovered new binding for property rest.exception.html.enabled.only-for-logged-in of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2016-09-15 16:54:01,670 TRACE Discovered new binding for property rest.exception.html.enabled.only-for-logged-in.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,670 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2016-09-15 16:54:01,671 TRACE Discovered new binding for property rest.exception.html.feature.jvminfo of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,671 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2016-09-15 16:54:01,671 TRACE Discovered new binding for property rest.exception.html.feature.jvminfo.environment of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,671 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2016-09-15 16:54:01,671 TRACE Discovered new binding for property rest.exception.html.feature.requestinfo of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,671 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2016-09-15 16:54:01,671 TRACE Discovered new binding for property rest.exception.html.feature.stacktrace of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,672 DEBUG Discovered new property: rest.exception.html.jira.enabled
2016-09-15 16:54:01,672 TRACE Discovered new binding for property rest.exception.html.jira.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,672 DEBUG Discovered new property: rest.exception.html.jira.pid
2016-09-15 16:54:01,672 TRACE Discovered new binding for property rest.exception.html.jira.pid of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,672 DEBUG Discovered new property: rest.exception.html.jira.issueType
2016-09-15 16:54:01,672 TRACE Discovered new binding for property rest.exception.html.jira.issueType of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,672 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2016-09-15 16:54:01,672 TRACE Discovered new binding for property rest.exception.html.jira.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,672 DEBUG Discovered new property: hibernate.properties
2016-09-15 16:54:01,672 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,672 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-09-15 16:54:01,673 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: role.hibernate.auto
2016-09-15 16:54:01,673 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: role.thymeleaf.auto
2016-09-15 16:54:01,673 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-09-15 16:54:01,673 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-09-15 16:54:01,673 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: role.dbunit.auto
2016-09-15 16:54:01,673 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: liquibase.action
2016-09-15 16:54:01,673 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,673 DEBUG Discovered new property: liquibase.changelog
2016-09-15 16:54:01,673 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,674 DEBUG Discovered new property: liquibase.contexts
2016-09-15 16:54:01,674 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,674 DEBUG Discovered new property: liquibase.labels
2016-09-15 16:54:01,675 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,687 DEBUG Discovered new property: liquibase.parameter.
2016-09-15 16:54:01,687 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-15 16:54:01,776 DEBUG Loading log4j configuration from embedded
2016-09-15 16:54:01,778 TRACE {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2016-09-15 16:54:01,778 TRACE {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2016-09-15 16:54:01,778 TRACE {set} key=log4j.rootCategory; value=WARN, logconsole
2016-09-15 16:54:01,778 TRACE {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2016-09-15 16:54:01,778 TRACE {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2016-09-15 16:54:01,778 TRACE {set} key=log4j.properties; value=embedded
2016-09-15 16:54:02,587 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:02,591 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:02,591 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:02,591 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:02,591 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:02,591 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:02,591 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:02,596 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:02,705  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-09-15 16:54:05,302 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-09-15 16:54:05,312 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-09-15 16:54:05,313 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-09-15 16:54:05,313 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-09-15 16:54:05,313 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-09-15 16:54:05,313 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-09-15 16:54:05,313 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-09-15 16:54:05,324 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:05,390 TRACE Hibernate Setup Complete.
2016-09-15 16:54:05,390 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:05,391 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:05,402 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:05,405 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:05,405 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:05,405 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:05,405 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:05,405 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:05,405 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:05,405 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:05,405 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:05,405 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:05,405 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:05,655 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:05,677 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:05,831 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:05,854 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@10bd9df0
2016-09-15 16:54:05,893 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:05,894 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:05,918  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:05,919 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:05,933 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6b2e0f78
2016-09-15 16:54:06,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:06,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:06,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:06,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:06,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:06,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:06,462 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:06,463 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:06,467  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:06,633 TRACE Hibernate Setup Complete.
2016-09-15 16:54:06,633 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:06,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:06,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:06,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:06,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:06,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:06,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:06,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:06,634 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:06,635 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:06,636 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:06,636 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:06,636 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:06,637 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:06,638 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:06,644 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:06,648 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7cca01a8
2016-09-15 16:54:06,648 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-09-15 16:54:06,651 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:06,651 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-15 16:54:06,681 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7f9fc8bd
2016-09-15 16:54:06,681  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:06,688 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:06,688 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3e7b65d7
2016-09-15 16:54:07,505 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:07,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:07,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:07,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:07,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:07,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:07,517 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:07,518 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:07,563  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:07,821 TRACE Hibernate Setup Complete.
2016-09-15 16:54:07,823 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:07,838 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:07,838 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:07,838 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:07,838 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:07,838 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:07,838 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:07,838 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:07,839 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:07,839 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:07,839 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:07,839 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:07,839 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:07,840 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:07,840 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:07,842 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:07,843 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2d258eff
2016-09-15 16:54:07,843 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:07,844 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=otherobjec2_.obj_name limit ?
2016-09-15 16:54:07,880 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1cbc5693
2016-09-15 16:54:07,881 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:07,881 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name<=otherobjec2_.obj_name limit ?
2016-09-15 16:54:07,882 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6010d0d1
2016-09-15 16:54:07,882  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:07,883 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:07,883 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5348d83c
2016-09-15 16:54:08,195 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:08,196 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:08,197 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:08,197 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:08,197 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:08,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:08,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:08,199 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:08,207  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:08,371 TRACE Hibernate Setup Complete.
2016-09-15 16:54:08,371 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:08,375 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:08,376 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:08,376 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:08,377 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:08,377 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:08,377 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:08,377 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:08,377 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:08,378 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:08,378 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:08,378 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:08,378 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:08,379 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:08,380 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:08,384 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:08,393 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6537ac
2016-09-15 16:54:08,394 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:08,459 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@401788d5
2016-09-15 16:54:08,472 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:08,495 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3962ec84
2016-09-15 16:54:08,495 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:08,496 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-09-15 16:54:08,524 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5980fa73
2016-09-15 16:54:08,525 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:08,525 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-09-15 16:54:08,527 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@26874f2c
2016-09-15 16:54:08,527  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:08,527 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:08,527 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1e734eee
2016-09-15 16:54:08,754 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:08,755 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:08,755 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:08,755 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:08,755 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:08,755 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:08,755 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:08,756 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:08,759  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:08,828 TRACE Hibernate Setup Complete.
2016-09-15 16:54:08,828 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:08,828 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:08,828 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:08,828 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:08,828 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:08,828 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:08,829 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:08,829 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:08,829 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:08,829 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:08,829 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:08,829 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:08,829 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:08,830 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:08,831 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:08,833 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:08,835 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@362a6aa5
2016-09-15 16:54:08,836 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:08,839 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@61554b6b
2016-09-15 16:54:08,840 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:08,840 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2016-09-15 16:54:08,846 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1533338c
2016-09-15 16:54:08,847  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:08,847 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:08,847 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@34e990cc
2016-09-15 16:54:09,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:09,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,231 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:09,249  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:09,401 TRACE Hibernate Setup Complete.
2016-09-15 16:54:09,402 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:09,402 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,402 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,402 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,402 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,402 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,402 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,402 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,402 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,402 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,415 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,415 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,415 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,417 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:09,418 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:09,421 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:09,422 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@46b21632
2016-09-15 16:54:09,423 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-09-15 16:54:09,423 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:09,423 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2016-09-15 16:54:09,427 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7a34c1f6
2016-09-15 16:54:09,428  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:09,428 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:09,428 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3e998033
2016-09-15 16:54:09,658 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:09,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,681 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:09,683  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:09,792 TRACE Hibernate Setup Complete.
2016-09-15 16:54:09,792 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:09,792 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,792 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,793 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,793 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,793 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,793 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,793 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,793 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,793 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,793 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,793 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,793 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,794 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:09,800 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:09,802 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:09,803 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3731e8b6
2016-09-15 16:54:09,803 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:09,821 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@33089426
2016-09-15 16:54:09,822 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:09,824 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42474b18
2016-09-15 16:54:09,825 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2016-09-15 16:54:09,834 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-09-15 16:54:09,838 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@19fc0ef7
2016-09-15 16:54:09,838  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:09,839 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:09,840 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@796642ae
2016-09-15 16:54:09,983 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:09,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:09,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:09,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:09,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:09,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:09,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:09,992 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:09,995  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:10,172 TRACE Hibernate Setup Complete.
2016-09-15 16:54:10,177 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:10,178 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:10,178 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:10,178 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:10,178 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:10,178 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:10,179 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:10,179 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:10,179 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:10,179 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:10,180 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:10,180 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:10,180 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:10,181 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:10,181 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:10,183 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:10,184 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@28d7bd6b
2016-09-15 16:54:10,184 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:10,190 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42ac309
2016-09-15 16:54:10,193 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:10,196 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@268e30d4
2016-09-15 16:54:10,197 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-09-15 16:54:10,198 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5dff108c
2016-09-15 16:54:10,200 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-09-15 16:54:10,201 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@32c8d67
2016-09-15 16:54:10,201 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:10,202 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-09-15 16:54:10,204 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@17d0d3d7
2016-09-15 16:54:10,204 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:10,204 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2016-09-15 16:54:10,207 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e22d6bf
2016-09-15 16:54:10,208 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:10,208 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2016-09-15 16:54:10,211 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@46c9ee28
2016-09-15 16:54:10,211  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:10,211 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:10,212 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@19b3d3a4
2016-09-15 16:54:10,325 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:10,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:10,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:10,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:10,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:10,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:10,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:10,327 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:10,341  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:10,742 TRACE Hibernate Setup Complete.
2016-09-15 16:54:10,742 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:10,742 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:10,743 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:10,743 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:10,743 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:10,743 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:10,743 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:10,743 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:10,744 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:10,744 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:10,744 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:10,744 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:10,744 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:10,745 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:10,746 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:10,748 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:10,750 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1659d7d
2016-09-15 16:54:10,751 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:10,755 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@32d8e58d
2016-09-15 16:54:10,761 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:10,771 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@601e7c97
2016-09-15 16:54:10,779 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:10,779 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2016-09-15 16:54:10,783 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f12fca0
2016-09-15 16:54:10,784  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:10,784 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:10,784 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d0e43d6
2016-09-15 16:54:10,951 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:10,952 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:10,952 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:10,952 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:10,952 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:10,952 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:10,953 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:10,953 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:10,956  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:11,068 TRACE Hibernate Setup Complete.
2016-09-15 16:54:11,068 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:11,068 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,069 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,069 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,069 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,069 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,069 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,069 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,070 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,070 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,070 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,070 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,070 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,071 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:11,071 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,073 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,074 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a985388
2016-09-15 16:54:11,076 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:11,077 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2016-09-15 16:54:11,080 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1ff52a71
2016-09-15 16:54:11,080  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:11,081 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:11,081 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@f776b4a
2016-09-15 16:54:11,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:11,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,232 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:11,238  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:11,363 TRACE Hibernate Setup Complete.
2016-09-15 16:54:11,363 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:11,363 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,363 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,364 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,364 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,364 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,364 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,364 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,364 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,364 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,365 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,365 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,365 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,366 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:11,366 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,369 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,374 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2d10160a
2016-09-15 16:54:11,375 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-09-15 16:54:11,376 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a2bc71f
2016-09-15 16:54:11,377 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:11,390 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d3b4646
2016-09-15 16:54:11,391 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:11,392 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2016-09-15 16:54:11,403 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5f7dbdfa
2016-09-15 16:54:11,404 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:11,404 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2016-09-15 16:54:11,405 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@70ed03e4
2016-09-15 16:54:11,406  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:11,406 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:11,406 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@24489d12
2016-09-15 16:54:11,567 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:11,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,569 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:11,578  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:11,669 TRACE Hibernate Setup Complete.
2016-09-15 16:54:11,669 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:11,669 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,669 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,670 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,670 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,670 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,670 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,670 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,670 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,671 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,671 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,671 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,671 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,672 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:11,672 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,678 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,680 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@73ae084e
2016-09-15 16:54:11,681 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:11,682 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2016-09-15 16:54:11,686 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@18213a65
2016-09-15 16:54:11,686  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:11,687 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:11,687 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1435a8ca
2016-09-15 16:54:11,804 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,804 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,804 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:11,804 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,804 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,805 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,805 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,805 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:11,810  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:11,936 TRACE Hibernate Setup Complete.
2016-09-15 16:54:11,945 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:11,945 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,945 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,945 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:11,945 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:11,945 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,946 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:11,946 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,946 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:11,946 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,946 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:11,946 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,947 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:11,950 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:11,950 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,953 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:11,960 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@783a2fec
2016-09-15 16:54:11,961 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:11,961 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-15 16:54:11,963 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@52364a6e
2016-09-15 16:54:11,963  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:11,963 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:11,963 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@72187492
2016-09-15 16:54:12,151 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,164 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,165 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:12,165 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,165 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,165 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,165 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,165 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:12,167  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:12,222 TRACE Hibernate Setup Complete.
2016-09-15 16:54:12,222 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:12,222 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,222 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,222 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,223 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,223 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,223 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,223 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,223 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,223 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,223 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,223 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,223 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,224 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:12,224 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,226 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,226 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@249f95a2
2016-09-15 16:54:12,227 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:12,235 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-15 16:54:12,238 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@56aacc7b
2016-09-15 16:54:12,239  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:12,239 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:12,239 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e832c9
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,370 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,371 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:12,372  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:12,441 TRACE Hibernate Setup Complete.
2016-09-15 16:54:12,441 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:12,442 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,443 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,443 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,443 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,443 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,443 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,443 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,444 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,444 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,444 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,444 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,444 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,444 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:12,445 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,446 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,448 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7e6bfd2
2016-09-15 16:54:12,448 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-09-15 16:54:12,448 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:12,449 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2016-09-15 16:54:12,450 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@70d3e710
2016-09-15 16:54:12,450  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:12,450 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:12,450 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1c1e971c
2016-09-15 16:54:12,550 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,550 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:12,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,581 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:12,584  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:12,632 TRACE Hibernate Setup Complete.
2016-09-15 16:54:12,632 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:12,632 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,632 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,634 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,634 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,634 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,634 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,634 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,634 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,635 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:12,635 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,637 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,638 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1afd9827
2016-09-15 16:54:12,638 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:12,638 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:12,639 DEBUG IllegalArgumentException causes rollback
2016-09-15 16:54:12,640  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:12,640 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:12,640 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@311a569d
2016-09-15 16:54:12,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:12,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,740 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,740 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,740 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:12,742  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:12,769 TRACE Hibernate Setup Complete.
2016-09-15 16:54:12,770 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:12,770 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,770 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,770 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,771 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,771 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,771 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,771 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,771 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,771 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,771 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,772 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,772 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,772 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:12,773 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,774 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,775 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@56418318
2016-09-15 16:54:12,776 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:12,777 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7ce2bfb
2016-09-15 16:54:12,778 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-15 16:54:12,779 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@d4fe4d
2016-09-15 16:54:12,780 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:12,780 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2016-09-15 16:54:12,782 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@714ab3a1
2016-09-15 16:54:12,782  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:12,783 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:12,783 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d2aa0c
2016-09-15 16:54:12,898 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,898 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,898 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:12,898 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,898 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,898 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,899 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,899 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:12,904  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:12,936 TRACE Hibernate Setup Complete.
2016-09-15 16:54:12,936 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:12,936 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,937 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,937 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-15 16:54:12,937 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-15 16:54:12,937 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,937 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-15 16:54:12,937 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,937 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:12,938 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,938 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:12,938 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,938 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:12,939 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-15 16:54:12,939 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,940 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-15 16:54:12,941 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@753cc26d
2016-09-15 16:54:12,953 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:12,954 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2016-09-15 16:54:12,961 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e65fc8b
2016-09-15 16:54:12,961  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:12,962 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:12,962 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a1a7e28
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.366 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2016-09-15 16:54:13,113 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:13,113 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:13,113 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:13,114 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,115  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:13,131 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,132 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:13,132 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:13,132 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:13,132 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:13,132 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:13,133 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-09-15 16:54:13,137 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4d9ef371
2016-09-15 16:54:13,138 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-09-15 16:54:13,139 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7eb91b95
2016-09-15 16:54:13,141 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:13,141 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:13,141 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:13,142 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_one this_1_ on this_.id=this_1_.id left outer join inherit_two this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2016-09-15 16:54:13,147 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@525dd5af
2016-09-15 16:54:13,148  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,148 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,148 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3e0d722f
2016-09-15 16:54:13,241 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:13,241 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-15 16:54:13,242 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:13,242 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,244  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-15 16:54:13,256 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,256 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-15 16:54:13,256 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:13,256 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-15 16:54:13,256 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:13,256 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-15 16:54:13,257 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-09-15 16:54:13,258 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@539fe2b8
2016-09-15 16:54:13,258 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-09-15 16:54:13,259 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4f401aac
2016-09-15 16:54:13,260 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-09-15 16:54:13,265 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5471182c
2016-09-15 16:54:13,265 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-09-15 16:54:13,266 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@52757583
2016-09-15 16:54:13,266  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,266 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,266 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@11972f4a
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.283 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2016-09-15 16:54:13,383 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,384 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,386  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-09-15 16:54:13,432 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,432 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-09-15 16:54:13,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,434 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:13,434 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2016-09-15 16:54:13,435 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6ef27af9
2016-09-15 16:54:13,435  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,435 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,435 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@247d6992
2016-09-15 16:54:13,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,560 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,561  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-09-15 16:54:13,577 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,577 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-09-15 16:54:13,577 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,577 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,577 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:13,578 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2016-09-15 16:54:13,578 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1ba4c55c
2016-09-15 16:54:13,579  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,580 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,580 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2f8288b2
2016-09-15 16:54:13,722 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,723 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,724  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-09-15 16:54:13,732 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,733 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-09-15 16:54:13,733 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,733 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-15 16:54:13,733 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2016-09-15 16:54:13,743 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3de2e589
2016-09-15 16:54:13,743  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,743 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,743 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2e26eed3
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.469 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2016-09-15 16:54:13,850 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-09-15 16:54:13,851 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,853  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2016-09-15 16:54:13,861 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,862 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2016-09-15 16:54:13,862 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-09-15 16:54:13,862 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-09-15 16:54:13,862 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2016-09-15 16:54:13,866 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@487d4cbb
2016-09-15 16:54:13,866 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2016-09-15 16:54:13,867 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4d9fedfa
2016-09-15 16:54:13,867 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-09-15 16:54:13,869 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@583739e2
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2016-09-15 16:54:13,876  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,876 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,876 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@73f344bb
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.128 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2016-09-15 16:54:13,977 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-09-15 16:54:13,978 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:13,979  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2016-09-15 16:54:13,990 TRACE Hibernate Setup Complete.
2016-09-15 16:54:13,990 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2016-09-15 16:54:13,990 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-09-15 16:54:13,990 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-09-15 16:54:13,990 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2016-09-15 16:54:13,991 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5d3e4c3a
2016-09-15 16:54:13,991 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2016-09-15 16:54:13,992 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@70e1a8ab
2016-09-15 16:54:13,992 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-09-15 16:54:13,993 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5991020b
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2016-09-15 16:54:13,993  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:13,993 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:13,994 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e432c80
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.114 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2016-09-15 16:54:14,102 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-15 16:54:14,102 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-15 16:54:14,109 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:14,117  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-09-15 16:54:14,128 TRACE Hibernate Setup Complete.
2016-09-15 16:54:14,128 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-09-15 16:54:14,128 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-15 16:54:14,128 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-15 16:54:14,128 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-15 16:54:14,128 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-15 16:54:14,133 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2016-09-15 16:54:14,135 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-15 16:54:14,136 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-15 16:54:14,136 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-15 16:54:14,137 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-15 16:54:14,137 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-15 16:54:14,138 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2016-09-15 16:54:14,146 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:14,146 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2016-09-15 16:54:14,149 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@8f52d5f
2016-09-15 16:54:14,150  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:14,150 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:14,150 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2b6cd876
2016-09-15 16:54:14,258 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-15 16:54:14,258 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-15 16:54:14,259 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:14,261  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-09-15 16:54:14,271 TRACE Hibernate Setup Complete.
2016-09-15 16:54:14,271 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-09-15 16:54:14,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-15 16:54:14,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-15 16:54:14,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-15 16:54:14,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-15 16:54:14,272 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2016-09-15 16:54:14,272 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-15 16:54:14,273 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-15 16:54:14,274 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-15 16:54:14,274 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-15 16:54:14,274 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-15 16:54:14,275 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-15 16:54:14,275 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2016-09-15 16:54:14,279 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@31fcad71
2016-09-15 16:54:14,283  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:14,283 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:14,283 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4ac9a1ff
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.28 sec - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2016-09-15 16:54:14,517 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-09-15 16:54:14,517 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:14,518  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-09-15 16:54:14,540 TRACE Hibernate Setup Complete.
2016-09-15 16:54:14,540 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-09-15 16:54:14,543 DEBUG KillTransaction causes rollback
2016-09-15 16:54:14,543  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:14,543 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:14,543 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6ae2d1e2
2016-09-15 16:54:14,637 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-09-15 16:54:14,638 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:14,639  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-09-15 16:54:14,681 TRACE Hibernate Setup Complete.
2016-09-15 16:54:14,682 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-09-15 16:54:14,683 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1ba61bc8
2016-09-15 16:54:14,685  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:14,685 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:14,685 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7a40e452
2016-09-15 16:54:14,789 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-09-15 16:54:14,790 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:14,791  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-09-15 16:54:14,826 TRACE Hibernate Setup Complete.
2016-09-15 16:54:14,827  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:14,827 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:14,827 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5ec5f4ab
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.545 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2016-09-15 16:54:14,940 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-15 16:54:14,940 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-15 16:54:14,941 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:14,942  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-09-15 16:54:14,960 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-09-15 16:54:14,960 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-09-15 16:54:14,962 TRACE Hibernate Setup Complete.
2016-09-15 16:54:14,962 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-09-15 16:54:14,962 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-15 16:54:14,962 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-15 16:54:14,962 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-15 16:54:14,962 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-15 16:54:14,963 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2016-09-15 16:54:15,123 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@bcaa093
2016-09-15 16:54:15,123  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:15,123 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:15,124 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@22546149
2016-09-15 16:54:15,268 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-15 16:54:15,269 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-15 16:54:15,269 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-15 16:54:15,271  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-09-15 16:54:15,331 TRACE Hibernate Setup Complete.
2016-09-15 16:54:15,331 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-09-15 16:54:15,331 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-15 16:54:15,331 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-15 16:54:15,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-15 16:54:15,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-15 16:54:15,332 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2016-09-15 16:54:15,334 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@34841b9c
2016-09-15 16:54:15,334 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2016-09-15 16:54:15,383 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@394cb4c
2016-09-15 16:54:15,384 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-09-15 16:54:15,431 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@73ac8829
2016-09-15 16:54:15,432 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-09-15 16:54:15,446 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@e1cc4e5
2016-09-15 16:54:15,453 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-09-15 16:54:15,455 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@edab760
2016-09-15 16:54:15,456 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-09-15 16:54:15,457 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6143cbe
2016-09-15 16:54:15,458 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-09-15 16:54:15,459 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3a64c797
2016-09-15 16:54:15,459 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-09-15 16:54:15,464 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6893fc3c
2016-09-15 16:54:15,465 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2016-09-15 16:54:15,512 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3758f3a3
2016-09-15 16:54:15,513  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:15,513 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-15 16:54:15,513 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4d0b7be7
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.701 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest

Results :

Tests run: 55, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.hibernatetest.DbunitModuleTest
2016-09-15 16:54:17,892  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-09-15 16:54:19,520 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-09-15 16:54:19,521 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-09-15 16:54:19,521 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-09-15 16:54:19,521 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: drop table GroupEntity if exists
Hibernate: drop table SimpleEntity if exists
Hibernate: drop table simple_entity_join_table if exists
Hibernate: create table GroupEntity (id bigint not null, primary key (id))
Hibernate: create table SimpleEntity (id bigint not null, name varchar(255), primary key (id))
Hibernate: create table simple_entity_join_table (simple_id bigint not null, group_id bigint not null, primary key (simple_id, group_id))
Hibernate: alter table simple_entity_join_table add constraint FK_immmw5r3yntht63c24psmno0m foreign key (group_id) references GroupEntity
Hibernate: alter table simple_entity_join_table add constraint FK_f2ec0exlk361s4ww77hdync48 foreign key (simple_id) references SimpleEntity
Sep 15, 2016 4:54:19 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 15, 2016 4:54:19 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 15, 2016 4:54:19 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Sep 15, 2016 4:54:19 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 15, 2016 4:54:20 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 15, 2016 4:54:20 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.512 sec - in com.peterphi.std.guice.hibernatetest.DbunitModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
2016-09-15 16:54:25,755  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: select this_.id as id1_0_0_, this_.name as name2_0_0_ from something this_
Hibernate: select someentity0_.id as id1_0_0_, someentity0_.name as name2_0_0_ from something someentity0_ where someentity0_.id=?
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.282 sec - in com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
Running com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.carbon.util.mediainfo.MediaInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.245 sec - in com.peterphi.carbon.util.mediainfo.MediaInfoTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building service-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.configuration.service.git.RepoHelperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.347 sec - in com.peterphi.configuration.service.git.RepoHelperTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-rules 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-rules ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/rules/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-rules ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2016-09-15 16:54:29,170 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/rules/target/test-classes/test-config.properties
Running com.peterphi.rules.RuleTest
2016-09-15 16:54:29,192 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/rules/target/test-classes/test-config.properties
2016-09-15 16:54:29,195  INFO Trying to create Guice Injector...
2016-09-15 16:54:29,196 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@30c7da1e
2016-09-15 16:54:29,201 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@5b464ce8
2016-09-15 16:54:29,201 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@57829d67
2016-09-15 16:54:29,201 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@19dfb72a
2016-09-15 16:54:29,201 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@30c7da1e
2016-09-15 16:54:29,265 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@51081592
2016-09-15 16:54:29,836 DEBUG Discovered new property: guice.bootstrap.class
2016-09-15 16:54:29,836 DEBUG Discovered new property: scan.packages
2016-09-15 16:54:29,836 DEBUG Discovered new property: override-properties.file
2016-09-15 16:54:29,836 DEBUG Discovered new property: mode
2016-09-15 16:54:29,837 DEBUG Discovered new property: log4j.properties
2016-09-15 16:54:29,837 DEBUG Discovered new property: guice.jaxb.moxy
2016-09-15 16:54:29,837 DEBUG Discovered new property: unit-test
2016-09-15 16:54:29,837 DEBUG Discovered new property: service.instance-id
2016-09-15 16:54:29,837 DEBUG Discovered new property: service-manager.logging.skip
2016-09-15 16:54:29,838 DEBUG Discovered new property: service-manager.logging.max-backlog
2016-09-15 16:54:29,838 DEBUG Discovered new property: service.config.endpoint
2016-09-15 16:54:29,838 DEBUG Discovered new property: service.config.path
2016-09-15 16:54:29,838 DEBUG Discovered new property: service.config.source
2016-09-15 16:54:29,838 DEBUG Discovered new property: service.config.last-revision
2016-09-15 16:54:29,838 DEBUG Discovered new property: service.config.skip
2016-09-15 16:54:29,839 DEBUG Discovered new property: restutils.allow-restart
2016-09-15 16:54:29,839 DEBUG Discovered new property: restutils.show-serviceprops
2016-09-15 16:54:29,839 DEBUG Discovered new property: restutils.allow-reconfigure
2016-09-15 16:54:29,839 DEBUG Discovered new property: restutils.show-bound-values
2016-09-15 16:54:29,839 DEBUG Discovered new property: local.restservices.endpoint
2016-09-15 16:54:29,839 DEBUG Discovered new property: local.restservices.prefix
2016-09-15 16:54:29,839 DEBUG Discovered new property: servlet.context-name
2016-09-15 16:54:29,840 DEBUG Discovered new property: context-name
2016-09-15 16:54:29,840 DEBUG Discovered new property: role.jaxrs-server.auto
2016-09-15 16:54:29,840 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-09-15 16:54:29,840 DEBUG Discovered new property: local.webapp.endpoint
2016-09-15 16:54:29,840 DEBUG Discovered new property: local.container.endpoint
2016-09-15 16:54:29,840 DEBUG Discovered new property: local.webapp.context-path
2016-09-15 16:54:29,841 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-09-15 16:54:29,841 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-09-15 16:54:29,841 DEBUG Discovered new property: framework.webauth.provider
2016-09-15 16:54:29,841 DEBUG Discovered new property: framework.webauth.enabled
2016-09-15 16:54:29,841 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-09-15 16:54:29,841 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-09-15 16:54:29,841 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-09-15 16:54:29,842 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-09-15 16:54:29,842 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-09-15 16:54:29,842 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-09-15 16:54:29,842 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-09-15 16:54:29,842 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-09-15 16:54:29,842 DEBUG Discovered new property: service.oauth2.endpoint
2016-09-15 16:54:29,842 DEBUG Discovered new property: service.oauth2.client_id
2016-09-15 16:54:29,842 DEBUG Discovered new property: service.oauth2.client_secret
2016-09-15 16:54:29,845 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-09-15 16:54:29,845 DEBUG Discovered new property: rest.exception.html.highlight.terms
2016-09-15 16:54:29,845 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2016-09-15 16:54:29,845 DEBUG Discovered new property: rest.exception.html.enabled
2016-09-15 16:54:29,845 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2016-09-15 16:54:29,845 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.jira.enabled
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.jira.pid
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.jira.issueType
2016-09-15 16:54:29,846 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2016-09-15 16:54:29,846 DEBUG Discovered new property: hibernate.properties
2016-09-15 16:54:29,846 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-09-15 16:54:29,846 DEBUG Discovered new property: role.hibernate.auto
2016-09-15 16:54:29,846 DEBUG Discovered new property: role.thymeleaf.auto
2016-09-15 16:54:29,846 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-09-15 16:54:29,846 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-09-15 16:54:29,846 DEBUG Discovered new property: role.dbunit.auto
2016-09-15 16:54:29,847 DEBUG Discovered new property: liquibase.action
2016-09-15 16:54:29,847 DEBUG Discovered new property: liquibase.changelog
2016-09-15 16:54:29,847 DEBUG Discovered new property: liquibase.contexts
2016-09-15 16:54:29,847 DEBUG Discovered new property: liquibase.labels
2016-09-15 16:54:29,847 DEBUG Discovered new property: liquibase.parameter.
2016-09-15 16:54:29,891 DEBUG Leaving logging subsystem to initialise itself
2016-09-15 16:54:30,080 DEBUG Injector for (app) created in 815 ms
2016-09-15 16:54:30,083 DEBUG Discovered new property: verifier1
2016-09-15 16:54:30,083 DEBUG Discovered new property: verifier2
2016-09-15 16:54:30,083 DEBUG Discovered new property: verifier3
2016-09-15 16:54:30,489 DEBUG Assessing input for ruleset : local-object-value-match
2016-09-15 16:54:30,534 DEBUG input.equals("n") matches
2016-09-15 16:54:30,534 DEBUG Assessing input for ruleset : jaxb-value-match
2016-09-15 16:54:30,537 DEBUG input.equals("text") matches
2016-09-15 16:54:30,537 DEBUG Assessing input for ruleset : rest-service-call
2016-09-15 16:54:30,541 DEBUG input == "proceed" matches
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.36 sec - in com.peterphi.rules.RuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-azure 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-azure ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/azure/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-azure ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.azure.AzureTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.003 sec - in com.peterphi.std.azure.AzureTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 1

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager Main 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest
2016-09-15 16:54:33,633  INFO Trying to create Guice Injector...
2016-09-15 16:54:33,901  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes/com/peterphi/
2016-09-15 16:54:33,902  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/com/peterphi/
2016-09-15 16:54:33,902  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes/com/peterphi/
2016-09-15 16:54:33,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/stdlib/target/classes/com/peterphi/
2016-09-15 16:54:33,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/common/target/classes/com/peterphi/
2016-09-15 16:54:33,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes/com/peterphi/
2016-09-15 16:54:33,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/
2016-09-15 16:54:33,904  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes/com/peterphi/
2016-09-15 16:54:33,904  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes/com/peterphi/
2016-09-15 16:54:33,905  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes/com/peterphi/
2016-09-15 16:54:33,905  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes/com/peterphi/
2016-09-15 16:54:35,236 DEBUG Discovered new property: dbunit.schema
2016-09-15 16:54:35,333 DEBUG Injector for (app) created in 1568 ms
2016-09-15 16:54:35,334 DEBUG Class scanner stats: insts=1 cached createTime=321, scanTime=1
2016-09-15 16:54:35,389 DEBUG Discovered new property: hibernate.perform-separate-id-query-for-large-tables
2016-09-15 16:54:35,606 DEBUG Logging Provider: org.jboss.logging.Log4jLoggerProvider
2016-09-15 16:54:35,639 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@3bd418e4
2016-09-15 16:54:35,639 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@3bd418e4
2016-09-15 16:54:35,640 DEBUG Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@3bd418e4
2016-09-15 16:54:35,640 DEBUG Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@20b12f8a
2016-09-15 16:54:35,642 DEBUG Adding type registration true_false -> org.hibernate.type.TrueFalseType@35390ee3
2016-09-15 16:54:35,643 DEBUG Adding type registration yes_no -> org.hibernate.type.YesNoType@5ee2b6f9
2016-09-15 16:54:35,644 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@349c1daf
2016-09-15 16:54:35,644 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@349c1daf
2016-09-15 16:54:35,644 DEBUG Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@349c1daf
2016-09-15 16:54:35,645 DEBUG Adding type registration character -> org.hibernate.type.CharacterType@6955cb39
2016-09-15 16:54:35,646 DEBUG Adding type registration char -> org.hibernate.type.CharacterType@6955cb39
2016-09-15 16:54:35,646 DEBUG Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@6955cb39
2016-09-15 16:54:35,649 DEBUG Adding type registration short -> org.hibernate.type.ShortType@395b56bb
2016-09-15 16:54:35,649 DEBUG Adding type registration short -> org.hibernate.type.ShortType@395b56bb
2016-09-15 16:54:35,664 DEBUG Adding type registration java.lang.Short -> org.hibernate.type.ShortType@395b56bb
2016-09-15 16:54:35,666 DEBUG Adding type registration integer -> org.hibernate.type.IntegerType@68fa0ba8
2016-09-15 16:54:35,666 DEBUG Adding type registration int -> org.hibernate.type.IntegerType@68fa0ba8
2016-09-15 16:54:35,666 DEBUG Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@68fa0ba8
2016-09-15 16:54:35,667 DEBUG Adding type registration long -> org.hibernate.type.LongType@64a8c844
2016-09-15 16:54:35,667 DEBUG Adding type registration long -> org.hibernate.type.LongType@64a8c844
2016-09-15 16:54:35,667 DEBUG Adding type registration java.lang.Long -> org.hibernate.type.LongType@64a8c844
2016-09-15 16:54:35,669 DEBUG Adding type registration float -> org.hibernate.type.FloatType@2e9fda69
2016-09-15 16:54:35,669 DEBUG Adding type registration float -> org.hibernate.type.FloatType@2e9fda69
2016-09-15 16:54:35,669 DEBUG Adding type registration java.lang.Float -> org.hibernate.type.FloatType@2e9fda69
2016-09-15 16:54:35,670 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@7b5a12ae
2016-09-15 16:54:35,671 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@7b5a12ae
2016-09-15 16:54:35,671 DEBUG Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@7b5a12ae
2016-09-15 16:54:35,673 DEBUG Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@47a5b70d
2016-09-15 16:54:35,673 DEBUG Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@47a5b70d
2016-09-15 16:54:35,675 DEBUG Adding type registration big_integer -> org.hibernate.type.BigIntegerType@5c530d1e
2016-09-15 16:54:35,675 DEBUG Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@5c530d1e
2016-09-15 16:54:35,676 DEBUG Adding type registration string -> org.hibernate.type.StringType@bf1ec20
2016-09-15 16:54:35,676 DEBUG Adding type registration java.lang.String -> org.hibernate.type.StringType@bf1ec20
2016-09-15 16:54:35,676 DEBUG Adding type registration nstring -> org.hibernate.type.StringNVarcharType@435fb7b5
2016-09-15 16:54:35,677 DEBUG Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@1c3146bc
2016-09-15 16:54:35,680 DEBUG Adding type registration url -> org.hibernate.type.UrlType@7bb6ab3a
2016-09-15 16:54:35,692 DEBUG Adding type registration java.net.URL -> org.hibernate.type.UrlType@7bb6ab3a
2016-09-15 16:54:35,695 DEBUG Adding type registration date -> org.hibernate.type.DateType@14d14731
2016-09-15 16:54:35,696 DEBUG Adding type registration java.sql.Date -> org.hibernate.type.DateType@14d14731
2016-09-15 16:54:35,698 DEBUG Adding type registration time -> org.hibernate.type.TimeType@3f07b12c
2016-09-15 16:54:35,699 DEBUG Adding type registration java.sql.Time -> org.hibernate.type.TimeType@3f07b12c
2016-09-15 16:54:35,701 DEBUG Adding type registration timestamp -> org.hibernate.type.TimestampType@25bc0606
2016-09-15 16:54:35,701 DEBUG Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@25bc0606
2016-09-15 16:54:35,701 DEBUG Adding type registration java.util.Date -> org.hibernate.type.TimestampType@25bc0606
2016-09-15 16:54:35,703 DEBUG Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@1951b871
2016-09-15 16:54:35,704 DEBUG Adding type registration calendar -> org.hibernate.type.CalendarType@e98770d
2016-09-15 16:54:35,705 DEBUG Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@e98770d
2016-09-15 16:54:35,706 DEBUG Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@e98770d
2016-09-15 16:54:35,707 DEBUG Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@7c098bb3
2016-09-15 16:54:35,708 DEBUG Adding type registration locale -> org.hibernate.type.LocaleType@f001896
2016-09-15 16:54:35,709 DEBUG Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@f001896
2016-09-15 16:54:35,711 DEBUG Adding type registration currency -> org.hibernate.type.CurrencyType@2a7686a7
2016-09-15 16:54:35,711 DEBUG Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@2a7686a7
2016-09-15 16:54:35,713 DEBUG Adding type registration timezone -> org.hibernate.type.TimeZoneType@5644dc81
2016-09-15 16:54:35,715 DEBUG Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@5644dc81
2016-09-15 16:54:35,716 DEBUG Adding type registration class -> org.hibernate.type.ClassType@6bea52d4
2016-09-15 16:54:35,716 DEBUG Adding type registration java.lang.Class -> org.hibernate.type.ClassType@6bea52d4
2016-09-15 16:54:35,720 DEBUG Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@72ea6193
2016-09-15 16:54:35,720 DEBUG Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@72ea6193
2016-09-15 16:54:35,721 DEBUG Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@2a2c13a8
2016-09-15 16:54:35,722 DEBUG Adding type registration pg-uuid -> org.hibernate.type.PostgresUUIDType@3543df7d
2016-09-15 16:54:35,723 DEBUG Adding type registration binary -> org.hibernate.type.BinaryType@3b2c0e88
2016-09-15 16:54:35,724 DEBUG Adding type registration byte[] -> org.hibernate.type.BinaryType@3b2c0e88
2016-09-15 16:54:35,724 DEBUG Adding type registration [B -> org.hibernate.type.BinaryType@3b2c0e88
2016-09-15 16:54:35,725 DEBUG Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@549949be
2016-09-15 16:54:35,725 DEBUG Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@549949be
2016-09-15 16:54:35,725 DEBUG Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@549949be
2016-09-15 16:54:35,729 DEBUG Adding type registration image -> org.hibernate.type.ImageType@39ad977d
2016-09-15 16:54:35,730 DEBUG Adding type registration characters -> org.hibernate.type.CharArrayType@18025ced
2016-09-15 16:54:35,732 DEBUG Adding type registration char[] -> org.hibernate.type.CharArrayType@18025ced
2016-09-15 16:54:35,732 DEBUG Adding type registration [C -> org.hibernate.type.CharArrayType@18025ced
2016-09-15 16:54:35,740 DEBUG Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@77a98a6a
2016-09-15 16:54:35,740 DEBUG Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@77a98a6a
2016-09-15 16:54:35,740 DEBUG Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@77a98a6a
2016-09-15 16:54:35,741 DEBUG Adding type registration text -> org.hibernate.type.TextType@62452cc9
2016-09-15 16:54:35,743 DEBUG Adding type registration ntext -> org.hibernate.type.NTextType@7516e4e5
2016-09-15 16:54:35,747 DEBUG Adding type registration blob -> org.hibernate.type.BlobType@1cbf6e72
2016-09-15 16:54:35,747 DEBUG Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@1cbf6e72
2016-09-15 16:54:35,748 DEBUG Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@4da602fc
2016-09-15 16:54:35,752 DEBUG Adding type registration clob -> org.hibernate.type.ClobType@6cfcd46d
2016-09-15 16:54:35,752 DEBUG Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@6cfcd46d
2016-09-15 16:54:35,759 DEBUG Adding type registration nclob -> org.hibernate.type.NClobType@7c209437
2016-09-15 16:54:35,759 DEBUG Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@7c209437
2016-09-15 16:54:35,761 DEBUG Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@f667fe
2016-09-15 16:54:35,762 DEBUG Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@25e2a451
2016-09-15 16:54:35,767 DEBUG Adding type registration serializable -> org.hibernate.type.SerializableType@42e3ede4
2016-09-15 16:54:35,769 DEBUG Adding type registration object -> org.hibernate.type.ObjectType@42f48531
2016-09-15 16:54:35,770 DEBUG Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@42f48531
2016-09-15 16:54:35,770 DEBUG Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@79145d5a
2016-09-15 16:54:35,770 DEBUG Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@1f2f9244
2016-09-15 16:54:35,771 DEBUG Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@4c4d27c8
2016-09-15 16:54:35,771 DEBUG Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@6821ea29
2016-09-15 16:54:35,772 DEBUG Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@338494fa
2016-09-15 16:54:35,772 DEBUG Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@505a9d7c
2016-09-15 16:54:35,772 DEBUG Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@758c83d8
2016-09-15 16:54:35,773 DEBUG Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@129b4fe2
2016-09-15 16:54:35,791  INFO HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-09-15 16:54:35,797  INFO HHH000412: Hibernate Core {4.3.8.Final}
2016-09-15 16:54:35,799  INFO HHH000206: hibernate.properties not found
2016-09-15 16:54:35,801  INFO HHH000021: Bytecode provider name : javassist
2016-09-15 16:54:35,812 DEBUG Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2016-09-15 16:54:35,813 DEBUG Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2016-09-15 16:54:35,814 DEBUG Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2016-09-15 16:54:35,814 DEBUG Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2016-09-15 16:54:35,820 DEBUG Registering IdentifierGenerator strategy [hilo] -> [org.hibernate.id.TableHiLoGenerator]
2016-09-15 16:54:35,821 DEBUG Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2016-09-15 16:54:35,823 DEBUG Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2016-09-15 16:54:35,824 DEBUG Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2016-09-15 16:54:35,825 DEBUG Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.SequenceGenerator]
2016-09-15 16:54:35,826 DEBUG Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2016-09-15 16:54:35,830 DEBUG Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2016-09-15 16:54:35,831 DEBUG Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2016-09-15 16:54:35,832 DEBUG Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2016-09-15 16:54:35,833 DEBUG Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2016-09-15 16:54:35,834 DEBUG Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2016-09-15 16:54:35,862 DEBUG Adding type registration java.util.Date -> org.hibernate.type.CustomType@2692b61e
2016-09-15 16:54:35,863  INFO HHH000270: Type registration [java.util.Date] overrides previous : org.hibernate.type.TimestampType@25bc0606
2016-09-15 16:54:35,865 DEBUG Adding type registration org.joda.time.DateTime -> org.hibernate.type.CustomType@7b64240d
2016-09-15 16:54:35,866 DEBUG Adding type registration com.peterphi.std.types.Timecode -> org.hibernate.type.CustomType@62fad19
2016-09-15 16:54:35,867 DEBUG Adding type registration com.peterphi.std.types.SampleCount -> org.hibernate.type.CustomType@47dbb1e2
2016-09-15 16:54:35,872 DEBUG Adding type registration org.joda.time.LocalDate -> org.hibernate.type.CustomType@74cadd41
2016-09-15 16:54:35,882 DEBUG Execute called: UPDATE
2016-09-15 16:54:35,893 DEBUG Create JDBC Connection directly: jdbc:hsqldb:mem:testdb
2016-09-15 16:54:36,617 DEBUG Opening jar:file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter5558153670989115255.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,618 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/maven/surefire/surefire-booter/2.19/surefire-booter-2.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,618 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/maven/surefire/surefire-api/2.19/surefire-api-2.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,619 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,619 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,620 DEBUG Opening jar:file:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,853 DEBUG Opening jar:file:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,916 DEBUG Opening jar:file:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,935 DEBUG Opening jar:file:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,936 DEBUG Opening jar:file:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,936 DEBUG Opening jar:file:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,937 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,937 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,937 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,938 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,938 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,938 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,938 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,939 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,940 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,940 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,940 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,940 DEBUG Opening jar:file:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,941 DEBUG Opening jar:file:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,941 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,941 DEBUG Opening jar:file:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,942 DEBUG Opening jar:file:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,942 DEBUG Opening jar:file:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,942 DEBUG Opening jar:file:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,942 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,943 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.19.Final/resteasy-jettison-provider-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,943 DEBUG Opening jar:file:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,943 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,943 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,944 DEBUG Opening jar:file:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,944 DEBUG Opening jar:file:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,944 DEBUG Opening jar:file:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,945 DEBUG Opening jar:file:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,945 DEBUG Opening jar:file:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,945 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,946 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,946 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,946 DEBUG Opening jar:file:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,946 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,947 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,947 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,947 DEBUG Opening jar:file:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,947 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,948 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,948 DEBUG Opening jar:file:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,948 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,949 DEBUG Opening jar:file:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,950 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,950 DEBUG Opening jar:file:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,950 DEBUG Opening jar:file:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,950 DEBUG Opening jar:file:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,951 DEBUG Opening jar:file:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,951 DEBUG Opening jar:file:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,952 DEBUG Opening jar:file:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,952 DEBUG Opening jar:file:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,952 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,953 DEBUG Opening jar:file:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,953 DEBUG Opening jar:file:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,953 DEBUG Opening jar:file:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,954 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,956 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,956 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,957 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,957 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,958 DEBUG Opening jar:file:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,958 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,959 DEBUG Opening jar:file:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,959 DEBUG Opening jar:file:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:36,959 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/maven/surefire/surefire-junit4/2.19/surefire-junit4-2.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-15 16:54:38,184 DEBUG Connected to SA@jdbc:hsqldb:mem:testdb
2016-09-15 16:54:38,184 DEBUG Setting auto commit to false from true
2016-09-15 16:54:38,207 DEBUG Execute liquibase action: UPDATE
2016-09-15 16:54:38,297 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOGLOCK
2016-09-15 16:54:38,299 DEBUG Create Database Lock Table
2016-09-15 16:54:38,323 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID))
2016-09-15 16:54:38,324 DEBUG Created database lock table with name: PUBLIC.DATABASECHANGELOGLOCK
2016-09-15 16:54:38,326 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOGLOCK
2016-09-15 16:54:38,327 DEBUG Initialize Database Lock Table
2016-09-15 16:54:38,329 DEBUG Executing EXECUTE database command: DELETE FROM PUBLIC.DATABASECHANGELOGLOCK
2016-09-15 16:54:38,331 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOGLOCK (ID, LOCKED) VALUES (1, FALSE)
2016-09-15 16:54:38,332 DEBUG Executing QUERY database command: SELECT LOCKED FROM PUBLIC.DATABASECHANGELOGLOCK WHERE ID=1
2016-09-15 16:54:38,333 DEBUG Lock Database
2016-09-15 16:54:38,337 DEBUG Executing UPDATE database command: UPDATE PUBLIC.DATABASECHANGELOGLOCK SET LOCKED = TRUE, LOCKEDBY = 'fe80:0:0:0:ec0e:5dff:fec7:eae4%eth0 (fe80:0:0:0:ec0e:5dff:fec7:eae4%eth0)', LOCKGRANTED = '2016-09-15 16:54:38.333' WHERE ID = 1 AND LOCKED = FALSE
2016-09-15 16:54:38,353  INFO Successfully acquired change log lock
2016-09-15 16:54:38,395 DEBUG Opening file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/liquibase/changelog.xml as liquibase/changelog.xml
2016-09-15 16:54:40,675 DEBUG Resolving XML entity name='null', publicId='null', baseURI='null', systemId='http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd'
2016-09-15 16:54:40,682 DEBUG Found namespace details class liquibase.parser.core.xml.StandardNamespaceDetails for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd
2016-09-15 16:54:40,683 DEBUG Local path for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd is liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-15 16:54:40,685 DEBUG Opening jar:file:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar!/liquibase/parser/core/xml/dbchangelog-3.3.xsd as liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-15 16:54:40,685 DEBUG Successfully loaded XSD from liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-15 16:54:40,884 DEBUG Opening file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/liquibase/000-Original.xml as liquibase/000-Original.xml
2016-09-15 16:54:40,886 DEBUG Resolving XML entity name='null', publicId='null', baseURI='null', systemId='http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd'
2016-09-15 16:54:40,891 DEBUG Found namespace details class liquibase.parser.core.xml.StandardNamespaceDetails for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd
2016-09-15 16:54:40,891 DEBUG Local path for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd is liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-15 16:54:40,894 DEBUG Opening jar:file:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar!/liquibase/parser/core/xml/dbchangelog-3.3.xsd as liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-15 16:54:40,895 DEBUG Successfully loaded XSD from liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-15 16:54:41,083 DEBUG Computed checksum for 1473958481082 as 1d5ee2b9fdad740e2ebd0a9ac26d6542
2016-09-15 16:54:41,099 DEBUG Create Database Change Log Table
2016-09-15 16:54:41,100  INFO Creating database history table with name: PUBLIC.DATABASECHANGELOG
2016-09-15 16:54:41,102 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.DATABASECHANGELOG (ID VARCHAR(255) NOT NULL, AUTHOR VARCHAR(255) NOT NULL, FILENAME VARCHAR(255) NOT NULL, DATEEXECUTED TIMESTAMP NOT NULL, ORDEREXECUTED INT NOT NULL, EXECTYPE VARCHAR(10) NOT NULL, MD5SUM VARCHAR(35), DESCRIPTION VARCHAR(255), COMMENTS VARCHAR(255), TAG VARCHAR(255), LIQUIBASE VARCHAR(20), CONTEXTS VARCHAR(255), LABELS VARCHAR(255))
2016-09-15 16:54:41,104 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOG
2016-09-15 16:54:41,104  INFO Reading from PUBLIC.DATABASECHANGELOG
2016-09-15 16:54:41,105 DEBUG Executing QUERY database command: SELECT * FROM PUBLIC.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2016-09-15 16:54:41,106 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOGLOCK
2016-09-15 16:54:41,159 DEBUG Running Changeset:./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com
2016-09-15 16:54:41,159 DEBUG Changeset ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com
2016-09-15 16:54:41,160 DEBUG Reading ChangeSet: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com
2016-09-15 16:54:41,160 DEBUG Executing Statement: liquibase.statement.core.CreateSequenceStatement@7026b7ee
2016-09-15 16:54:41,160 DEBUG Executing EXECUTE database command: CREATE SEQUENCE PUBLIC.hibernate_sequence AS BIGINT
2016-09-15 16:54:41,161  INFO Sequence hibernate_sequence created
2016-09-15 16:54:41,161  INFO ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com ran successfully in 2ms
2016-09-15 16:54:41,162 DEBUG Executing QUERY database command: SELECT MAX(ORDEREXECUTED) FROM PUBLIC.DATABASECHANGELOG
2016-09-15 16:54:41,164 DEBUG Computed checksum for createSequence:[
    sequenceName="hibernate_sequence"
] as 3b59bc60f6cf5c7c76b020ae29954565
2016-09-15 16:54:41,164 DEBUG Computed checksum for 7:3b59bc60f6cf5c7c76b020ae29954565: as afe897bea20bc08d1681087c94d0967d
2016-09-15 16:54:41,166 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('pk_sequence_on_supported_dbs', 'peter@peterphi.com', './000-Original.xml', NOW, 1, '7:afe897bea20bc08d1681087c94d0967d', 'createSequence', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-15 16:54:41,167 DEBUG Computed checksum for createSequence:[
    sequenceName="hibernate_sequence"
] as 3b59bc60f6cf5c7c76b020ae29954565
2016-09-15 16:54:41,167 DEBUG Computed checksum for 7:3b59bc60f6cf5c7c76b020ae29954565: as afe897bea20bc08d1681087c94d0967d
2016-09-15 16:54:41,167 DEBUG Running Changeset:./000-Original.xml::create_user_account::peter@peterphi.com
2016-09-15 16:54:41,168 DEBUG Changeset ./000-Original.xml::create_user_account::peter@peterphi.com
2016-09-15 16:54:41,168 DEBUG Reading ChangeSet: ./000-Original.xml::create_user_account::peter@peterphi.com
2016-09-15 16:54:41,168 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@5ae95707
2016-09-15 16:54:41,169 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.user_account (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, email VARCHAR(200) NOT NULL, password VARCHAR(60) NOT NULL, name VARCHAR(100) NOT NULL, local_session_id VARCHAR(36), date_format VARCHAR(50) NOT NULL, date_timezone VARCHAR(50) NOT NULL, created_ts BIGINT NOT NULL, last_login_ts BIGINT, CONSTRAINT PK__user_account PRIMARY KEY (id))
2016-09-15 16:54:41,170  INFO Table user_account created
2016-09-15 16:54:41,174 DEBUG Executing Statement: liquibase.statement.core.AddUniqueConstraintStatement@4c48fe92
2016-09-15 16:54:41,176 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_account ADD CONSTRAINT UX_user_account__email UNIQUE (email)
2016-09-15 16:54:41,184  INFO Unique constraint added to user_account(email)
2016-09-15 16:54:41,185  INFO ChangeSet ./000-Original.xml::create_user_account::peter@peterphi.com ran successfully in 17ms
2016-09-15 16:54:41,190 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__user_account"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="email"
            type="VARCHAR(200)"
        ],
        [
            [
                nullable="false"
            ]
            name="password"
            type="VARCH... [truncated in log] as 5e2bb1e3bad2ff4525459176f518ba75
2016-09-15 16:54:41,190 DEBUG Computed checksum for addUniqueConstraint:[
    columnNames="email"
    constraintName="UX_user_account__email"
    deferrable="false"
    disabled="false"
    initiallyDeferred="false"
    tableName="user_account"
] as 6562c099e536b47766ad0e2eab062964
2016-09-15 16:54:41,191 DEBUG Computed checksum for 7:5e2bb1e3bad2ff4525459176f518ba75:7:6562c099e536b47766ad0e2eab062964: as 326b1fbd4a7f1401b1f6fa24d24c6da2
2016-09-15 16:54:41,192 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_user_account', 'peter@peterphi.com', './000-Original.xml', NOW, 2, '7:326b1fbd4a7f1401b1f6fa24d24c6da2', 'createTable, addUniqueConstraint', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-15 16:54:41,193 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__user_account"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="email"
            type="VARCHAR(200)"
        ],
        [
            [
                nullable="false"
            ]
            name="password"
            type="VARCH... [truncated in log] as 5e2bb1e3bad2ff4525459176f518ba75
2016-09-15 16:54:41,194 DEBUG Computed checksum for addUniqueConstraint:[
    columnNames="email"
    constraintName="UX_user_account__email"
    deferrable="false"
    disabled="false"
    initiallyDeferred="false"
    tableName="user_account"
] as 6562c099e536b47766ad0e2eab062964
2016-09-15 16:54:41,194 DEBUG Computed checksum for 7:5e2bb1e3bad2ff4525459176f518ba75:7:6562c099e536b47766ad0e2eab062964: as 326b1fbd4a7f1401b1f6fa24d24c6da2
2016-09-15 16:54:41,194 DEBUG Running Changeset:./000-Original.xml::add_role_definition_table::peter@peterphi.com
2016-09-15 16:54:41,195 DEBUG Changeset ./000-Original.xml::add_role_definition_table::peter@peterphi.com
2016-09-15 16:54:41,195 DEBUG Reading ChangeSet: ./000-Original.xml::add_role_definition_table::peter@peterphi.com
2016-09-15 16:54:41,195 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@15f8701f
2016-09-15 16:54:41,196 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.role_definition (id VARCHAR(255) NOT NULL, caption VARCHAR(1024) NOT NULL, CONSTRAINT PK__role_definition PRIMARY KEY (id))
2016-09-15 16:54:41,196  INFO Table role_definition created
2016-09-15 16:54:41,196 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@6f4ade6e
2016-09-15 16:54:41,197 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.user_has_role (user_id INT NOT NULL, role_id VARCHAR(255) NOT NULL)
2016-09-15 16:54:41,199  INFO Table user_has_role created
2016-09-15 16:54:41,199 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@390877d2
2016-09-15 16:54:41,201 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_has_role ADD CONSTRAINT FK__user_has_role__user_id FOREIGN KEY (user_id) REFERENCES PUBLIC.user_account (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-15 16:54:41,202  INFO Foreign key constraint added to user_has_role (user_id)
2016-09-15 16:54:41,202 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@3ec2ecea
2016-09-15 16:54:41,202 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_has_role ADD CONSTRAINT FK__user_has_role__role_id FOREIGN KEY (role_id) REFERENCES PUBLIC.role_definition (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-15 16:54:41,203  INFO Foreign key constraint added to user_has_role (role_id)
2016-09-15 16:54:41,203 DEBUG Executing Statement: liquibase.statement.core.AddPrimaryKeyStatement@7aa9e414
2016-09-15 16:54:41,203 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_has_role ADD CONSTRAINT PK__user_has_role PRIMARY KEY (user_id, role_id)
2016-09-15 16:54:41,204  INFO Primary key added to user_has_role (user_id, role_id)
2016-09-15 16:54:41,204 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@6b00ad9
2016-09-15 16:54:41,204 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('user-manager-admin', 'User Administrator')
2016-09-15 16:54:41,205  INFO New row inserted into role_definition
2016-09-15 16:54:41,205 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@338cc75f
2016-09-15 16:54:41,205 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('admin', 'Administrator')
2016-09-15 16:54:41,205  INFO New row inserted into role_definition
2016-09-15 16:54:41,205 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@4f453e63
2016-09-15 16:54:41,206 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('framework-admin', 'Application Framework Administrator (for service /guice pages)')
2016-09-15 16:54:41,207  INFO New row inserted into role_definition
2016-09-15 16:54:41,207 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@7c9bdee9
2016-09-15 16:54:41,208 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('framework-info', 'Application Framework User (for service /guice pages)')
2016-09-15 16:54:41,208  INFO New row inserted into role_definition
2016-09-15 16:54:41,208  INFO ChangeSet ./000-Original.xml::add_role_definition_table::peter@peterphi.com ran successfully in 13ms
2016-09-15 16:54:41,209 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__role_definition"
            ]
            name="id"
            type="VARCHAR(255)"
        ],
        [
            [
                nullable="false"
            ]
            name="caption"
            type="VARCHAR(1024)"
        ]
    ]
    tableName="role_definition"
] as 638e00ed1d0eabae58a30d51c1e4e490
2016-09-15 16:54:41,209 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="role_id"
            type="VARCHAR(255)"
        ]
    ]
    tableName="user_has_role"
] as 428f13250051c9ad6d1a2ff308215002
2016-09-15 16:54:41,210 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b0c345c00852105cfccca02f65133554
2016-09-15 16:54:41,211 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="role_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__role_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="role_definition"
] as 7a93c8fbdae38ad478df2a91ae9cf04e
2016-09-15 16:54:41,211 DEBUG Computed checksum for addPrimaryKey:[
    columnNames="user_id, role_id"
    constraintName="PK__user_has_role"
    tableName="user_has_role"
] as 9e5cc2c235e8568629cd6f0387405ff8
2016-09-15 16:54:41,211 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="user-manager-admin"
        ],
        [
            name="caption"
            value="User Administrator"
        ]
    ]
    tableName="role_definition"
] as 74b5a5e1afd8946069d05d2df6ec78ad
2016-09-15 16:54:41,212 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="admin"
        ],
        [
            name="caption"
            value="Administrator"
        ]
    ]
    tableName="role_definition"
] as b597557de631132d4c7162dac336e385
2016-09-15 16:54:41,212 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-admin"
        ],
        [
            name="caption"
            value="Application Framework Administrator (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as a17f55639f9f8c23be54dcd3557016ed
2016-09-15 16:54:41,213 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-info"
        ],
        [
            name="caption"
            value="Application Framework User (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as 2e2fff5e8c7d1bdedcda2f627760e230
2016-09-15 16:54:41,213 DEBUG Computed checksum for 7:638e00ed1d0eabae58a30d51c1e4e490:7:428f13250051c9ad6d1a2ff308215002:7:b0c345c00852105cfccca02f65133554:7:7a93c8fbdae38ad478df2a91ae9cf04e:7:9e5cc2c235e8568629cd6f0387405ff8:7:74b5a5e1afd8946069d05d2df6ec78ad:7:b597557de631132d4c7162dac336e385:7:a17f55639f9f8c23be54dcd3557016ed:7:2e2fff5e8c7d1bdedcda2f627760e230: as 8ddc35e308ab46b077bda7393544fbb6
2016-09-15 16:54:41,214 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('add_role_definition_table', 'peter@peterphi.com', './000-Original.xml', NOW, 3, '7:8ddc35e308ab46b077bda7393544fbb6', 'createTable (x2), addForeignKeyConstraint (x2), addPrimaryKey, insert (x4)', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-15 16:54:41,215 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__role_definition"
            ]
            name="id"
            type="VARCHAR(255)"
        ],
        [
            [
                nullable="false"
            ]
            name="caption"
            type="VARCHAR(1024)"
        ]
    ]
    tableName="role_definition"
] as 638e00ed1d0eabae58a30d51c1e4e490
2016-09-15 16:54:41,216 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="role_id"
            type="VARCHAR(255)"
        ]
    ]
    tableName="user_has_role"
] as 428f13250051c9ad6d1a2ff308215002
2016-09-15 16:54:41,217 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b0c345c00852105cfccca02f65133554
2016-09-15 16:54:41,217 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="role_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__role_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="role_definition"
] as 7a93c8fbdae38ad478df2a91ae9cf04e
2016-09-15 16:54:41,218 DEBUG Computed checksum for addPrimaryKey:[
    columnNames="user_id, role_id"
    constraintName="PK__user_has_role"
    tableName="user_has_role"
] as 9e5cc2c235e8568629cd6f0387405ff8
2016-09-15 16:54:41,218 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="user-manager-admin"
        ],
        [
            name="caption"
            value="User Administrator"
        ]
    ]
    tableName="role_definition"
] as 74b5a5e1afd8946069d05d2df6ec78ad
2016-09-15 16:54:41,218 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="admin"
        ],
        [
            name="caption"
            value="Administrator"
        ]
    ]
    tableName="role_definition"
] as b597557de631132d4c7162dac336e385
2016-09-15 16:54:41,218 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-admin"
        ],
        [
            name="caption"
            value="Application Framework Administrator (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as a17f55639f9f8c23be54dcd3557016ed
2016-09-15 16:54:41,219 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-info"
        ],
        [
            name="caption"
            value="Application Framework User (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as 2e2fff5e8c7d1bdedcda2f627760e230
2016-09-15 16:54:41,219 DEBUG Computed checksum for 7:638e00ed1d0eabae58a30d51c1e4e490:7:428f13250051c9ad6d1a2ff308215002:7:b0c345c00852105cfccca02f65133554:7:7a93c8fbdae38ad478df2a91ae9cf04e:7:9e5cc2c235e8568629cd6f0387405ff8:7:74b5a5e1afd8946069d05d2df6ec78ad:7:b597557de631132d4c7162dac336e385:7:a17f55639f9f8c23be54dcd3557016ed:7:2e2fff5e8c7d1bdedcda2f627760e230: as 8ddc35e308ab46b077bda7393544fbb6
2016-09-15 16:54:41,219 DEBUG Running Changeset:./000-Original.xml::create_oauth_tables::peter@peterphi.com
2016-09-15 16:54:41,219 DEBUG Changeset ./000-Original.xml::create_oauth_tables::peter@peterphi.com
2016-09-15 16:54:41,219 DEBUG Reading ChangeSet: ./000-Original.xml::create_oauth_tables::peter@peterphi.com
2016-09-15 16:54:41,220 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@2416498e
2016-09-15 16:54:41,220 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.oauth_service (id VARCHAR(36) NOT NULL, owner_id INT NOT NULL, client_name VARCHAR(1000) NOT NULL, client_endpoints VARCHAR(2000) NOT NULL, client_secret VARCHAR(36) NOT NULL, is_enabled BOOLEAN NOT NULL, created_ts BIGINT NOT NULL, updated_ts BIGINT NOT NULL, CONSTRAINT PK__oauth_service PRIMARY KEY (id))
2016-09-15 16:54:41,221  INFO Table oauth_service created
2016-09-15 16:54:41,222 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@5e746d37
2016-09-15 16:54:41,222 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.oauth_session_context (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, user_id INT NOT NULL, service_id VARCHAR(36) NOT NULL, approved_scope VARCHAR(1000) NOT NULL, is_active BOOLEAN NOT NULL, created_ts BIGINT NOT NULL, updated_ts BIGINT NOT NULL, CONSTRAINT PK__oauth_session_context PRIMARY KEY (id))
2016-09-15 16:54:41,223  INFO Table oauth_session_context created
2016-09-15 16:54:41,224 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@46cb98a3
2016-09-15 16:54:41,224 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.oauth_session (id VARCHAR(36) NOT NULL, context_id INT NOT NULL, authorisation_code VARCHAR(36), current_token VARCHAR(36), initiator_detail VARCHAR(8192), is_active BOOLEAN NOT NULL, expires_ts BIGINT NOT NULL, created_ts BIGINT NOT NULL, updated_ts BIGINT NOT NULL, CONSTRAINT PK__oauth_session PRIMARY KEY (id))
2016-09-15 16:54:41,225  INFO Table oauth_session created
2016-09-15 16:54:41,225  INFO ChangeSet ./000-Original.xml::create_oauth_tables::peter@peterphi.com ran successfully in 6ms
2016-09-15 16:54:41,241 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_service"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="owner_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="client_name"
            type="VARCHAR(1000)"
        ],
      ... [truncated in log] as d652f2725d636decde33dc47c5f13555
2016-09-15 16:54:41,247 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session_context"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="service_id"
            type="V... [truncated in log] as 2f1d811927e50ec7baf0d3d048a8df42
2016-09-15 16:54:41,248 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="context_id"
            type="INT"
        ],
        [
            [
                nullable="true"
            ]
            name="authorisation_code"
            type="VARCHAR(36)"
        ],
... [truncated in log] as 74c0354c2ccc797443a81bb8c3a1db5e
2016-09-15 16:54:41,248 DEBUG Computed checksum for 7:d652f2725d636decde33dc47c5f13555:7:2f1d811927e50ec7baf0d3d048a8df42:7:74c0354c2ccc797443a81bb8c3a1db5e: as badb1c0a44480c1bfdc74fac90e2fe7b
2016-09-15 16:54:41,249 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_oauth_tables', 'peter@peterphi.com', './000-Original.xml', NOW, 4, '7:badb1c0a44480c1bfdc74fac90e2fe7b', 'createTable (x3)', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-15 16:54:41,264 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_service"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="owner_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="client_name"
            type="VARCHAR(1000)"
        ],
      ... [truncated in log] as d652f2725d636decde33dc47c5f13555
2016-09-15 16:54:41,265 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session_context"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="service_id"
            type="V... [truncated in log] as 2f1d811927e50ec7baf0d3d048a8df42
2016-09-15 16:54:41,266 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="context_id"
            type="INT"
        ],
        [
            [
                nullable="true"
            ]
            name="authorisation_code"
            type="VARCHAR(36)"
        ],
... [truncated in log] as 74c0354c2ccc797443a81bb8c3a1db5e
2016-09-15 16:54:41,266 DEBUG Computed checksum for 7:d652f2725d636decde33dc47c5f13555:7:2f1d811927e50ec7baf0d3d048a8df42:7:74c0354c2ccc797443a81bb8c3a1db5e: as badb1c0a44480c1bfdc74fac90e2fe7b
2016-09-15 16:54:41,266 DEBUG Running Changeset:./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com
2016-09-15 16:54:41,266 DEBUG Changeset ./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com
2016-09-15 16:54:41,267 DEBUG Reading ChangeSet: ./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com
2016-09-15 16:54:41,267 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@67d86804
2016-09-15 16:54:41,267 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_service ADD CONSTRAINT FK__oauth_service__user_id FOREIGN KEY (owner_id) REFERENCES PUBLIC.user_account (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-15 16:54:41,269  INFO Foreign key constraint added to oauth_service (owner_id)
2016-09-15 16:54:41,269 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@7ea899a9
2016-09-15 16:54:41,269 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_session_context ADD CONSTRAINT FK__oauth_session_context__service_id FOREIGN KEY (service_id) REFERENCES PUBLIC.oauth_service (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-15 16:54:41,271  INFO Foreign key constraint added to oauth_session_context (service_id)
2016-09-15 16:54:41,271 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@756b58a7
2016-09-15 16:54:41,271 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_session_context ADD CONSTRAINT FK__oauth_session_context__user_id FOREIGN KEY (user_id) REFERENCES PUBLIC.user_account (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-15 16:54:41,272  INFO Foreign key constraint added to oauth_session_context (user_id)
2016-09-15 16:54:41,273 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@21c7208d
2016-09-15 16:54:41,273 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_session ADD CONSTRAINT FK__oauth_session__context_id FOREIGN KEY (context_id) REFERENCES PUBLIC.oauth_session_context (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-15 16:54:41,274  INFO Foreign key constraint added to oauth_session (context_id)
2016-09-15 16:54:41,274  INFO ChangeSet ./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com ran successfully in 8ms
2016-09-15 16:54:41,275 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-15 16:54:41,276 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-15 16:54:41,277 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as 6dec6bc5a8c9bbae5cc11997a3b63c7a
2016-09-15 16:54:41,277 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-15 16:54:41,277 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:6dec6bc5a8c9bbae5cc11997a3b63c7a:7:c968be166911e02badf53b57ba98c43a: as 688c5e190db7b4699d96b7916ec2536d
2016-09-15 16:54:41,278 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_oauth_constraints__cascade', 'peter@peterphi.com', './000-Original.xml', NOW, 5, '7:688c5e190db7b4699d96b7916ec2536d', 'addForeignKeyConstraint (x4)', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-15 16:54:41,279 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-15 16:54:41,279 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-15 16:54:41,280 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as 6dec6bc5a8c9bbae5cc11997a3b63c7a
2016-09-15 16:54:41,292 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-15 16:54:41,294 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:6dec6bc5a8c9bbae5cc11997a3b63c7a:7:c968be166911e02badf53b57ba98c43a: as 688c5e190db7b4699d96b7916ec2536d
2016-09-15 16:54:41,294 DEBUG Running Changeset:./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com
2016-09-15 16:54:41,294 DEBUG Changeset ./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com
2016-09-15 16:54:41,294  INFO Marking ChangeSet: ./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com ran despite precondition failure due to onFail='MARK_RAN': 
          /liquibase/changelog.xml : DBMS Precondition failed: expected mssql, got hsqldb

2016-09-15 16:54:41,295 DEBUG Skipping ChangeSet: ./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com
2016-09-15 16:54:41,295 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-15 16:54:41,296 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-15 16:54:41,296 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="NO ACTION"
    onUpdate="NO ACTION"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as e1c12a2c3e2c50838fb73d0adfe933d2
2016-09-15 16:54:41,298 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-15 16:54:41,299 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:e1c12a2c3e2c50838fb73d0adfe933d2:7:c968be166911e02badf53b57ba98c43a: as 082498e3a3de1f4a79a3a540ef1ea4eb
2016-09-15 16:54:41,300 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_oauth_constraints__sqlserver', 'peter@peterphi.com', './000-Original.xml', NOW, 6, '7:082498e3a3de1f4a79a3a540ef1ea4eb', 'addForeignKeyConstraint (x4)', '', 'MARK_RAN', NULL, NULL, '3.4.1')
2016-09-15 16:54:41,301 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-15 16:54:41,302 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-15 16:54:41,302 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="NO ACTION"
    onUpdate="NO ACTION"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as e1c12a2c3e2c50838fb73d0adfe933d2
2016-09-15 16:54:41,312 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-15 16:54:41,312 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:e1c12a2c3e2c50838fb73d0adfe933d2:7:c968be166911e02badf53b57ba98c43a: as 082498e3a3de1f4a79a3a540ef1ea4eb
2016-09-15 16:54:41,313 DEBUG Release Database Lock
2016-09-15 16:54:41,313 DEBUG Executing UPDATE database command: UPDATE PUBLIC.DATABASECHANGELOGLOCK SET LOCKED = FALSE, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1
2016-09-15 16:54:41,314  INFO Successfully released change log lock
2016-09-15 16:54:41,315 DEBUG Register for shutdown: com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@7eb6b6b6
2016-09-15 16:54:41,324 DEBUG Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2016-09-15 16:54:41,325 DEBUG Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2016-09-15 16:54:41,327 DEBUG Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2016-09-15 16:54:41,340 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5] -> [org.hibernate.dialect.MySQL5Dialect] (replacing [org.hibernate.dialect.MySQL5Dialect])
2016-09-15 16:54:41,340 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5InnoDB] -> [org.hibernate.dialect.MySQL5InnoDBDialect] (replacing [org.hibernate.dialect.MySQL5InnoDBDialect])
2016-09-15 16:54:41,388 DEBUG Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2016-09-15 16:54:41,389 DEBUG Preparing to build session factory with filters : {}
2016-09-15 16:54:41,397  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
2016-09-15 16:54:41,398  INFO HHH000401: using driver [org.hsqldb.jdbcDriver] at URL [jdbc:hsqldb:mem:testdb]
2016-09-15 16:54:41,398  INFO HHH000046: Connection properties: {user=sa, password=, readOnly=false}
2016-09-15 16:54:41,399  INFO HHH000006: Autocommit mode: false
2016-09-15 16:54:41,402  INFO HHH000115: Hibernate connection pool size: 20 (min=1)
2016-09-15 16:54:41,402 DEBUG Initializing Connection pool with 1 Connections
2016-09-15 16:54:41,410 DEBUG Database ->
       name : HSQL Database Engine
    version : 2.3.2
      major : 2
      minor : 3
2016-09-15 16:54:41,410 DEBUG Driver ->
       name : HSQL Database Engine Driver
    version : 2.3.2
      major : 2
      minor : 3
2016-09-15 16:54:41,410 DEBUG JDBC version : 4.0
2016-09-15 16:54:41,412 DEBUG Unexpected error trying to gauge level of JDBC REF_CURSOR support : null
2016-09-15 16:54:41,437  INFO HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2016-09-15 16:54:41,475 DEBUG Processing hbm.xml files
2016-09-15 16:54:41,475 DEBUG Process annotated classes
2016-09-15 16:54:41,479 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-15 16:54:41,499 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-15 16:54:41,500 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-15 16:54:41,506 DEBUG Import with entity name oauth_session
2016-09-15 16:54:41,510 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionEntity on table oauth_session
2016-09-15 16:54:41,539 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,543 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-15 16:54:41,545 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:id]
2016-09-15 16:54:41,546 DEBUG building SimpleValue for id
2016-09-15 16:54:41,547 DEBUG Building property id
2016-09-15 16:54:41,551 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,551 DEBUG MetadataSourceProcessor property alive with lazy=false
2016-09-15 16:54:41,551 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:alive]
2016-09-15 16:54:41,551 DEBUG building SimpleValue for alive
2016-09-15 16:54:41,551 DEBUG Building property alive
2016-09-15 16:54:41,551 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=authorisation_code, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,552 DEBUG MetadataSourceProcessor property authorisationCode with lazy=false
2016-09-15 16:54:41,552 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:authorisationCode]
2016-09-15 16:54:41,552 DEBUG building SimpleValue for authorisationCode
2016-09-15 16:54:41,552 DEBUG Building property authorisationCode
2016-09-15 16:54:41,553 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='context_id', referencedColumn='', mappedBy=''}
2016-09-15 16:54:41,553 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=context, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,558 DEBUG Building property context
2016-09-15 16:54:41,558 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,559 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-15 16:54:41,559 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:created]
2016-09-15 16:54:41,559 DEBUG building SimpleValue for created
2016-09-15 16:54:41,559 DEBUG Building property created
2016-09-15 16:54:41,559 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=expires_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,559 DEBUG MetadataSourceProcessor property expires with lazy=false
2016-09-15 16:54:41,560 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:expires]
2016-09-15 16:54:41,560 DEBUG building SimpleValue for expires
2016-09-15 16:54:41,560 DEBUG Building property expires
2016-09-15 16:54:41,560 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=initiator_detail, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,561 DEBUG MetadataSourceProcessor property initiator with lazy=false
2016-09-15 16:54:41,561 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:initiator]
2016-09-15 16:54:41,561 DEBUG building SimpleValue for initiator
2016-09-15 16:54:41,561 DEBUG Building property initiator
2016-09-15 16:54:41,561 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=current_token, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,561 DEBUG MetadataSourceProcessor property token with lazy=false
2016-09-15 16:54:41,562 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:token]
2016-09-15 16:54:41,562 DEBUG building SimpleValue for token
2016-09-15 16:54:41,562 DEBUG Building property token
2016-09-15 16:54:41,562 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,562 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-09-15 16:54:41,562 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:updated]
2016-09-15 16:54:41,562 DEBUG building SimpleValue for updated
2016-09-15 16:54:41,562 DEBUG Building property updated
2016-09-15 16:54:41,566 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.RoleEntity
2016-09-15 16:54:41,566 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-15 16:54:41,566 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-15 16:54:41,566 DEBUG Import with entity name role_definition
2016-09-15 16:54:41,575 DEBUG Bind entity com.peterphi.usermanager.db.entity.RoleEntity on table role_definition
2016-09-15 16:54:41,582 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,582 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-15 16:54:41,582 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:id]
2016-09-15 16:54:41,582 DEBUG building SimpleValue for id
2016-09-15 16:54:41,582 DEBUG Building property id
2016-09-15 16:54:41,583 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=caption, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,583 DEBUG MetadataSourceProcessor property caption with lazy=false
2016-09-15 16:54:41,583 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:caption]
2016-09-15 16:54:41,583 DEBUG building SimpleValue for caption
2016-09-15 16:54:41,583 DEBUG Building property caption
2016-09-15 16:54:41,584 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,592 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,593 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=members_KEY, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,593 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='members_KEY', referencedColumn='null', mappedBy='null'}
2016-09-15 16:54:41,594 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='role_id', referencedColumn='id', mappedBy=''}
2016-09-15 16:54:41,594 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='id', mappedBy=''}
2016-09-15 16:54:41,594 DEBUG Collection role: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-15 16:54:41,596 DEBUG Building property members
2016-09-15 16:54:41,596 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-15 16:54:41,597 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-15 16:54:41,597 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-15 16:54:41,597 DEBUG Import with entity name oauth_service
2016-09-15 16:54:41,597 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthServiceEntity on table oauth_service
2016-09-15 16:54:41,599 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,599 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-15 16:54:41,599 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:id]
2016-09-15 16:54:41,599 DEBUG building SimpleValue for id
2016-09-15 16:54:41,599 DEBUG Building property id
2016-09-15 16:54:41,599 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_secret, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,600 DEBUG MetadataSourceProcessor property clientSecret with lazy=false
2016-09-15 16:54:41,600 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:clientSecret]
2016-09-15 16:54:41,600 DEBUG building SimpleValue for clientSecret
2016-09-15 16:54:41,600 DEBUG Building property clientSecret
2016-09-15 16:54:41,600 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,600 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-15 16:54:41,600 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:created]
2016-09-15 16:54:41,600 DEBUG building SimpleValue for created
2016-09-15 16:54:41,600 DEBUG Building property created
2016-09-15 16:54:41,601 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=is_enabled, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,601 DEBUG MetadataSourceProcessor property enabled with lazy=false
2016-09-15 16:54:41,601 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:enabled]
2016-09-15 16:54:41,601 DEBUG building SimpleValue for enabled
2016-09-15 16:54:41,601 DEBUG Building property enabled
2016-09-15 16:54:41,601 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_endpoints, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,601 DEBUG MetadataSourceProcessor property endpoints with lazy=false
2016-09-15 16:54:41,601 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:endpoints]
2016-09-15 16:54:41,601 DEBUG building SimpleValue for endpoints
2016-09-15 16:54:41,601 DEBUG Building property endpoints
2016-09-15 16:54:41,601 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_name, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,601 DEBUG MetadataSourceProcessor property name with lazy=false
2016-09-15 16:54:41,602 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:name]
2016-09-15 16:54:41,602 DEBUG building SimpleValue for name
2016-09-15 16:54:41,602 DEBUG Building property name
2016-09-15 16:54:41,602 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='owner_id', referencedColumn='', mappedBy=''}
2016-09-15 16:54:41,602 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=owner, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,602 DEBUG Building property owner
2016-09-15 16:54:41,602 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,602 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-09-15 16:54:41,602 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:updated]
2016-09-15 16:54:41,602 DEBUG building SimpleValue for updated
2016-09-15 16:54:41,602 DEBUG Building property updated
2016-09-15 16:54:41,602 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:41,603 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-15 16:54:41,603 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-15 16:54:41,603 DEBUG Import with entity name user_account
2016-09-15 16:54:41,603 DEBUG Bind entity com.peterphi.usermanager.db.entity.UserEntity on table user_account
2016-09-15 16:54:41,606 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,606 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-15 16:54:41,606 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:id]
2016-09-15 16:54:41,606 DEBUG building SimpleValue for id
2016-09-15 16:54:41,606 DEBUG Building property id
2016-09-15 16:54:41,606 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,606 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-15 16:54:41,606 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:created]
2016-09-15 16:54:41,606 DEBUG building SimpleValue for created
2016-09-15 16:54:41,606 DEBUG Building property created
2016-09-15 16:54:41,607 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_format, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,607 DEBUG MetadataSourceProcessor property dateFormat with lazy=false
2016-09-15 16:54:41,607 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:dateFormat]
2016-09-15 16:54:41,607 DEBUG building SimpleValue for dateFormat
2016-09-15 16:54:41,607 DEBUG Building property dateFormat
2016-09-15 16:54:41,607 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=email, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,607 DEBUG MetadataSourceProcessor property email with lazy=false
2016-09-15 16:54:41,607 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:email]
2016-09-15 16:54:41,607 DEBUG building SimpleValue for email
2016-09-15 16:54:41,607 DEBUG Building property email
2016-09-15 16:54:41,609 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=last_login_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,609 DEBUG MetadataSourceProcessor property lastLogin with lazy=false
2016-09-15 16:54:41,609 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:lastLogin]
2016-09-15 16:54:41,609 DEBUG building SimpleValue for lastLogin
2016-09-15 16:54:41,609 DEBUG Building property lastLogin
2016-09-15 16:54:41,609 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=name, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,609 DEBUG MetadataSourceProcessor property name with lazy=false
2016-09-15 16:54:41,609 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:name]
2016-09-15 16:54:41,609 DEBUG building SimpleValue for name
2016-09-15 16:54:41,610 DEBUG Building property name
2016-09-15 16:54:41,610 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=password, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,610 DEBUG MetadataSourceProcessor property password with lazy=false
2016-09-15 16:54:41,610 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:password]
2016-09-15 16:54:41,610 DEBUG building SimpleValue for password
2016-09-15 16:54:41,610 DEBUG Building property password
2016-09-15 16:54:41,610 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,610 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,610 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=roles_KEY, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,610 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='roles_KEY', referencedColumn='null', mappedBy='null'}
2016-09-15 16:54:41,611 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-09-15 16:54:41,611 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-09-15 16:54:41,611 DEBUG Collection role: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-15 16:54:41,611 DEBUG Building property roles
2016-09-15 16:54:41,611 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=local_session_id, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,611 DEBUG MetadataSourceProcessor property sessionReconnectKey with lazy=false
2016-09-15 16:54:41,611 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:sessionReconnectKey]
2016-09-15 16:54:41,611 DEBUG building SimpleValue for sessionReconnectKey
2016-09-15 16:54:41,611 DEBUG Building property sessionReconnectKey
2016-09-15 16:54:41,611 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_timezone, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,611 DEBUG MetadataSourceProcessor property timeZone with lazy=false
2016-09-15 16:54:41,611 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:timeZone]
2016-09-15 16:54:41,612 DEBUG building SimpleValue for timeZone
2016-09-15 16:54:41,612 DEBUG Building property timeZone
2016-09-15 16:54:41,612 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-15 16:54:41,612 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-15 16:54:41,612 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-15 16:54:41,612 DEBUG Import with entity name oauth_session_context
2016-09-15 16:54:41,612 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity on table oauth_session_context
2016-09-15 16:54:41,614 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,614 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-15 16:54:41,614 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:id]
2016-09-15 16:54:41,614 DEBUG building SimpleValue for id
2016-09-15 16:54:41,614 DEBUG Building property id
2016-09-15 16:54:41,614 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,614 DEBUG MetadataSourceProcessor property active with lazy=false
2016-09-15 16:54:41,614 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:active]
2016-09-15 16:54:41,615 DEBUG building SimpleValue for active
2016-09-15 16:54:41,615 DEBUG Building property active
2016-09-15 16:54:41,615 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,615 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-15 16:54:41,615 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:created]
2016-09-15 16:54:41,615 DEBUG building SimpleValue for created
2016-09-15 16:54:41,615 DEBUG Building property created
2016-09-15 16:54:41,615 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=approved_scope, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,615 DEBUG MetadataSourceProcessor property scope with lazy=false
2016-09-15 16:54:41,616 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:scope]
2016-09-15 16:54:41,616 DEBUG building SimpleValue for scope
2016-09-15 16:54:41,616 DEBUG Building property scope
2016-09-15 16:54:41,616 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='service_id', referencedColumn='', mappedBy=''}
2016-09-15 16:54:41,616 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=service, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,616 DEBUG Building property service
2016-09-15 16:54:41,616 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,616 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-09-15 16:54:41,617 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:updated]
2016-09-15 16:54:41,617 DEBUG building SimpleValue for updated
2016-09-15 16:54:41,617 DEBUG Building property updated
2016-09-15 16:54:41,617 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='', mappedBy=''}
2016-09-15 16:54:41,617 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=user, insertable=true, updatable=true, unique=false}
2016-09-15 16:54:41,617 DEBUG Building property user
2016-09-15 16:54:41,618 DEBUG Starting fillSimpleValue for id
2016-09-15 16:54:41,618 DEBUG Starting fillSimpleValue for alive
2016-09-15 16:54:41,618 DEBUG Starting fillSimpleValue for authorisationCode
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for created
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for expires
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for initiator
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for token
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for updated
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for id
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for caption
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for id
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for clientSecret
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for created
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for enabled
2016-09-15 16:54:41,619 DEBUG Starting fillSimpleValue for endpoints
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for name
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for updated
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for id
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for created
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for dateFormat
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for email
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for lastLogin
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for name
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for password
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for sessionReconnectKey
2016-09-15 16:54:41,620 DEBUG Starting fillSimpleValue for timeZone
2016-09-15 16:54:41,621 DEBUG Starting fillSimpleValue for id
2016-09-15 16:54:41,621 DEBUG Starting fillSimpleValue for active
2016-09-15 16:54:41,621 DEBUG Starting fillSimpleValue for created
2016-09-15 16:54:41,621 DEBUG Starting fillSimpleValue for scope
2016-09-15 16:54:41,621 DEBUG Starting fillSimpleValue for updated
2016-09-15 16:54:41,622 DEBUG Processing fk mappings (*ToOne and JoinedSubclass)
2016-09-15 16:54:41,627 DEBUG Processing extends queue
2016-09-15 16:54:41,627 DEBUG Processing extends queue
2016-09-15 16:54:41,627 DEBUG Processing collection mappings
2016-09-15 16:54:41,627 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-15 16:54:41,627 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-15 16:54:41,630 DEBUG Mapped collection key: role_id, element: user_id
2016-09-15 16:54:41,631 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-15 16:54:41,632 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-15 16:54:41,632 DEBUG Retrieving property com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-15 16:54:41,632 DEBUG Mapped collection key: user_id, element: role_id
2016-09-15 16:54:41,632 DEBUG Processing native query and ResultSetMapping mappings
2016-09-15 16:54:41,632 DEBUG Processing association property references
2016-09-15 16:54:41,632 DEBUG Creating tables' unique integer identifiers
2016-09-15 16:54:41,632 DEBUG Processing foreign key constraints
2016-09-15 16:54:41,633 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:41,633 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-15 16:54:41,633 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-15 16:54:41,634 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:41,634 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:41,634 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.RoleEntity
2016-09-15 16:54:41,637 DEBUG No JtaPlatform was specified, checking resolver
2016-09-15 16:54:41,637 DEBUG No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]
2016-09-15 16:54:41,641 DEBUG Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2016-09-15 16:54:41,643 DEBUG Automatic flush during beforeCompletion(): disabled
2016-09-15 16:54:41,644 DEBUG Automatic session close at end of transaction: disabled
2016-09-15 16:54:41,645 DEBUG JDBC batch size: 15
2016-09-15 16:54:41,645 DEBUG JDBC batch updates for versioned data: disabled
2016-09-15 16:54:41,645 DEBUG Scrollable result sets: enabled
2016-09-15 16:54:41,645 DEBUG Wrap result sets: disabled
2016-09-15 16:54:41,645 DEBUG JDBC3 getGeneratedKeys(): enabled
2016-09-15 16:54:41,645 DEBUG multi-tenancy strategy : NONE
2016-09-15 16:54:41,645 DEBUG Connection release mode: auto
2016-09-15 16:54:41,645  INFO HHH000399: Using default transaction strategy (direct JDBC transactions)
2016-09-15 16:54:41,648 DEBUG Using BatchFetchStyle : LEGACY
2016-09-15 16:54:41,648 DEBUG Default batch fetch size: 1
2016-09-15 16:54:41,648 DEBUG Generate SQL with comments: disabled
2016-09-15 16:54:41,648 DEBUG Order SQL updates by primary key: disabled
2016-09-15 16:54:41,648 DEBUG Order SQL inserts for batching: disabled
2016-09-15 16:54:41,649 DEBUG Default null ordering: none
2016-09-15 16:54:41,649 DEBUG Query translator: org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory
2016-09-15 16:54:41,651  INFO HHH000397: Using ASTQueryTranslatorFactory
2016-09-15 16:54:41,651 DEBUG Query language substitutions: {}
2016-09-15 16:54:41,651 DEBUG JPA-QL strict compliance: disabled
2016-09-15 16:54:41,651 DEBUG Second-level cache: enabled
2016-09-15 16:54:41,651 DEBUG Query cache: disabled
2016-09-15 16:54:41,652 DEBUG Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2016-09-15 16:54:41,655 DEBUG Optimize cache for minimal puts: disabled
2016-09-15 16:54:41,655 DEBUG Structured second-level cache entries: disabled
2016-09-15 16:54:41,655 DEBUG Second-level cache direct-reference entries: disabled
2016-09-15 16:54:41,655 DEBUG Automatic eviction of collection cache: disabled
2016-09-15 16:54:41,655 DEBUG Statistics: disabled
2016-09-15 16:54:41,655 DEBUG Deleted entity synthetic identifier rollback: disabled
2016-09-15 16:54:41,655 DEBUG Default entity-mode: pojo
2016-09-15 16:54:41,655 DEBUG Named query checking : enabled
2016-09-15 16:54:41,656 DEBUG Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2016-09-15 16:54:41,656 DEBUG Allow initialization of lazy state outside session : : disabled
2016-09-15 16:54:41,656 DEBUG JTA Track by Thread: enabled
2016-09-15 16:54:41,677 DEBUG Building session factory
2016-09-15 16:54:41,686 DEBUG Session factory constructed with filter configurations : {}
2016-09-15 16:54:41,687 DEBUG Instantiating session factory with properties: {liquibase.action=UPDATE, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.connection.password=, sun.boot.library.path=/usr/lib/jvm/java-8-oracle/jre/lib/amd64, java.vm.version=25.31-b07, hibernate.connection.username=sa, java.vm.vendor=Oracle Corporation, java.vendor.url=http://java.oracle.com/, path.separator=:, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=US, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.allow-hbm2ddl-create=true, java.runtime.version=1.8.0_31-b13, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, basedir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.current_session_context_class=thread, java.endorsed.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/endorsed, os.arch=amd64, surefire.real.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter5558153670989115255.jar, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Oracle Corporation, os.name=Linux, sun.jnu.encoding=UTF-8, java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib, surefire.test.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.19.Final/resteasy-jettison-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.connection.readOnly=false, java.specification.name=Java Platform API Specification, java.class.version=52.0, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, os.version=3.13.0-40-generic, user.home=/home/travis, user.timezone=Etc/UTC, java.awt.printerjob=sun.print.PSPrinterJob, java.specification.version=1.8, file.encoding=UTF-8, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, user.name=travis, java.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.19.Final/resteasy-jettison-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.bytecode.use_reflection_optimizer=false, hibernate.show_sql=false, java.vm.specification.version=1.8, sun.arch.data.model=64, java.home=/usr/lib/jvm/java-8-oracle/jre, sun.java.command=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter5558153670989115255.jar /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire1147262101258552881tmp /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire_115825432927039857960tmp, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.connection.url=jdbc:hsqldb:mem:testdb, java.specification.vendor=Oracle Corporation, user.language=en, awt.toolkit=sun.awt.X11.XToolkit, java.vm.info=mixed mode, java.version=1.8.0_31, java.ext.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/ext:/usr/java/packages/lib/ext, sun.boot.class.path=/usr/lib/jvm/java-8-oracle/jre/lib/resources.jar:/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar:/usr/lib/jvm/java-8-oracle/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jsse.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jce.jar:/usr/lib/jvm/java-8-oracle/jre/lib/charsets.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jfr.jar:/usr/lib/jvm/java-8-oracle/jre/classes, java.vendor=Oracle Corporation, localRepository=/home/travis/.m2/repository, file.separator=/, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, sun.cpu.endian=little, sun.io.unicode.encoding=UnicodeLittle, liquibase.changelog=/liquibase/changelog.xml, hibernate.properties=embedded, sun.cpu.isalist=}
2016-09-15 16:54:41,702 DEBUG Unable to acquire Bean Validation ValidatorFactory, skipping activation
2016-09-15 16:54:41,702 DEBUG Skipping JACC integration as it was not enabled
2016-09-15 16:54:41,703 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-15 16:54:41,704 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-15 16:54:41,704 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-15 16:54:41,705 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-15 16:54:41,705 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-15 16:54:41,875 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-15 16:54:41,875 DEBUG  Row insert: insert into user_has_role (user_id, role_id) values (?, ?)
2016-09-15 16:54:41,875 DEBUG  Row update: update user_has_role set role_id=? where user_id=? and role_id=?
2016-09-15 16:54:41,878 DEBUG  Row delete: delete from user_has_role where user_id=? and role_id=?
2016-09-15 16:54:41,878 DEBUG  One-shot delete: delete from user_has_role where user_id=?
2016-09-15 16:54:41,878 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-15 16:54:41,878 DEBUG  Row insert: insert into user_has_role (role_id, user_id) values (?, ?)
2016-09-15 16:54:41,878 DEBUG  Row update: update user_has_role set user_id=? where role_id=? and user_id=?
2016-09-15 16:54:41,878 DEBUG  Row delete: delete from user_has_role where role_id=? and user_id=?
2016-09-15 16:54:41,878 DEBUG  One-shot delete: delete from user_has_role where role_id=?
2016-09-15 16:54:41,914 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:41,914 DEBUG  Version select: select id from user_account where id =?
2016-09-15 16:54:41,914 DEBUG  Snapshot select: select userentity_.id, userentity_.created_ts as created_2_4_, userentity_.date_format as date_for3_4_, userentity_.email as email4_4_, userentity_.last_login_ts as last_log5_4_, userentity_.name as name6_4_, userentity_.password as password7_4_, userentity_.local_session_id as local_se8_4_, userentity_.date_timezone as date_tim9_4_ from user_account userentity_ where userentity_.id=?
2016-09-15 16:54:41,914 DEBUG  Insert 0: insert into user_account (created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-09-15 16:54:41,914 DEBUG  Update 0: update user_account set created_ts=?, date_format=?, email=?, last_login_ts=?, name=?, password=?, local_session_id=?, date_timezone=? where id=?
2016-09-15 16:54:41,914 DEBUG  Delete 0: delete from user_account where id=?
2016-09-15 16:54:41,914 DEBUG  Identity insert: insert into user_account (id, created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone) values (default, ?, ?, ?, ?, ?, ?, ?, ?)
2016-09-15 16:54:41,965 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1ee47d9e]
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : created
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : email
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : name
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : password
2016-09-15 16:54:41,966 DEBUG Visiting attribute path : roles
2016-09-15 16:54:41,970 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:41,984 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:41,985 DEBUG Building LoadPlan...
2016-09-15 16:54:41,999 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,017 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,019 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [NONE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-15 16:54:42,019 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@767599a7]
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,020 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,020 DEBUG Building LoadPlan...
2016-09-15 16:54:42,020 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,020 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,021 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-15 16:54:42,021 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@25d0cb3a]
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,021 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,022 DEBUG Building LoadPlan...
2016-09-15 16:54:42,022 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,022 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,022 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,036 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6e3eb0cd]
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,037 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,037 DEBUG Building LoadPlan...
2016-09-15 16:54:42,037 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,038 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,038 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_NOWAIT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,038 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@659feb22]
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,038 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,038 DEBUG Building LoadPlan...
2016-09-15 16:54:42,038 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,039 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,039 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_SKIPLOCKED]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,039 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2f4b98f6]
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,039 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,040 DEBUG Building LoadPlan...
2016-09-15 16:54:42,040 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,040 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,040 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [FORCE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,040 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58c1da09]
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,040 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,040 DEBUG Building LoadPlan...
2016-09-15 16:54:42,040 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,045 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,045 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,045 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58d6e55a]
2016-09-15 16:54:42,045 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,045 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,045 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,046 DEBUG Building LoadPlan...
2016-09-15 16:54:42,046 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,046 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,046 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_WRITE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,046 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@235d659c]
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,046 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,047 DEBUG Building LoadPlan...
2016-09-15 16:54:42,047 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,047 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,047 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-15 16:54:42,047 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2da16263]
2016-09-15 16:54:42,047 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,048 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,048 DEBUG Building LoadPlan...
2016-09-15 16:54:42,048 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,049 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,049 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-15 16:54:42,049 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47e51549]
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,049 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,050 DEBUG Building LoadPlan...
2016-09-15 16:54:42,050 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,050 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-15 16:54:42,050 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-15 16:54:42,107 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-15 16:54:42,128 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-15 16:54:42,128 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-15 16:54:42,128 DEBUG  Version select: select updated_ts from oauth_session_context where id =?
2016-09-15 16:54:42,128 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_2_, oauthsessi_.created_ts as created_3_2_, oauthsessi_.approved_scope as approved4_2_, oauthsessi_.service_id as service_6_2_, oauthsessi_.updated_ts as updated_5_2_, oauthsessi_.user_id as user_id7_2_ from oauth_session_context oauthsessi_ where oauthsessi_.id=?
2016-09-15 16:54:42,128 DEBUG  Insert 0: insert into oauth_session_context (is_active, created_ts, approved_scope, service_id, updated_ts, user_id, id) values (?, ?, ?, ?, ?, ?, ?)
2016-09-15 16:54:42,128 DEBUG  Update 0: update oauth_session_context set is_active=?, created_ts=?, approved_scope=?, service_id=?, updated_ts=?, user_id=? where id=? and updated_ts=?
2016-09-15 16:54:42,128 DEBUG  Delete 0: delete from oauth_session_context where id=? and updated_ts=?
2016-09-15 16:54:42,128 DEBUG  Identity insert: insert into oauth_session_context (id, is_active, created_ts, approved_scope, service_id, updated_ts, user_id) values (default, ?, ?, ?, ?, ?, ?)
2016-09-15 16:54:42,129 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@31120021]
2016-09-15 16:54:42,129 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,129 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,129 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,129 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,130 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@118dcbbd]
2016-09-15 16:54:42,132 DEBUG Visiting attribute path : service.clientSecret
2016-09-15 16:54:42,132 DEBUG Visiting attribute path : service.created
2016-09-15 16:54:42,144 DEBUG Visiting attribute path : service.enabled
2016-09-15 16:54:42,144 DEBUG Visiting attribute path : service.endpoints
2016-09-15 16:54:42,144 DEBUG Visiting attribute path : service.name
2016-09-15 16:54:42,144 DEBUG Visiting attribute path : service.owner
2016-09-15 16:54:42,145 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3c380bd8]
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.created
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.dateFormat
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.email
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.lastLogin
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.name
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.password
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.roles
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.owner.timeZone
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : service.updated
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,145 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47768e74]
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : user.created
2016-09-15 16:54:42,145 DEBUG Visiting attribute path : user.dateFormat
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.email
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.lastLogin
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.name
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.password
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.roles
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-09-15 16:54:42,146 DEBUG Visiting attribute path : user.timeZone
2016-09-15 16:54:42,146 DEBUG Building LoadPlan...
2016-09-15 16:54:42,147 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,157 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-09-15 16:54:42,158 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [NONE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-09-15 16:54:42,158 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5fef2aac]
2016-09-15 16:54:42,158 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,158 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,159 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,159 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,159 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76130a29]
2016-09-15 16:54:42,159 DEBUG Visiting attribute path : service.clientSecret
2016-09-15 16:54:42,159 DEBUG Visiting attribute path : service.created
2016-09-15 16:54:42,159 DEBUG Visiting attribute path : service.enabled
2016-09-15 16:54:42,159 DEBUG Visiting attribute path : service.endpoints
2016-09-15 16:54:42,160 DEBUG Visiting attribute path : service.name
2016-09-15 16:54:42,160 DEBUG Visiting attribute path : service.owner
2016-09-15 16:54:42,160 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3451f01d]
2016-09-15 16:54:42,160 DEBUG Visiting attribute path : service.owner.created
2016-09-15 16:54:42,160 DEBUG Visiting attribute path : service.owner.dateFormat
2016-09-15 16:54:42,160 DEBUG Visiting attribute path : service.owner.email
2016-09-15 16:54:42,161 DEBUG Visiting attribute path : service.owner.lastLogin
2016-09-15 16:54:42,161 DEBUG Visiting attribute path : service.owner.name
2016-09-15 16:54:42,161 DEBUG Visiting attribute path : service.owner.password
2016-09-15 16:54:42,161 DEBUG Visiting attribute path : service.owner.roles
2016-09-15 16:54:42,161 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-09-15 16:54:42,161 DEBUG Visiting attribute path : service.owner.timeZone
2016-09-15 16:54:42,162 DEBUG Visiting attribute path : service.updated
2016-09-15 16:54:42,162 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,162 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,162 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1cfc2538]
2016-09-15 16:54:42,162 DEBUG Visiting attribute path : user.created
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.dateFormat
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.email
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.lastLogin
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.name
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.password
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.roles
2016-09-15 16:54:42,163 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-09-15 16:54:42,164 DEBUG Visiting attribute path : user.timeZone
2016-09-15 16:54:42,164 DEBUG Building LoadPlan...
2016-09-15 16:54:42,164 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,173 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-09-15 16:54:42,174 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-09-15 16:54:42,174 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d342959]
2016-09-15 16:54:42,174 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,174 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,175 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,175 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,175 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53e76c11]
2016-09-15 16:54:42,175 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,175 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,175 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@42cc183e]
2016-09-15 16:54:42,176 DEBUG Building LoadPlan...
2016-09-15 16:54:42,176 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,177 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,177 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,177 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e4e8fdf]
2016-09-15 16:54:42,178 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,178 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,178 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,178 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,178 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2721044]
2016-09-15 16:54:42,178 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,178 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,179 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@205df5dc]
2016-09-15 16:54:42,179 DEBUG Building LoadPlan...
2016-09-15 16:54:42,179 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,179 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,180 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,180 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6aa7b67f]
2016-09-15 16:54:42,180 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,180 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,180 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,181 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,181 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@79aee22a]
2016-09-15 16:54:42,181 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,181 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,182 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@36920bd6]
2016-09-15 16:54:42,182 DEBUG Building LoadPlan...
2016-09-15 16:54:42,183 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,183 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,183 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,184 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bee793f]
2016-09-15 16:54:42,184 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,184 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,184 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,184 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,184 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43b5021c]
2016-09-15 16:54:42,185 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,185 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,185 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@28369db0]
2016-09-15 16:54:42,185 DEBUG Building LoadPlan...
2016-09-15 16:54:42,185 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,187 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,187 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [FORCE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,187 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@30893e08]
2016-09-15 16:54:42,187 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,187 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,187 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,188 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,188 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4548d254]
2016-09-15 16:54:42,188 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,188 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,188 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@590f0c50]
2016-09-15 16:54:42,189 DEBUG Building LoadPlan...
2016-09-15 16:54:42,189 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,190 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,190 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,190 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@208f0007]
2016-09-15 16:54:42,190 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,191 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,191 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,191 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,191 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@39c96e48]
2016-09-15 16:54:42,191 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,192 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,192 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@188598ad]
2016-09-15 16:54:42,192 DEBUG Building LoadPlan...
2016-09-15 16:54:42,194 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,194 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,195 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,195 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40d23c82]
2016-09-15 16:54:42,195 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,195 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,195 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,195 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,195 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@ebe067d]
2016-09-15 16:54:42,196 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,196 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,196 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3a4ab7f7]
2016-09-15 16:54:42,196 DEBUG Building LoadPlan...
2016-09-15 16:54:42,197 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,197 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,198 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,198 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6badba10]
2016-09-15 16:54:42,198 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,198 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,198 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,198 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,199 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@550de6b8]
2016-09-15 16:54:42,199 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,199 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,199 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3a1706e1]
2016-09-15 16:54:42,200 DEBUG Building LoadPlan...
2016-09-15 16:54:42,201 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,206 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,207 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,207 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3c6c4689]
2016-09-15 16:54:42,207 DEBUG Visiting attribute path : active
2016-09-15 16:54:42,207 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,209 DEBUG Visiting attribute path : scope
2016-09-15 16:54:42,209 DEBUG Visiting attribute path : service
2016-09-15 16:54:42,209 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@594d9f07]
2016-09-15 16:54:42,209 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,209 DEBUG Visiting attribute path : user
2016-09-15 16:54:42,210 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5befbac1]
2016-09-15 16:54:42,210 DEBUG Building LoadPlan...
2016-09-15 16:54:42,211 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,211 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-15 16:54:42,212 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,213 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,214 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,214 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-15 16:54:42,215 DEBUG  Version select: select updated_ts from oauth_service where id =?
2016-09-15 16:54:42,215 DEBUG  Snapshot select: select oauthservi_.id, oauthservi_.client_secret as client_s2_0_, oauthservi_.created_ts as created_3_0_, oauthservi_.is_enabled as is_enabl4_0_, oauthservi_.client_endpoints as client_e5_0_, oauthservi_.client_name as client_n6_0_, oauthservi_.owner_id as owner_id8_0_, oauthservi_.updated_ts as updated_7_0_ from oauth_service oauthservi_ where oauthservi_.id=?
2016-09-15 16:54:42,215 DEBUG  Insert 0: insert into oauth_service (client_secret, created_ts, is_enabled, client_endpoints, client_name, owner_id, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2016-09-15 16:54:42,215 DEBUG  Update 0: update oauth_service set client_secret=?, created_ts=?, is_enabled=?, client_endpoints=?, client_name=?, owner_id=?, updated_ts=? where id=? and updated_ts=?
2016-09-15 16:54:42,215 DEBUG  Delete 0: delete from oauth_service where id=? and updated_ts=?
2016-09-15 16:54:42,215 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5e9f73b]
2016-09-15 16:54:42,216 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,217 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,217 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,217 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,217 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,217 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,217 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2fd64b11]
2016-09-15 16:54:42,217 DEBUG Visiting attribute path : owner.created
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.dateFormat
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.email
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.lastLogin
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.name
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.password
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.roles
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-09-15 16:54:42,218 DEBUG Visiting attribute path : owner.timeZone
2016-09-15 16:54:42,219 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,219 DEBUG Building LoadPlan...
2016-09-15 16:54:42,222 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,223 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-09-15 16:54:42,224 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [NONE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-09-15 16:54:42,224 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43d3aba5]
2016-09-15 16:54:42,224 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,224 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,224 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,225 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,225 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,225 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,225 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76e9f00b]
2016-09-15 16:54:42,225 DEBUG Visiting attribute path : owner.created
2016-09-15 16:54:42,225 DEBUG Visiting attribute path : owner.dateFormat
2016-09-15 16:54:42,225 DEBUG Visiting attribute path : owner.email
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : owner.lastLogin
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : owner.name
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : owner.password
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : owner.roles
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : owner.timeZone
2016-09-15 16:54:42,226 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,226 DEBUG Building LoadPlan...
2016-09-15 16:54:42,227 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,229 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-09-15 16:54:42,229 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-09-15 16:54:42,229 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f1b8544]
2016-09-15 16:54:42,230 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,230 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,230 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,230 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,230 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,230 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,230 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@688a2c09]
2016-09-15 16:54:42,231 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,231 DEBUG Building LoadPlan...
2016-09-15 16:54:42,231 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,232 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,232 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,233 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5de5e95]
2016-09-15 16:54:42,233 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,235 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,235 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,236 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,236 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,236 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,236 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@303c55fa]
2016-09-15 16:54:42,237 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,237 DEBUG Building LoadPlan...
2016-09-15 16:54:42,238 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,238 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,239 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_NOWAIT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,239 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@9efcd90]
2016-09-15 16:54:42,239 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,239 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,239 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,239 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,240 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,240 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,240 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2ee83775]
2016-09-15 16:54:42,240 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,240 DEBUG Building LoadPlan...
2016-09-15 16:54:42,241 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,242 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,242 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_SKIPLOCKED]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,242 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7c2924d7]
2016-09-15 16:54:42,243 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,243 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,243 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,243 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,243 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,243 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,243 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6587305a]
2016-09-15 16:54:42,244 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,244 DEBUG Building LoadPlan...
2016-09-15 16:54:42,244 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,245 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,245 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [FORCE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,246 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@abbe000]
2016-09-15 16:54:42,246 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,246 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,246 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,246 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,246 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,246 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,246 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b9499fe]
2016-09-15 16:54:42,247 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,247 DEBUG Building LoadPlan...
2016-09-15 16:54:42,247 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,248 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,248 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,248 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@74d6736]
2016-09-15 16:54:42,248 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,248 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,249 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,249 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,249 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,249 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,249 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@668625f5]
2016-09-15 16:54:42,249 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,249 DEBUG Building LoadPlan...
2016-09-15 16:54:42,252 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,253 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,253 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_WRITE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,253 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@19a20bb2]
2016-09-15 16:54:42,253 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,254 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,254 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,254 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,255 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,255 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,255 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3eb3232b]
2016-09-15 16:54:42,255 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,255 DEBUG Building LoadPlan...
2016-09-15 16:54:42,255 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,256 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,256 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-15 16:54:42,256 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@69cd1085]
2016-09-15 16:54:42,256 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,257 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,257 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,257 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,257 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,257 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,257 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40fa8766]
2016-09-15 16:54:42,257 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,257 DEBUG Building LoadPlan...
2016-09-15 16:54:42,258 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,258 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,258 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-15 16:54:42,258 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@67774e29]
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : clientSecret
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : enabled
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : endpoints
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : owner
2016-09-15 16:54:42,259 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d7399f9]
2016-09-15 16:54:42,259 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,260 DEBUG Building LoadPlan...
2016-09-15 16:54:42,261 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,261 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-15 16:54:42,262 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-15 16:54:42,262 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-15 16:54:42,262 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-15 16:54:42,264 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.RoleEntity
2016-09-15 16:54:42,264 DEBUG  Version select: select id from role_definition where id =?
2016-09-15 16:54:42,264 DEBUG  Snapshot select: select roleentity_.id, roleentity_.caption as caption2_3_ from role_definition roleentity_ where roleentity_.id=?
2016-09-15 16:54:42,264 DEBUG  Insert 0: insert into role_definition (caption, id) values (?, ?)
2016-09-15 16:54:42,264 DEBUG  Update 0: update role_definition set caption=? where id=?
2016-09-15 16:54:42,264 DEBUG  Delete 0: delete from role_definition where id=?
2016-09-15 16:54:42,265 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49a6f486]
2016-09-15 16:54:42,265 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,265 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,265 DEBUG Building LoadPlan...
2016-09-15 16:54:42,265 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,266 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,266 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [NONE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-15 16:54:42,266 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@bc6288b]
2016-09-15 16:54:42,266 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,266 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,266 DEBUG Building LoadPlan...
2016-09-15 16:54:42,267 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,268 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,269 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-15 16:54:42,269 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34c70b5e]
2016-09-15 16:54:42,270 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,270 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,270 DEBUG Building LoadPlan...
2016-09-15 16:54:42,270 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,270 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,271 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,271 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@75156240]
2016-09-15 16:54:42,271 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,271 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,271 DEBUG Building LoadPlan...
2016-09-15 16:54:42,272 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,272 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,272 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_NOWAIT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,272 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d099323]
2016-09-15 16:54:42,272 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,273 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,273 DEBUG Building LoadPlan...
2016-09-15 16:54:42,273 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,273 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,273 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_SKIPLOCKED]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,274 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@10947c4e]
2016-09-15 16:54:42,274 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,274 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,274 DEBUG Building LoadPlan...
2016-09-15 16:54:42,274 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,276 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,277 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [FORCE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,277 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1756f7cc]
2016-09-15 16:54:42,277 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,277 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,277 DEBUG Building LoadPlan...
2016-09-15 16:54:42,278 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,278 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,278 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,278 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27df95e]
2016-09-15 16:54:42,279 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,279 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,279 DEBUG Building LoadPlan...
2016-09-15 16:54:42,279 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,279 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,280 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_WRITE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,280 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2b0e9f30]
2016-09-15 16:54:42,280 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,280 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,280 DEBUG Building LoadPlan...
2016-09-15 16:54:42,280 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,281 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,281 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-15 16:54:42,281 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3330f3ad]
2016-09-15 16:54:42,282 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,282 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,282 DEBUG Building LoadPlan...
2016-09-15 16:54:42,282 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,283 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,284 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-15 16:54:42,285 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@506aabf6]
2016-09-15 16:54:42,285 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,285 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,285 DEBUG Building LoadPlan...
2016-09-15 16:54:42,285 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,286 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-15 16:54:42,286 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-15 16:54:42,289 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-09-15 16:54:42,289 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-09-15 16:54:42,289 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-15 16:54:42,290 DEBUG  Version select: select updated_ts from oauth_session where id =?
2016-09-15 16:54:42,290 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_1_, oauthsessi_.authorisation_code as authoris3_1_, oauthsessi_.context_id as context_9_1_, oauthsessi_.created_ts as created_4_1_, oauthsessi_.expires_ts as expires_5_1_, oauthsessi_.initiator_detail as initiato6_1_, oauthsessi_.current_token as current_7_1_, oauthsessi_.updated_ts as updated_8_1_ from oauth_session oauthsessi_ where oauthsessi_.id=?
2016-09-15 16:54:42,290 DEBUG  Insert 0: insert into oauth_session (is_active, authorisation_code, context_id, created_ts, expires_ts, initiator_detail, current_token, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-09-15 16:54:42,290 DEBUG  Update 0: update oauth_session set is_active=?, authorisation_code=?, context_id=?, created_ts=?, expires_ts=?, initiator_detail=?, current_token=?, updated_ts=? where id=? and updated_ts=?
2016-09-15 16:54:42,290 DEBUG  Delete 0: delete from oauth_session where id=? and updated_ts=?
2016-09-15 16:54:42,290 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4a2e7bcb]
2016-09-15 16:54:42,290 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,291 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,291 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,291 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@74f827ad]
2016-09-15 16:54:42,291 DEBUG Visiting attribute path : context.active
2016-09-15 16:54:42,291 DEBUG Visiting attribute path : context.created
2016-09-15 16:54:42,291 DEBUG Visiting attribute path : context.scope
2016-09-15 16:54:42,291 DEBUG Visiting attribute path : context.service
2016-09-15 16:54:42,292 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4a8a0099]
2016-09-15 16:54:42,292 DEBUG Visiting attribute path : context.service.clientSecret
2016-09-15 16:54:42,292 DEBUG Visiting attribute path : context.service.created
2016-09-15 16:54:42,292 DEBUG Visiting attribute path : context.service.enabled
2016-09-15 16:54:42,292 DEBUG Visiting attribute path : context.service.endpoints
2016-09-15 16:54:42,292 DEBUG Visiting attribute path : context.service.name
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner
2016-09-15 16:54:42,293 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49e4c2d5]
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner.created
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner.email
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner.name
2016-09-15 16:54:42,293 DEBUG Visiting attribute path : context.service.owner.password
2016-09-15 16:54:42,294 DEBUG Visiting attribute path : context.service.owner.roles
2016-09-15 16:54:42,294 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-09-15 16:54:42,294 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-09-15 16:54:42,294 DEBUG Visiting attribute path : context.service.updated
2016-09-15 16:54:42,294 DEBUG Visiting attribute path : context.updated
2016-09-15 16:54:42,294 DEBUG Visiting attribute path : context.user
2016-09-15 16:54:42,294 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e36b7a0]
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.created
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.dateFormat
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.email
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.lastLogin
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.name
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.password
2016-09-15 16:54:42,295 DEBUG Visiting attribute path : context.user.roles
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : context.user.timeZone
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,296 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,296 DEBUG Building LoadPlan...
2016-09-15 16:54:42,297 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,299 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-09-15 16:54:42,299 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [NONE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-09-15 16:54:42,300 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@f5cf29b]
2016-09-15 16:54:42,300 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,300 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,300 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,301 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@37e69c43]
2016-09-15 16:54:42,301 DEBUG Visiting attribute path : context.active
2016-09-15 16:54:42,301 DEBUG Visiting attribute path : context.created
2016-09-15 16:54:42,301 DEBUG Visiting attribute path : context.scope
2016-09-15 16:54:42,301 DEBUG Visiting attribute path : context.service
2016-09-15 16:54:42,302 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@345d053b]
2016-09-15 16:54:42,302 DEBUG Visiting attribute path : context.service.clientSecret
2016-09-15 16:54:42,302 DEBUG Visiting attribute path : context.service.created
2016-09-15 16:54:42,302 DEBUG Visiting attribute path : context.service.enabled
2016-09-15 16:54:42,302 DEBUG Visiting attribute path : context.service.endpoints
2016-09-15 16:54:42,303 DEBUG Visiting attribute path : context.service.name
2016-09-15 16:54:42,304 DEBUG Visiting attribute path : context.service.owner
2016-09-15 16:54:42,304 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e8b3b79]
2016-09-15 16:54:42,304 DEBUG Visiting attribute path : context.service.owner.created
2016-09-15 16:54:42,305 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-09-15 16:54:42,308 DEBUG Visiting attribute path : context.service.owner.email
2016-09-15 16:54:42,308 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-09-15 16:54:42,308 DEBUG Visiting attribute path : context.service.owner.name
2016-09-15 16:54:42,308 DEBUG Visiting attribute path : context.service.owner.password
2016-09-15 16:54:42,308 DEBUG Visiting attribute path : context.service.owner.roles
2016-09-15 16:54:42,309 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-09-15 16:54:42,309 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-09-15 16:54:42,309 DEBUG Visiting attribute path : context.service.updated
2016-09-15 16:54:42,309 DEBUG Visiting attribute path : context.updated
2016-09-15 16:54:42,309 DEBUG Visiting attribute path : context.user
2016-09-15 16:54:42,309 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@518ddd3b]
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.created
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.dateFormat
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.email
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.lastLogin
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.name
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.password
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.roles
2016-09-15 16:54:42,310 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-09-15 16:54:42,311 DEBUG Visiting attribute path : context.user.timeZone
2016-09-15 16:54:42,311 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,311 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,311 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,311 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,311 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,311 DEBUG Building LoadPlan...
2016-09-15 16:54:42,312 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,312 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-09-15 16:54:42,313 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-09-15 16:54:42,313 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6e0e5dec]
2016-09-15 16:54:42,313 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,313 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,313 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,314 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@777d0bc3]
2016-09-15 16:54:42,314 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,315 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,315 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,315 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,315 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,315 DEBUG Building LoadPlan...
2016-09-15 16:54:42,316 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,317 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,317 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,317 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3178219a]
2016-09-15 16:54:42,317 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,318 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,318 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,318 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@56476c16]
2016-09-15 16:54:42,318 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,318 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,318 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,318 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,319 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,319 DEBUG Building LoadPlan...
2016-09-15 16:54:42,319 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,319 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,320 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,320 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@497b560e]
2016-09-15 16:54:42,320 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,320 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,320 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,320 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3ba348ca]
2016-09-15 16:54:42,321 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,321 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,321 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,321 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,321 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,321 DEBUG Building LoadPlan...
2016-09-15 16:54:42,321 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,322 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,322 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,323 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@56e9a474]
2016-09-15 16:54:42,323 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,323 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,323 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,323 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2dbfcf7]
2016-09-15 16:54:42,323 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,324 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,324 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,324 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,324 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,324 DEBUG Building LoadPlan...
2016-09-15 16:54:42,324 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,325 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,325 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [FORCE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,325 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@239f017e]
2016-09-15 16:54:42,326 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,326 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,326 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,326 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@772caabe]
2016-09-15 16:54:42,326 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,327 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,327 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,327 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,327 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,327 DEBUG Building LoadPlan...
2016-09-15 16:54:42,327 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,328 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,328 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,329 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2acdcce8]
2016-09-15 16:54:42,329 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,329 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,329 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,329 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f598450]
2016-09-15 16:54:42,329 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,330 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,330 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,330 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,330 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,330 DEBUG Building LoadPlan...
2016-09-15 16:54:42,331 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,332 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,333 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,344 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2db2a05f]
2016-09-15 16:54:42,345 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,345 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,345 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,345 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d5bb1c4]
2016-09-15 16:54:42,345 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,345 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,345 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,346 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,346 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,346 DEBUG Building LoadPlan...
2016-09-15 16:54:42,346 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,346 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,347 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-15 16:54:42,347 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7ed3df3b]
2016-09-15 16:54:42,347 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,347 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,347 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,347 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4b960b5b]
2016-09-15 16:54:42,348 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,348 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,348 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,348 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,348 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,348 DEBUG Building LoadPlan...
2016-09-15 16:54:42,348 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,349 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,349 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,349 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1b13467c]
2016-09-15 16:54:42,349 DEBUG Visiting attribute path : alive
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : authorisationCode
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : context
2016-09-15 16:54:42,350 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@64dae3b7]
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : expires
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : initiator
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : token
2016-09-15 16:54:42,350 DEBUG Visiting attribute path : updated
2016-09-15 16:54:42,352 DEBUG Building LoadPlan...
2016-09-15 16:54:42,352 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,352 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-15 16:54:42,353 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,354 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,354 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-15 16:54:42,361 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@32f96bba]
2016-09-15 16:54:42,362 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@611640f0]
2016-09-15 16:54:42,364 DEBUG Visiting attribute path : caption
2016-09-15 16:54:42,364 DEBUG Visiting attribute path : members
2016-09-15 16:54:42,364 DEBUG Property path deemed to be circular : members
2016-09-15 16:54:42,365 DEBUG Building LoadPlan...
2016-09-15 16:54:42,368 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,369 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.UserEntity.roles, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
          - SQL table alias mapping - roles0_
          - alias suffix - 0_
          - suffixed key columns - {user_id2_4_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_3_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
                - SQL table alias mapping - roleentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_3_1_}

2016-09-15 16:54:42,370 DEBUG Static select for collection com.peterphi.usermanager.db.entity.UserEntity.roles: select roles0_.user_id as user_id2_4_0_, roles0_.role_id as role_id1_5_0_, roleentity1_.id as id1_3_1_, roleentity1_.caption as caption2_3_1_ from user_has_role roles0_ inner join role_definition roleentity1_ on roles0_.role_id=roleentity1_.id where roles0_.user_id=?
2016-09-15 16:54:42,370 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@2e32fc22]
2016-09-15 16:54:42,370 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f5156a6]
2016-09-15 16:54:42,370 DEBUG Visiting attribute path : created
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : dateFormat
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : email
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : lastLogin
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : name
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : password
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : roles
2016-09-15 16:54:42,371 DEBUG Property path deemed to be circular : roles
2016-09-15 16:54:42,371 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-15 16:54:42,372 DEBUG Visiting attribute path : timeZone
2016-09-15 16:54:42,372 DEBUG Building LoadPlan...
2016-09-15 16:54:42,372 DEBUG processing queryspace <gen:0>
2016-09-15 16:54:42,373 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.RoleEntity.members, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
          - SQL table alias mapping - members0_
          - alias suffix - 0_
          - suffixed key columns - {role_id1_3_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_4_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-09-15 16:54:42,373 DEBUG Static select for collection com.peterphi.usermanager.db.entity.RoleEntity.members: select members0_.role_id as role_id1_3_0_, members0_.user_id as user_id2_5_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from user_has_role members0_ inner join user_account userentity1_ on members0_.user_id=userentity1_.id where members0_.role_id=? order by userentity1_.id desc
2016-09-15 16:54:42,377 DEBUG Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@adcfad9
2016-09-15 16:54:42,379 DEBUG Registering SessionFactory: 88f7f038-d051-454d-b359-6e4ebd5cb3f1 (<unnamed>)
2016-09-15 16:54:42,379 DEBUG Not binding SessionFactory to JNDI, no JNDI name configured
2016-09-15 16:54:42,380 DEBUG Instantiated session factory
2016-09-15 16:54:42,383 DEBUG Checking 0 named HQL queries
2016-09-15 16:54:42,383 DEBUG Checking 0 named SQL queries
2016-09-15 16:54:42,391 DEBUG Statistics initialized [enabled=false]
2016-09-15 16:54:42,396 DEBUG Known entities: [com.peterphi.usermanager.db.entity.UserEntity, com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, com.peterphi.usermanager.db.entity.OAuthServiceEntity, com.peterphi.usermanager.db.entity.RoleEntity, com.peterphi.usermanager.db.entity.OAuthSessionEntity]
2016-09-15 16:54:42,397 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:42,398 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-09-15 16:54:42,406 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-09-15 16:54:42,406 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-09-15 16:54:42,406 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-15 16:54:42,407 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-15 16:54:42,407 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-15 16:54:42,407 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-15 16:54:42,407 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-15 16:54:42,408 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-15 16:54:42,782 DEBUG begin
2016-09-15 16:54:42,782 DEBUG Obtaining JDBC connection
2016-09-15 16:54:42,782 DEBUG Obtained JDBC connection
2016-09-15 16:54:42,782 DEBUG initial autocommit status: false
2016-09-15 16:54:42,829 DEBUG select this_.id as id1_4_0_, this_.created_ts as created_2_4_0_, this_.date_format as date_for3_4_0_, this_.email as email4_4_0_, this_.last_login_ts as last_log5_4_0_, this_.name as name6_4_0_, this_.password as password7_4_0_, this_.local_session_id as local_se8_4_0_, this_.date_timezone as date_tim9_4_0_ from user_account this_
2016-09-15 16:54:42,836 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-15 16:54:42,836 DEBUG rolling back
2016-09-15 16:54:42,836 DEBUG rolled JDBC Connection
2016-09-15 16:54:42,837 DEBUG Releasing JDBC connection
2016-09-15 16:54:42,837 DEBUG Released JDBC connection
2016-09-15 16:54:42,840 DEBUG begin
2016-09-15 16:54:42,840 DEBUG Obtaining JDBC connection
2016-09-15 16:54:42,840 DEBUG Obtained JDBC connection
2016-09-15 16:54:42,841 DEBUG initial autocommit status: false
2016-09-15 16:54:42,841 DEBUG select this_.id as id1_3_0_, this_.caption as caption2_3_0_ from role_definition this_
2016-09-15 16:54:42,842 DEBUG Result set row: 0
2016-09-15 16:54:42,844 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-09-15 16:54:42,848 DEBUG Result set row: 1
2016-09-15 16:54:42,848 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-09-15 16:54:42,848 DEBUG Result set row: 2
2016-09-15 16:54:42,849 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-09-15 16:54:42,849 DEBUG Result set row: 3
2016-09-15 16:54:42,849 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-09-15 16:54:42,849 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-09-15 16:54:42,855 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-09-15 16:54:42,855 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-09-15 16:54:42,855 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-09-15 16:54:42,856 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-09-15 16:54:42,856 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-09-15 16:54:42,856 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-09-15 16:54:42,856 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-09-15 16:54:42,857 DEBUG Transformed: 4 rows to: 4 distinct results
2016-09-15 16:54:42,857 DEBUG rolling back
2016-09-15 16:54:42,857 DEBUG rolled JDBC Connection
2016-09-15 16:54:42,857 DEBUG Releasing JDBC connection
2016-09-15 16:54:42,857 DEBUG Released JDBC connection
2016-09-15 16:54:42,858 DEBUG begin
2016-09-15 16:54:42,858 DEBUG Obtaining JDBC connection
2016-09-15 16:54:42,858 DEBUG Obtained JDBC connection
2016-09-15 16:54:42,858 DEBUG initial autocommit status: false
2016-09-15 16:54:42,859 DEBUG select this_.id as id1_0_1_, this_.client_secret as client_s2_0_1_, this_.created_ts as created_3_0_1_, this_.is_enabled as is_enabl4_0_1_, this_.client_endpoints as client_e5_0_1_, this_.client_name as client_n6_0_1_, this_.owner_id as owner_id8_0_1_, this_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from oauth_service this_ inner join user_account userentity2_ on this_.owner_id=userentity2_.id
2016-09-15 16:54:42,860 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-15 16:54:42,860 DEBUG rolling back
2016-09-15 16:54:42,860 DEBUG rolled JDBC Connection
2016-09-15 16:54:42,860 DEBUG Releasing JDBC connection
2016-09-15 16:54:42,860 DEBUG Released JDBC connection
2016-09-15 16:54:42,860 DEBUG begin
2016-09-15 16:54:42,861 DEBUG Obtaining JDBC connection
2016-09-15 16:54:42,861 DEBUG Obtained JDBC connection
2016-09-15 16:54:42,861 DEBUG initial autocommit status: false
2016-09-15 16:54:42,861 DEBUG select this_.id as id1_1_4_, this_.is_active as is_activ2_1_4_, this_.authorisation_code as authoris3_1_4_, this_.context_id as context_9_1_4_, this_.created_ts as created_4_1_4_, this_.expires_ts as expires_5_1_4_, this_.initiator_detail as initiato6_1_4_, this_.current_token as current_7_1_4_, this_.updated_ts as updated_8_1_4_, oauthsessi2_.id as id1_2_0_, oauthsessi2_.is_active as is_activ2_2_0_, oauthsessi2_.created_ts as created_3_2_0_, oauthsessi2_.approved_scope as approved4_2_0_, oauthsessi2_.service_id as service_6_2_0_, oauthsessi2_.updated_ts as updated_5_2_0_, oauthsessi2_.user_id as user_id7_2_0_, oauthservi3_.id as id1_0_1_, oauthservi3_.client_secret as client_s2_0_1_, oauthservi3_.created_ts as created_3_0_1_, oauthservi3_.is_enabled as is_enabl4_0_1_, oauthservi3_.client_endpoints as client_e5_0_1_, oauthservi3_.client_name as client_n6_0_1_, oauthservi3_.owner_id as owner_id8_0_1_, oauthservi3_.updated_ts as updated_7_0_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_, userentity5_.id as id1_4_3_, userentity5_.created_ts as created_2_4_3_, userentity5_.date_format as date_for3_4_3_, userentity5_.email as email4_4_3_, userentity5_.last_login_ts as last_log5_4_3_, userentity5_.name as name6_4_3_, userentity5_.password as password7_4_3_, userentity5_.local_session_id as local_se8_4_3_, userentity5_.date_timezone as date_tim9_4_3_ from oauth_session this_ inner join oauth_session_context oauthsessi2_ on this_.context_id=oauthsessi2_.id left outer join oauth_service oauthservi3_ on oauthsessi2_.service_id=oauthservi3_.id left outer join user_account userentity4_ on oauthservi3_.owner_id=userentity4_.id left outer join user_account userentity5_ on oauthsessi2_.user_id=userentity5_.id
2016-09-15 16:54:42,863 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-15 16:54:42,863 DEBUG rolling back
2016-09-15 16:54:42,863 DEBUG rolled JDBC Connection
2016-09-15 16:54:42,863 DEBUG Releasing JDBC connection
2016-09-15 16:54:42,863 DEBUG Released JDBC connection
2016-09-15 16:54:42,864 DEBUG begin
2016-09-15 16:54:42,864 DEBUG Obtaining JDBC connection
2016-09-15 16:54:42,864 DEBUG Obtained JDBC connection
2016-09-15 16:54:42,864 DEBUG initial autocommit status: false
2016-09-15 16:54:42,865 DEBUG select this_.id as id1_2_3_, this_.is_active as is_activ2_2_3_, this_.created_ts as created_3_2_3_, this_.approved_scope as approved4_2_3_, this_.service_id as service_6_2_3_, this_.updated_ts as updated_5_2_3_, this_.user_id as user_id7_2_3_, oauthservi2_.id as id1_0_0_, oauthservi2_.client_secret as client_s2_0_0_, oauthservi2_.created_ts as created_3_0_0_, oauthservi2_.is_enabled as is_enabl4_0_0_, oauthservi2_.client_endpoints as client_e5_0_0_, oauthservi2_.client_name as client_n6_0_0_, oauthservi2_.owner_id as owner_id8_0_0_, oauthservi2_.updated_ts as updated_7_0_0_, userentity3_.id as id1_4_1_, userentity3_.created_ts as created_2_4_1_, userentity3_.date_format as date_for3_4_1_, userentity3_.email as email4_4_1_, userentity3_.last_login_ts as last_log5_4_1_, userentity3_.name as name6_4_1_, userentity3_.password as password7_4_1_, userentity3_.local_session_id as local_se8_4_1_, userentity3_.date_timezone as date_tim9_4_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_ from oauth_session_context this_ inner join oauth_service oauthservi2_ on this_.service_id=oauthservi2_.id left outer join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on this_.user_id=userentity4_.id
2016-09-15 16:54:42,866 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-15 16:54:42,866 DEBUG rolling back
2016-09-15 16:54:42,866 DEBUG rolled JDBC Connection
2016-09-15 16:54:42,866 DEBUG Releasing JDBC connection
2016-09-15 16:54:42,866 DEBUG Released JDBC connection
2016-09-15 16:54:42,866  INFO Shutting down 1 service(s)
2016-09-15 16:54:42,867 DEBUG Requesting shutdown of com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@7eb6b6b6
2016-09-15 16:54:42,867  INFO Shut down Hibernate SessionFactory...
2016-09-15 16:54:42,867 DEBUG begin
2016-09-15 16:54:42,867 DEBUG Obtaining JDBC connection
2016-09-15 16:54:42,867 DEBUG Obtained JDBC connection
2016-09-15 16:54:42,867 DEBUG initial autocommit status: false
2016-09-15 16:54:42,869 DEBUG committing
2016-09-15 16:54:42,869 DEBUG committed JDBC Connection
2016-09-15 16:54:42,870 DEBUG Releasing JDBC connection
2016-09-15 16:54:42,870 DEBUG Released JDBC connection
2016-09-15 16:54:42,870 DEBUG HHH000031: Closing
2016-09-15 16:54:42,870 DEBUG Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2016-09-15 16:54:42,870  INFO HHH000030: Cleaning up connection pool [jdbc:hsqldb:mem:testdb]
2016-09-15 16:54:42,885 DEBUG Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2016-09-15 16:54:42,886  INFO Shutdown complete
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.304 sec - in com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.508 s]
[INFO] stdlib ............................................. SUCCESS [  4.477 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.091 s]
[INFO] stdlib guice common ................................ SUCCESS [  5.932 s]
[INFO] user-manager ....................................... SUCCESS [  0.006 s]
[INFO] user manager rest api .............................. SUCCESS [  0.056 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  1.434 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.057 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.031 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  3.051 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [ 16.635 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  4.530 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  6.226 s]
[INFO] carbon client ...................................... SUCCESS [  0.954 s]
[INFO] service-manager .................................... SUCCESS [  0.002 s]
[INFO] Configuration Service .............................. SUCCESS [  1.075 s]
[INFO] stdlib-rules ....................................... SUCCESS [  2.199 s]
[INFO] stdlib-azure ....................................... SUCCESS [  1.559 s]
[INFO] Service Manager Main ............................... SUCCESS [  0.069 s]
[INFO] user manager service ............................... SUCCESS [ 10.759 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:02 min
[INFO] Finished at: 2016-09-15T16:54:43+00:00
[INFO] Final Memory: 19M/315M
[INFO] ------------------------------------------------------------------------

travis_time:end:05714ee4:start=1473958418994951001,finish=1473958484501945226,duration=65506994225[0K
[32;1mThe command "mvn test -B" exited with 0.[0m
travis_fold:start:before_cache[0Ktravis_time:start:0ea94a76[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory

travis_time:end:0ea94a76:start=1473958484506760432,finish=1473958484511557174,duration=4796742[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:00632f9a[0K
travis_time:end:00632f9a:start=1473958484516302486,finish=1473958484519987928,duration=3685442[0Ktravis_time:start:0d09dfd4[0K[32;1mchange detected (content changed, file is created, or file is deleted):
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/configuration-9.1.5-SNAPSHOT.war
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/configuration/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/service-manager-9.1.5-SNAPSHOT.war
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/service-manager-parent/9.1.5-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/confi
[0m
[32;1m...
[0m
[32;1mchanges detected, packing new archive[0m
.
.
.
.
.
[32;1muploading archive[0m

travis_time:end:0d09dfd4:start=1473958484524159281,finish=1473958530453596561,duration=45929437280[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
