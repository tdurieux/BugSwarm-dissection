Using worker: worker-linux-docker-ee68cd17.prod.travis-ci.org:travis-linux-6

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:git.checkout[0Ktravis_time:start:027e2f2b[0K$ git clone --depth=100 --branch=hs_staging https://github.com/HubSpot/Singularity.git HubSpot/Singularity
Cloning into 'HubSpot/Singularity'...
remote: Counting objects: 26916, done.[K
remote: Compressing objects:   0% (1/7738)   [Kremote: Compressing objects:   1% (78/7738)   [Kremote: Compressing objects:   2% (155/7738)   [Kremote: Compressing objects:   3% (233/7738)   [Kremote: Compressing objects:   4% (310/7738)   [Kremote: Compressing objects:   5% (387/7738)   [Kremote: Compressing objects:   6% (465/7738)   [Kremote: Compressing objects:   7% (542/7738)   [Kremote: Compressing objects:   8% (620/7738)   [Kremote: Compressing objects:   9% (697/7738)   [Kremote: Compressing objects:  10% (774/7738)   [Kremote: Compressing objects:  11% (852/7738)   [Kremote: Compressing objects:  12% (929/7738)   [Kremote: Compressing objects:  13% (1006/7738)   [Kremote: Compressing objects:  14% (1084/7738)   [Kremote: Compressing objects:  15% (1161/7738)   [Kremote: Compressing objects:  16% (1239/7738)   [Kremote: Compressing objects:  17% (1316/7738)   [Kremote: Compressing objects:  18% (1393/7738)   [Kremote: Compressing objects:  19% (1471/7738)   [Kremote: Compressing objects:  20% (1548/7738)   [Kremote: Compressing objects:  21% (1625/7738)   [Kremote: Compressing objects:  22% (1703/7738)   [Kremote: Compressing objects:  23% (1780/7738)   [Kremote: Compressing objects:  24% (1858/7738)   [Kremote: Compressing objects:  25% (1935/7738)   [Kremote: Compressing objects:  26% (2012/7738)   [Kremote: Compressing objects:  27% (2090/7738)   [Kremote: Compressing objects:  28% (2167/7738)   [Kremote: Compressing objects:  29% (2245/7738)   [Kremote: Compressing objects:  30% (2322/7738)   [Kremote: Compressing objects:  31% (2399/7738)   [Kremote: Compressing objects:  32% (2477/7738)   [Kremote: Compressing objects:  33% (2554/7738)   [Kremote: Compressing objects:  34% (2631/7738)   [Kremote: Compressing objects:  35% (2709/7738)   [Kremote: Compressing objects:  36% (2786/7738)   [Kremote: Compressing objects:  37% (2864/7738)   [Kremote: Compressing objects:  38% (2941/7738)   [Kremote: Compressing objects:  39% (3018/7738)   [Kremote: Compressing objects:  40% (3096/7738)   [Kremote: Compressing objects:  41% (3173/7738)   [Kremote: Compressing objects:  42% (3250/7738)   [Kremote: Compressing objects:  43% (3328/7738)   [Kremote: Compressing objects:  44% (3405/7738)   [Kremote: Compressing objects:  45% (3483/7738)   [Kremote: Compressing objects:  46% (3560/7738)   [Kremote: Compressing objects:  47% (3637/7738)   [Kremote: Compressing objects:  48% (3715/7738)   [Kremote: Compressing objects:  49% (3792/7738)   [Kremote: Compressing objects:  50% (3869/7738)   [Kremote: Compressing objects:  51% (3947/7738)   [Kremote: Compressing objects:  52% (4024/7738)   [Kremote: Compressing objects:  53% (4102/7738)   [Kremote: Compressing objects:  54% (4179/7738)   [Kremote: Compressing objects:  55% (4256/7738)   [Kremote: Compressing objects:  56% (4334/7738)   [Kremote: Compressing objects:  57% (4411/7738)   [Kremote: Compressing objects:  58% (4489/7738)   [Kremote: Compressing objects:  59% (4566/7738)   [Kremote: Compressing objects:  60% (4643/7738)   [Kremote: Compressing objects:  61% (4721/7738)   [Kremote: Compressing objects:  62% (4798/7738)   [Kremote: Compressing objects:  63% (4875/7738)   [Kremote: Compressing objects:  64% (4953/7738)   [Kremote: Compressing objects:  65% (5030/7738)   [Kremote: Compressing objects:  66% (5108/7738)   [Kremote: Compressing objects:  67% (5185/7738)   [Kremote: Compressing objects:  68% (5262/7738)   [Kremote: Compressing objects:  69% (5340/7738)   [Kremote: Compressing objects:  70% (5417/7738)   [Kremote: Compressing objects:  71% (5494/7738)   [Kremote: Compressing objects:  72% (5572/7738)   [Kremote: Compressing objects:  73% (5649/7738)   [Kremote: Compressing objects:  74% (5727/7738)   [Kremote: Compressing objects:  75% (5804/7738)   [Kremote: Compressing objects:  76% (5881/7738)   [Kremote: Compressing objects:  77% (5959/7738)   [Kremote: Compressing objects:  78% (6036/7738)   [Kremote: Compressing objects:  79% (6114/7738)   [Kremote: Compressing objects:  80% (6191/7738)   [Kremote: Compressing objects:  81% (6268/7738)   [Kremote: Compressing objects:  82% (6346/7738)   [Kremote: Compressing objects:  83% (6423/7738)   [Kremote: Compressing objects:  84% (6500/7738)   [Kremote: Compressing objects:  85% (6578/7738)   [Kremote: Compressing objects:  86% (6655/7738)   [Kremote: Compressing objects:  87% (6733/7738)   [Kremote: Compressing objects:  88% (6810/7738)   [Kremote: Compressing objects:  89% (6887/7738)   [Kremote: Compressing objects:  90% (6965/7738)   [Kremote: Compressing objects:  91% (7042/7738)   [Kremote: Compressing objects:  92% (7119/7738)   [Kremote: Compressing objects:  93% (7197/7738)   [Kremote: Compressing objects:  94% (7274/7738)   [Kremote: Compressing objects:  95% (7352/7738)   [Kremote: Compressing objects:  96% (7429/7738)   [Kremote: Compressing objects:  97% (7506/7738)   [Kremote: Compressing objects:  98% (7584/7738)   [Kremote: Compressing objects:  99% (7661/7738)   [Kremote: Compressing objects: 100% (7738/7738)   [Kremote: Compressing objects: 100% (7738/7738), done.[K
Receiving objects:   0% (1/26916)   Receiving objects:   1% (270/26916)   Receiving objects:   2% (539/26916)   Receiving objects:   3% (808/26916)   Receiving objects:   4% (1077/26916)   Receiving objects:   5% (1346/26916)   Receiving objects:   6% (1615/26916)   Receiving objects:   7% (1885/26916)   Receiving objects:   8% (2154/26916)   Receiving objects:   9% (2423/26916)   Receiving objects:  10% (2692/26916)   Receiving objects:  11% (2961/26916)   Receiving objects:  12% (3230/26916)   Receiving objects:  13% (3500/26916)   Receiving objects:  14% (3769/26916)   Receiving objects:  15% (4038/26916)   Receiving objects:  16% (4307/26916)   Receiving objects:  17% (4576/26916)   Receiving objects:  18% (4845/26916)   Receiving objects:  19% (5115/26916)   Receiving objects:  20% (5384/26916)   Receiving objects:  21% (5653/26916)   Receiving objects:  22% (5922/26916)   Receiving objects:  23% (6191/26916)   Receiving objects:  24% (6460/26916)   Receiving objects:  25% (6729/26916)   Receiving objects:  26% (6999/26916)   Receiving objects:  27% (7268/26916)   Receiving objects:  28% (7537/26916)   Receiving objects:  29% (7806/26916)   Receiving objects:  30% (8075/26916)   Receiving objects:  31% (8344/26916)   Receiving objects:  32% (8614/26916)   Receiving objects:  33% (8883/26916)   Receiving objects:  34% (9152/26916)   Receiving objects:  35% (9421/26916)   Receiving objects:  36% (9690/26916)   Receiving objects:  37% (9959/26916)   Receiving objects:  38% (10229/26916)   Receiving objects:  39% (10498/26916)   Receiving objects:  40% (10767/26916)   Receiving objects:  41% (11036/26916)   Receiving objects:  42% (11305/26916)   Receiving objects:  43% (11574/26916)   Receiving objects:  44% (11844/26916)   Receiving objects:  45% (12113/26916)   Receiving objects:  46% (12382/26916)   Receiving objects:  47% (12651/26916)   Receiving objects:  48% (12920/26916)   Receiving objects:  49% (13189/26916)   Receiving objects:  50% (13458/26916)   Receiving objects:  51% (13728/26916)   Receiving objects:  52% (13997/26916)   Receiving objects:  53% (14266/26916)   Receiving objects:  54% (14535/26916)   Receiving objects:  55% (14804/26916)   Receiving objects:  56% (15073/26916)   Receiving objects:  57% (15343/26916)   Receiving objects:  58% (15612/26916)   Receiving objects:  59% (15881/26916)   Receiving objects:  60% (16150/26916)   Receiving objects:  61% (16419/26916)   Receiving objects:  62% (16688/26916)   Receiving objects:  63% (16958/26916)   Receiving objects:  64% (17227/26916)   Receiving objects:  65% (17496/26916)   Receiving objects:  66% (17765/26916)   Receiving objects:  67% (18034/26916)   Receiving objects:  68% (18303/26916)   Receiving objects:  69% (18573/26916)   Receiving objects:  70% (18842/26916)   Receiving objects:  71% (19111/26916)   Receiving objects:  72% (19380/26916)   Receiving objects:  73% (19649/26916)   Receiving objects:  74% (19918/26916)   Receiving objects:  75% (20187/26916)   Receiving objects:  76% (20457/26916)   Receiving objects:  77% (20726/26916)   Receiving objects:  78% (20995/26916)   Receiving objects:  79% (21264/26916)   Receiving objects:  80% (21533/26916)   Receiving objects:  81% (21802/26916)   Receiving objects:  82% (22072/26916)   Receiving objects:  83% (22341/26916)   Receiving objects:  84% (22610/26916)   Receiving objects:  85% (22879/26916)   Receiving objects:  86% (23148/26916)   Receiving objects:  87% (23417/26916)   Receiving objects:  88% (23687/26916)   Receiving objects:  89% (23956/26916)   Receiving objects:  90% (24225/26916)   Receiving objects:  91% (24494/26916)   Receiving objects:  92% (24763/26916)   Receiving objects:  93% (25032/26916)   Receiving objects:  94% (25302/26916)   Receiving objects:  95% (25571/26916)   Receiving objects:  96% (25840/26916)   Receiving objects:  97% (26109/26916)   Receiving objects:  98% (26378/26916)   Receiving objects:  99% (26647/26916)   remote: Total 26916 (delta 13851), reused 25329 (delta 12528), pack-reused 0[K
Receiving objects: 100% (26916/26916)   Receiving objects: 100% (26916/26916), 5.56 MiB | 0 bytes/s, done.
Resolving deltas:   0% (0/13851)   Resolving deltas:   1% (169/13851)   Resolving deltas:   2% (348/13851)   Resolving deltas:   3% (421/13851)   Resolving deltas:   4% (577/13851)   Resolving deltas:   5% (693/13851)   Resolving deltas:   6% (910/13851)   Resolving deltas:   7% (973/13851)   Resolving deltas:   8% (1127/13851)   Resolving deltas:  10% (1414/13851)   Resolving deltas:  11% (1539/13851)   Resolving deltas:  12% (1663/13851)   Resolving deltas:  13% (1820/13851)   Resolving deltas:  14% (1956/13851)   Resolving deltas:  15% (2082/13851)   Resolving deltas:  16% (2261/13851)   Resolving deltas:  17% (2431/13851)   Resolving deltas:  18% (2497/13851)   Resolving deltas:  19% (2641/13851)   Resolving deltas:  20% (2822/13851)   Resolving deltas:  21% (2910/13851)   Resolving deltas:  22% (3053/13851)   Resolving deltas:  23% (3187/13851)   Resolving deltas:  24% (3327/13851)   Resolving deltas:  25% (3465/13851)   Resolving deltas:  26% (3614/13851)   Resolving deltas:  27% (3741/13851)   Resolving deltas:  28% (3905/13851)   Resolving deltas:  29% (4026/13851)   Resolving deltas:  30% (4185/13851)   Resolving deltas:  31% (4345/13851)   Resolving deltas:  32% (4442/13851)   Resolving deltas:  33% (4578/13851)   Resolving deltas:  34% (4713/13851)   Resolving deltas:  35% (4848/13851)   Resolving deltas:  36% (5120/13851)   Resolving deltas:  37% (5127/13851)   Resolving deltas:  38% (5328/13851)   Resolving deltas:  39% (5442/13851)   Resolving deltas:  40% (5630/13851)   Resolving deltas:  41% (5714/13851)   Resolving deltas:  42% (5829/13851)   Resolving deltas:  43% (5972/13851)   Resolving deltas:  44% (6126/13851)   Resolving deltas:  45% (6249/13851)   Resolving deltas:  46% (6462/13851)   Resolving deltas:  47% (6523/13851)   Resolving deltas:  48% (6706/13851)   Resolving deltas:  49% (6859/13851)   Resolving deltas:  50% (6956/13851)   Resolving deltas:  51% (7108/13851)   Resolving deltas:  52% (7228/13851)   Resolving deltas:  53% (7345/13851)   Resolving deltas:  54% (7482/13851)   Resolving deltas:  55% (7633/13851)   Resolving deltas:  56% (7768/13851)   Resolving deltas:  59% (8219/13851)   Resolving deltas:  60% (8344/13851)   Resolving deltas:  61% (8466/13851)   Resolving deltas:  62% (8606/13851)   Resolving deltas:  63% (8727/13851)   Resolving deltas:  65% (9019/13851)   Resolving deltas:  66% (9142/13851)   Resolving deltas:  67% (9291/13851)   Resolving deltas:  68% (9419/13851)   Resolving deltas:  69% (9563/13851)   Resolving deltas:  70% (9697/13851)   Resolving deltas:  71% (9836/13851)   Resolving deltas:  72% (9976/13851)   Resolving deltas:  73% (10121/13851)   Resolving deltas:  74% (10265/13851)   Resolving deltas:  75% (10394/13851)   Resolving deltas:  76% (10537/13851)   Resolving deltas:  77% (10672/13851)   Resolving deltas:  78% (10814/13851)   Resolving deltas:  79% (10992/13851)   Resolving deltas:  80% (11084/13851)   Resolving deltas:  81% (11223/13851)   Resolving deltas:  82% (11359/13851)   Resolving deltas:  83% (11511/13851)   Resolving deltas:  84% (11642/13851)   Resolving deltas:  85% (11784/13851)   Resolving deltas:  86% (11918/13851)   Resolving deltas:  87% (12056/13851)   Resolving deltas:  88% (12213/13851)   Resolving deltas:  89% (12332/13851)   Resolving deltas:  90% (12474/13851)   Resolving deltas:  91% (12606/13851)   Resolving deltas:  92% (12747/13851)   Resolving deltas:  93% (12885/13851)   Resolving deltas:  94% (13026/13851)   Resolving deltas:  95% (13160/13851)   Resolving deltas:  96% (13299/13851)   Resolving deltas:  97% (13468/13851)   Resolving deltas:  98% (13579/13851)   Resolving deltas:  99% (13713/13851)   Resolving deltas: 100% (13851/13851)   Resolving deltas: 100% (13851/13851), done.
Checking connectivity... done.
travis_time:end:027e2f2b:start=1445012628731452255,finish=1445012630105268102,duration=1373815847[0K$ cd HubSpot/Singularity
$ git checkout -qf 807c08a1e016ba75c0c9b4c5bce6d5f3e4408fcf
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee http://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m
travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0b76d94f[0K$ Installing caching utilities
travis_time:end:0b76d94f:start=1445012631662463976,finish=1445012631763709126,duration=101245150[0Ktravis_time:start:1ba0eff6[0Kattempting to download cache archive
fetching hs_staging/cache--jdk-oraclejdk8.tgz
found cache
travis_time:end:1ba0eff6:start=1445012631768648530,finish=1445012675706589849,duration=43937941319[0Ktravis_time:start:1100a3b4[0Kadding /home/travis/.m2 to cache
adding /home/travis/build/HubSpot/Singularity/SingularityUI/bower_components to cache
adding /home/travis/build/HubSpot/Singularity/SingularityUI/node_modules to cache
travis_time:end:1100a3b4:start=1445012675710996059,finish=1445012696599988064,duration=20888992005[0Ktravis_fold:end:cache.1[0K$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:326073a8[0K$ mvn -Pbuild-swagger-documentation -DskipTests=true -B -q -fae install
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
     [java] Oct 16, 2015 4:25:44 PM java.util.prefs.FileSystemPreferences$1 run
     [java] INFO: Created user preferences directory.
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
travis_time:end:326073a8:start=1445012697110861385,finish=1445013243355479369,duration=546244617984[0Ktravis_fold:end:install[0Ktravis_time:start:0919a5d0[0K$ mvn -B -q -fae verify
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.hubspot.singularity.SingularityHistoryPurgerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 21.255 sec - in com.hubspot.singularity.SingularityHistoryPurgerTest
Running com.hubspot.singularity.SingularityAuthorizationHelperTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.549 sec - in com.hubspot.singularity.SingularityAuthorizationHelperTest
Running com.hubspot.singularity.data.ValidatorTest
16:36:30.430 [main-EventThread] ERROR o.a.c.f.imps.CuratorFrameworkImpl - Background exception was not retry-able or retry gave up
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.delete(CuratorFrameworkImpl.java:347) [curator-framework-2.8.0.jar:na]
	at org.apache.curator.framework.recipes.leader.LeaderLatch.setNode(LeaderLatch.java:661) ~[curator-recipes-2.8.0.jar:na]
	at org.apache.curator.framework.recipes.leader.LeaderLatch.access$300(LeaderLatch.java:63) ~[curator-recipes-2.8.0.jar:na]
	at org.apache.curator.framework.recipes.leader.LeaderLatch$4.processResult(LeaderLatch.java:490) ~[curator-recipes-2.8.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.sendToBackgroundCallback(CuratorFrameworkImpl.java:728) [curator-framework-2.8.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.processBackgroundOperation(CuratorFrameworkImpl.java:505) [curator-framework-2.8.0.jar:na]
	at org.apache.curator.framework.imps.CreateBuilderImpl.sendBackgroundResponse(CreateBuilderImpl.java:541) [curator-framework-2.8.0.jar:na]
	at org.apache.curator.framework.imps.CreateBuilderImpl.access$700(CreateBuilderImpl.java:44) [curator-framework-2.8.0.jar:na]
	at org.apache.curator.framework.imps.CreateBuilderImpl$6.processResult(CreateBuilderImpl.java:500) [curator-framework-2.8.0.jar:na]
	at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:599) [zookeeper-3.4.6.jar:3.4.6-1569965]
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:498) [zookeeper-3.4.6.jar:3.4.6-1569965]
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.406 sec - in com.hubspot.singularity.data.ValidatorTest
Running com.hubspot.singularity.SingularityS3Test
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.339 sec - in com.hubspot.singularity.SingularityS3Test
Running com.hubspot.singularity.scheduler.SlaveTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.632 sec - in com.hubspot.singularity.scheduler.SlaveTest
Running com.hubspot.singularity.data.zkmigrations.ZkMigrationTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.771 sec - in com.hubspot.singularity.data.zkmigrations.ZkMigrationTest
Running com.hubspot.singularity.scheduler.HistoryPersisterTest
16:37:14.527 [check-new-task-pool-0] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable in task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.absent(), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(true), group=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1445002633483-2-IMMEDIATE-1445002633483, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer102"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave1"
}
hostname: "host1"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 125.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 1024.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "name"
task_id {
  value: "test-request-firstDeployId-1445002633483-2-host1-rack1"
}
slave_id {
  value: "slave1"
}
, rackId=Optional.of(rack1)], re-enqueing
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.checkExists(CuratorManager.java:105) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.exists(CuratorManager.java:118) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.isActiveTask(TaskManager.java:407) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.getTaskState(SingularityNewTaskChecker.java:228) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.checkTask(SingularityNewTaskChecker.java:201) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$100(SingularityNewTaskChecker.java:48) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:161) ~[classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:37:14.547 [check-new-task-pool-0] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable re-enqueuing task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.absent(), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(true), group=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1445002633483-2-IMMEDIATE-1445002633483, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer102"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave1"
}
hostname: "host1"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 125.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 1024.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "name"
task_id {
  value: "test-request-firstDeployId-1445002633483-2-host1-rack1"
}
slave_id {
  value: "slave1"
}
, rackId=Optional.of(rack1)], aborting
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@7477a858 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@6db269b1[Shutting down, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_31]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.enqueueCheckWithDelay(SingularityNewTaskChecker.java:189) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheck(SingularityNewTaskChecker.java:183) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheckOrAbort(SingularityNewTaskChecker.java:174) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$400(SingularityNewTaskChecker.java:48) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:166) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.977 sec - in com.hubspot.singularity.scheduler.HistoryPersisterTest
Running com.hubspot.singularity.mesos.SingularityMesosTaskBuilderTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.012 sec - in com.hubspot.singularity.mesos.SingularityMesosTaskBuilderTest
Running com.hubspot.singularity.mesos.SingularityTaskShellCommandTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.116 sec - in com.hubspot.singularity.mesos.SingularityTaskShellCommandTest
Running com.hubspot.singularity.JavaUtilsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.88 sec - in com.hubspot.singularity.JavaUtilsTest
Running com.hubspot.singularity.data.BlendedHistoryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.879 sec - in com.hubspot.singularity.data.BlendedHistoryTest
Running com.hubspot.singularity.mesos.SingularityStartupTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.14 sec - in com.hubspot.singularity.mesos.SingularityStartupTest
Running com.hubspot.singularity.scheduler.MesosUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.436 sec - in com.hubspot.singularity.scheduler.MesosUtilsTest
Running com.hubspot.singularity.scheduler.SingularitySchedulerTest
16:38:37.720 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while saving health check result for test-request-retry_test-1445013512565-1-host1-rack1, will re-enqueue
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.create(CuratorFrameworkImpl.java:339) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.privateCreate(CuratorManager.java:178) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.save(CuratorManager.java:197) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.saveHealthcheckResult(TaskManager.java:267) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:67) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:166) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:193) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:117) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:38:37.732 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while re-enqueuing health check for test-request-retry_test-1445013512565-1-host1-rack1, aborting
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.getNumChildren(CuratorManager.java:91) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.getNumHealthchecks(TaskManager.java:371) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheck(SingularityHealthchecker.java:69) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.reEnqueueOrAbort(SingularityHealthchecker.java:131) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:83) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:166) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:193) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:117) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:39:25.795 [main] ERROR c.h.s.scheduler.SingularityCleaner - LB delete request SingularityLoadBalancerUpdate [loadBalancerState=FAILED, message=Optional.absent(), timestamp=1445013565793, uri=Optional.absent(), method=CHECK_STATE, loadBalancerRequestId=test-request-DELETE-1] (test-request-DELETE-1) got unexpected response FAILED
16:39:29.744 [main] ERROR c.h.s.scheduler.SingularityCleaner - LB removal request SingularityLoadBalancerUpdate [loadBalancerState=SUCCESS, message=Optional.absent(), timestamp=1445013569677, uri=Optional.absent(), method=CHECK_STATE, loadBalancerRequestId=test-request-firstDeployId-1445013569641-1-host1-rack1-ADD-1] (test-request-firstDeployId-1445013569641-1-host1-rack1-REMOVE-1) got unexpected response FAILED
16:39:32.255 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while saving health check result for test-request-hc_test-1445013567195-1-host1-rack1, will re-enqueue
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.create(CuratorFrameworkImpl.java:339) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.privateCreate(CuratorManager.java:178) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.save(CuratorManager.java:197) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.saveHealthcheckResult(TaskManager.java:267) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:67) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:166) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:193) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:117) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:39:32.256 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while re-enqueuing health check for test-request-hc_test-1445013567195-1-host1-rack1, aborting
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.getNumChildren(CuratorManager.java:91) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.getNumHealthchecks(TaskManager.java:371) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheck(SingularityHealthchecker.java:69) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.reEnqueueOrAbort(SingularityHealthchecker.java:131) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:83) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:166) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:193) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:117) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:39:50.343 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while saving health check result for test-request-timeout_test-1445009985249-1-host1-rack1, will re-enqueue
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.create(CuratorFrameworkImpl.java:339) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.privateCreate(CuratorManager.java:178) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.save(CuratorManager.java:197) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.saveHealthcheckResult(TaskManager.java:267) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:67) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:166) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:193) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:117) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:39:50.344 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while re-enqueuing health check for test-request-timeout_test-1445009985249-1-host1-rack1, aborting
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@3f34b3ff rejected from java.util.concurrent.ScheduledThreadPoolExecutor@31f35a69[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_31]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheckWithDelay(SingularityHealthchecker.java:110) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheck(SingularityHealthchecker.java:74) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.reEnqueueOrAbort(SingularityHealthchecker.java:131) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:83) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:166) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:193) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:117) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
16:39:57.006 [main] ERROR c.h.s.m.SingularityMesosScheduler - Unexpected taskId task 
com.hubspot.singularity.data.transcoders.SingularityTranscoderException: java.lang.reflect.InvocationTargetException
	at com.hubspot.singularity.data.transcoders.IdTranscoder.fromString(IdTranscoder.java:44) ~[classes/:na]
	at com.hubspot.singularity.mesos.SingularityMesosScheduler.getTaskId(SingularityMesosScheduler.java:283) [classes/:na]
	at com.hubspot.singularity.mesos.SingularityMesosScheduler.statusUpdate(SingularityMesosScheduler.java:304) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularitySchedulerTest.testTaskOddities(SingularitySchedulerTest.java:1228) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_31]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_31]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_31]
	at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_31]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: java.lang.reflect.InvocationTargetException: null
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_31]
	at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_31]
	at com.hubspot.singularity.data.transcoders.IdTranscoder.fromString(IdTranscoder.java:42) ~[classes/:na]
	... 29 common frames omitted
Caused by: com.hubspot.singularity.InvalidSingularityTaskIdException: TaskId task was invalid (There must be at least 5 instances of - (there were 0))
	at com.hubspot.singularity.SingularityTaskId.valueOf(SingularityTaskId.java:157) ~[SingularityBase-0.4.6-SNAPSHOT.jar:na]
	... 33 common frames omitted
16:39:57.109 [main] ERROR c.h.s.m.SingularityMesosScheduler - Task test-request-firstDeployId-1445013597042-1-host1-rack1 is active but is missing task data
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 125.133 sec - in com.hubspot.singularity.scheduler.SingularitySchedulerTest

Results :

Tests run: 91, Failures: 0, Errors: 0, Skipped: 0


-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.hubspot.singularity.client.SingularityClientModuleTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.056 sec - in com.hubspot.singularity.client.SingularityClientModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

travis_time:end:0919a5d0:start=1445013243360675184,finish=1445013964748209757,duration=721387534573[0K
[32;1mThe command "mvn -B -q -fae verify" exited with 0.[0m
travis_fold:start:cache.2[0Kstore build cache
travis_time:start:05efc8f0[0Kchange detected:
/home/travis/.m2/repository/com/google/guava/guava/resolver-status.properties
/home/travis/.m2/repository/com/google/guava/guava/resolver-status.properties
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT.sh
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT.sh
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT-shaded.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT-shaded.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExampl
...
changes detected, packing new archive
.
.
.
.
.
.
.
.
.
.
.
.
.
uploading archive
travis_time:end:05efc8f0:start=1445013964753030108,finish=1445014107246806322,duration=142493776214[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
