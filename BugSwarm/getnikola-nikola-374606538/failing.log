travis_fold:start:worker_info[0K[33;1mWorker information[0m
hostname: ce49d0a5-63c6-4959-9548-14bcf432457f@1.i-0fb7f71-production-2-worker-org-ec2.travisci.net
version: v3.6.0 https://github.com/travis-ci/worker/tree/170b2a0bb43234479fd1911ba9e4dbcc36dadfad
instance: 17dab13 travisci/ci-garnet:packer-1512502276-986baf0 (via amqp)
startup: 419.721003ms
travis_fold:end:worker_info[0Ktravis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: python
Build group: stable
Build dist: trusty
Build id: 374606537
Job id: 374606538
Runtime kernel version: 4.14.12-041412-generic
travis-build version: cbe49ea23
[34m[1mBuild image provisioning date and time[0m
Tue Dec  5 20:11:19 UTC 2017
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 14.04.5 LTS
Release:	14.04
Codename:	trusty
[34m[1mCookbooks Version[0m
7c2c6a6 https://github.com/travis-ci/travis-cookbooks/tree/7c2c6a6
[34m[1mgit version[0m
git version 2.15.1
[34m[1mbash version[0m
GNU bash, version 4.3.11(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4
Copyright (C) 2013 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mdocker version[0m
Client:
 Version:      17.09.0-ce
 API version:  1.32
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:39:28 2017
 OS/Arch:      linux/amd64
[34m[1mclang version[0m
clang version 5.0.0 (tags/RELEASE_500/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /usr/local/clang-5.0.0/bin
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.4.6
[34m[1mshfmt version[0m
v2.0.0
[34m[1mccache version[0m
ccache version 3.1.9

Copyright (C) 2002-2007 Andrew Tridgell
Copyright (C) 2009-2011 Joel Rosdahl

This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation; either version 3 of the License, or (at your option) any later
version.
[34m[1mcmake version[0m
cmake version 3.9.2

CMake suite maintained and supported by Kitware (kitware.com/cmake).
[34m[1mheroku version[0m
heroku-cli/6.14.39-addc925 (linux-x64) node-v9.2.0
[34m[1mimagemagick version[0m
Version: ImageMagick 6.7.7-10 2017-07-31 Q16 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.2
[34m[1mmercurial version[0m
Mercurial Distributed SCM (version 4.2.2)
(see https://mercurial-scm.org for more information)

Copyright (C) 2005-2017 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.6.33, for debian-linux-gnu (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.1f 6 Jan 2014
[34m[1mpacker version[0m
Packer v1.0.2

Your version of Packer is out of date! The latest version
is 1.1.2. You can update by downloading from www.packer.io
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 9.6.6
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
Copyright (c) 2001-2009 by Adrian Thurston
[34m[1msubversion version[0m
svn, version 1.8.8 (r1568071)
   compiled Aug 10 2017, 17:20:39 on x86_64-pc-linux-gnu

Copyright (C) 2013 The Apache Software Foundation.
This software consists of contributions made by many people;
see the NOTICE file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - using serf 1.3.3
  - handles 'http' scheme
  - handles 'https' scheme

[34m[1msudo version[0m
Sudo version 1.8.9p5
Configure options: --prefix=/usr -v --with-all-insults --with-pam --with-fqdn --with-logging=syslog --with-logfac=authpriv --with-env-editor --with-editor=/usr/bin/editor --with-timeout=15 --with-password-timeout=0 --with-passprompt=[sudo] password for %p:  --without-lecture --with-tty-tickets --disable-root-mailer --enable-admin-flag --with-sendmail=/usr/sbin/sendmail --with-timedir=/var/lib/sudo --mandir=/usr/share/man --libexecdir=/usr/lib/sudo --with-sssd --with-sssd-lib=/usr/lib/x86_64-linux-gnu --with-selinux
Sudoers policy plugin version 1.8.9p5
Sudoers file grammar version 43

Sudoers path: /etc/sudoers
Authentication methods: 'pam'
Syslog facility if syslog is being used for logging: authpriv
Syslog priority to use when user authenticates successfully: notice
Syslog priority to use when user authenticates unsuccessfully: alert
Send mail if the user is not in sudoers
Use a separate timestamp for each user/tty combo
Lecture user the first time they run sudo
Root may run sudo
Allow some information gathering to give useful error messages
Require fully-qualified hostnames in the sudoers file
Visudo will honor the EDITOR environment variable
Set the LOGNAME and USER environment variables
Length at which to wrap log file lines (0 for no wrap): 80
Authentication timestamp timeout: 15.0 minutes
Password prompt timeout: 0.0 minutes
Number of tries to enter a password: 3
Umask to use or 0777 to use user's: 022
Path to mail program: /usr/sbin/sendmail
Flags for mail program: -t
Address to send mail to: root
Subject line for mail messages: *** SECURITY information for %h ***
Incorrect password message: Sorry, try again.
Path to authentication timestamp dir: /var/lib/sudo
Default password prompt: [sudo] password for %p: 
Default user to run commands as: root
Value to override user's $PATH with: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
Path to the editor for use by visudo: /usr/bin/editor
When to require a password for 'list' pseudocommand: any
When to require a password for 'verify' pseudocommand: all
File descriptors >= 3 will be closed before executing a command
Environment variables to check for sanity:
	TZ
	TERM
	LINGUAS
	LC_*
	LANGUAGE
	LANG
	COLORTERM
Environment variables to remove:
	RUBYOPT
	RUBYLIB
	PYTHONUSERBASE
	PYTHONINSPECT
	PYTHONPATH
	PYTHONHOME
	TMPPREFIX
	ZDOTDIR
	READNULLCMD
	NULLCMD
	FPATH
	PERL5DB
	PERL5OPT
	PERL5LIB
	PERLLIB
	PERLIO_DEBUG 
	JAVA_TOOL_OPTIONS
	SHELLOPTS
	GLOBIGNORE
	PS4
	BASH_ENV
	ENV
	TERMCAP
	TERMPATH
	TERMINFO_DIRS
	TERMINFO
	_RLD*
	LD_*
	PATH_LOCALE
	NLSPATH
	HOSTALIASES
	RES_OPTIONS
	LOCALDOMAIN
	CDPATH
	IFS
Environment variables to preserve:
	JAVA_HOME
	TRAVIS
	CI
	DEBIAN_FRONTEND
	XAUTHORIZATION
	XAUTHORITY
	PS2
	PS1
	PATH
	LS_COLORS
	KRB5CCNAME
	HOSTNAME
	HOME
	DISPLAY
	COLORS
Locale to use while parsing sudoers: C
Directory in which to store input/output logs: /var/log/sudo-io
File in which to store the input/output log: %{seq}
Add an entry to the utmp/utmpx file when allocating a pty
PAM service name to use
PAM service name to use for login shells
Create a new PAM session for the command to run in
Maximum I/O log sequence number: 0

Local IP address and netmask pairs:
	172.17.0.2/255.255.0.0

Sudoers I/O plugin version 1.8.9p5
[34m[1mgzip version[0m
gzip 1.6
Copyright (C) 2007, 2010, 2011 Free Software Foundation, Inc.
Copyright (C) 1993 Jean-loup Gailly.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.

Written by Jean-loup Gailly.
[34m[1mzip version[0m
Copyright (c) 1990-2008 Info-ZIP - Type 'zip "-L"' for software license.
This is Zip 3.0 (July 5th 2008), by Info-ZIP.
Currently maintained by E. Gordon.  Please send bug reports to
the authors using the web page at www.info-zip.org; see README for details.

Latest sources and executables are at ftp://ftp.info-zip.org/pub/infozip,
as of above date; see http://www.info-zip.org/ for other sites.

Compiled with gcc 4.8.2 for Unix (Linux ELF) on Oct 21 2013.

Zip special compilation options:
	USE_EF_UT_TIME       (store Universal Time)
	BZIP2_SUPPORT        (bzip2 library version 1.0.6, 6-Sept-2010)
	    bzip2 code and library copyright (c) Julian R Seward
	    (See the bzip2 license for terms of use)
	SYMLINK_SUPPORT      (symbolic links supported)
	LARGE_FILE_SUPPORT   (can read and write large files on file system)
	ZIP64_SUPPORT        (use Zip64 to store large files in archives)
	UNICODE_SUPPORT      (store and read UTF-8 Unicode paths)
	STORE_UNIX_UIDs_GIDs (store UID/GID sizes/values using new extra field)
	UIDGID_NOT_16BIT     (old Unix 16-bit UID/GID extra field not used)
	[encryption, version 2.91 of 05 Jan 2007] (modified for Zip 3)

Encryption notice:
	The encryption code of this program is not copyrighted and is
	put in the public domain.  It was originally written in Europe
	and, to the best of our knowledge, can be freely distributed
	in both source and object forms from any country, including
	the USA under License Exception TSU of the U.S. Export
	Administration Regulations (section 740.13(e)) of 6 June 2002.

Zip environment options:
             ZIP:  [none]
          ZIPOPT:  [none]
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:43:18)
Included patches: 1-52
Extra patches: 8.0.0056
Modified by pkg-vim-maintainers@lists.alioth.debian.org
Compiled by buildd@
Huge version without GUI.  Features included (+) or not (-):
+acl             +farsi           +mouse_netterm   +syntax
+arabic          +file_in_path    +mouse_sgr       +tag_binary
+autocmd         +find_in_path    -mouse_sysmouse  +tag_old_static
-balloon_eval    +float           +mouse_urxvt     -tag_any_white
-browse          +folding         +mouse_xterm     -tcl
++builtin_terms  -footer          +multi_byte      +terminfo
+byte_offset     +fork()          +multi_lang      +termresponse
+cindent         +gettext         -mzscheme        +textobjects
-clientserver    -hangul_input    +netbeans_intg   +title
-clipboard       +iconv           +path_extra      -toolbar
+cmdline_compl   +insert_expand   -perl            +user_commands
+cmdline_hist    +jumplist        +persistent_undo +vertsplit
+cmdline_info    +keymap          +postscript      +virtualedit
+comments        +langmap         +printer         +visual
+conceal         +libcall         +profile         +visualextra
+cryptv          +linebreak       +python          +viminfo
+cscope          +lispindent      -python3         +vreplace
+cursorbind      +listcmds        +quickfix        +wildignore
+cursorshape     +localmap        +reltime         +wildmenu
+dialog_con      -lua             +rightleft       +windows
+diff            +menu            -ruby            +writebackup
+digraphs        +mksession       +scrollbind      -X11
-dnd             +modify_fname    +signs           -xfontset
-ebcdic          +mouse           +smartindent     -xim
+emacs_tags      -mouseshape      -sniff           -xsmp
+eval            +mouse_dec       +startuptime     -xterm_clipboard
+ex_extra        +mouse_gpm       +statusline      -xterm_save
+extra_search    -mouse_jsbterm   -sun_workshop    -xpm
   system vimrc file: "$VIM/vimrc"
     user vimrc file: "$HOME/.vimrc"
 2nd user vimrc file: "~/.vim/vimrc"
      user exrc file: "$HOME/.exrc"
  fall-back for $VIM: "/usr/share/vim"
Compilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H     -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1      
Linking: gcc   -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,--as-needed -o vim        -lm -ltinfo -lnsl  -lselinux  -lacl -lattr -lgpm -ldl    -L/usr/lib/python2.7/config-x86_64-linux-gnu -lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions      
[34m[1miptables version[0m
iptables v1.4.21
[34m[1mcurl version[0m
curl 7.35.0 (x86_64-pc-linux-gnu) libcurl/7.35.0 OpenSSL/1.0.1f zlib/1.2.8 libidn/1.28 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.15 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.0  protocol version 31
[34m[1mgimme version[0m
v1.2.0
[34m[1mnvm version[0m
0.33.6
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.80
[34m[1mphpenv version[0m
rbenv 1.1.1-25-g6aa70b6
[34m[1mrvm version[0m
rvm 1.29.3 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
[34m[1mdefault ruby version[0m
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 56.0.2
[34m[1mMongoDB version[0m
MongoDB 3.4.10
[34m[1mPhantomJS version[0m
2.1.1
[34m[1mPre-installed PostgreSQL versions[0m
9.2.24
9.3.20
9.4.15
9.5.10
9.6.6
[34m[1mRabbitMQ Version[0m
3.6.14
[34m[1mRedis version[0m
redis-server 4.0.6
[34m[1mriak version[0m
2.2.3
[34m[1mPre-installed Go versions[0m
1.7.4
[34m[1mant version[0m
Apache Ant(TM) version 1.9.3 compiled on April 8 2014
[34m[1mmvn version[0m
Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z)
Maven home: /usr/local/maven-3.5.2
Java version: 1.8.0_151, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.4.0-101-generic", arch: "amd64", family: "unix"
[34m[1mgradle version[0m

------------------------------------------------------------
Gradle 4.0.1
------------------------------------------------------------

Build time:   2017-07-07 14:02:41 UTC
Revision:     38e5dc0f772daecca1d2681885d3d85414eb6826

Groovy:       2.4.11
Ant:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015
JVM:          1.8.0_151 (Oracle Corporation 25.151-b12)
OS:           Linux 4.4.0-101-generic amd64

[34m[1mlein version[0m
Leiningen 2.8.1 on Java 1.8.0_151 Java HotSpot(TM) 64-Bit Server VM
[34m[1mPre-installed Node.js versions[0m
v4.8.6
v6.12.0
v6.12.1
v8.9
v8.9.1
[34m[1mphpenv versions[0m
  system
  5.6
* 5.6.32 (set by /home/travis/.phpenv/version)
  7.0
  7.0.25
  7.1
  7.1.11
  hhvm
  hhvm-stable
[34m[1mcomposer --version[0m
Composer version 1.5.2 2017-09-11 16:59:25
[34m[1mPre-installed Ruby versions[0m
ruby-2.2.7
ruby-2.3.4
ruby-2.4.1
travis_fold:end:system_info[0K
[32;1mNetwork availability confirmed.[0m

[33;1m3.4 is not installed; attempting download[0m
[33;1mDownloading archive: https://s3.amazonaws.com/travis-python-archives/binaries/ubuntu/14.04/x86_64/python-3.4.tar.bz2[0m
$ curl -sSf -o python-3.4.tar.bz2 ${archive_url}
$ sudo tar xjf python-3.4.tar.bz2 --directory /
travis_fold:start:git.checkout[0Ktravis_time:start:0c496b6c[0K$ git clone --depth=50 --branch=nuke-sections https://github.com/getnikola/nikola.git getnikola/nikola
Cloning into 'getnikola/nikola'...

travis_time:end:0c496b6c:start=1525380720415143477,finish=1525380721652441085,duration=1237297608[0K$ cd getnikola/nikola
$ git checkout -qf df9399f3d3237aa9df5baff3107bef53711f6dbe
travis_fold:end:git.checkout[0Ktravis_fold:start:apt[0K[33;1mInstalling APT Packages (BETA)[0m
$ export DEBIAN_FRONTEND=noninteractive
travis_time:start:1a770d61[0K$ sudo -E apt-get -yq update &>> ~/apt-get-update.log

travis_time:end:1a770d61:start=1525380721783575817,finish=1525380729343555694,duration=7559979877[0Ktravis_time:start:17415b52[0K$ sudo -E apt-get -yq --no-install-suggests --no-install-recommends --force-yes install language-pack-en-base language-pack-pl-base
Reading package lists...
Building dependency tree...
Reading state information...
language-pack-en-base is already the newest version (1:14.04+20160720).
language-pack-en-base set to manually installed.
The following NEW packages will be installed:
  language-pack-pl language-pack-pl-base
0 upgraded, 2 newly installed, 0 to remove and 178 not upgraded.
Need to get 2,129 kB of archives.
After this operation, 8,930 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu trusty-updates/main amd64 language-pack-pl-base all 1:14.04+20160720 [2,127 kB]
Get:2 http://archive.ubuntu.com/ubuntu trusty-updates/main amd64 language-pack-pl all 1:14.04+20160720 [1,818 B]
Fetched 2,129 kB in 0s (2,185 kB/s)
Selecting previously unselected package language-pack-pl-base.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72205 files and directories currently installed.)
Preparing to unpack .../language-pack-pl-base_1%3a14.04+20160720_all.deb ...
Unpacking language-pack-pl-base (1:14.04+20160720) ...
Selecting previously unselected package language-pack-pl.
Preparing to unpack .../language-pack-pl_1%3a14.04+20160720_all.deb ...
Unpacking language-pack-pl (1:14.04+20160720) ...
Setting up language-pack-pl (1:14.04+20160720) ...
Setting up language-pack-pl-base (1:14.04+20160720) ...
Generating locales...
  pl_PL.UTF-8... done
Generation complete.
W: --force-yes is deprecated, use one of the options starting with --allow instead.

travis_time:end:17415b52:start=1525380729352312698,finish=1525380739607969533,duration=10255656835[0Ktravis_fold:end:apt[0K
[33;1mSetting environment variables from .travis.yml[0m
$ export CODACY_PROJECT_TOKEN=[secure]
$ export NMODE=nikola

travis_time:start:03c21381[0K$ source ~/virtualenv/python3.4/bin/activate

travis_time:end:03c21381:start=1525380745400671013,finish=1525380745409275747,duration=8604734[0Ktravis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0c50a774[0K$ Installing caching utilities

travis_time:end:0c50a774:start=1525380749815759555,finish=1525380749869421085,duration=53661530[0Ktravis_time:start:116976d5[0K
travis_time:end:116976d5:start=1525380749880222814,finish=1525380749886208208,duration=5985394[0Ktravis_time:start:09b17d50[0K[32;1mattempting to download cache archive[0m
[32;1mfetching nuke-sections/cache-linux-trusty-91c4aa214620545fff0d09681d7b6037ea6d01dedc212e39311bee4b2e6961d0--python-3.4.tgz[0m
[32;1mfound cache[0m

travis_time:end:09b17d50:start=1525380749894236449,finish=1525380757580489534,duration=7686253085[0Ktravis_fold:end:cache.1[0Ktravis_fold:start:cache.pip[0K
travis_time:start:0b928181[0K
travis_time:end:0b928181:start=1525380757587907184,finish=1525380757593643456,duration=5736272[0Ktravis_time:start:309a73df[0K[32;1madding /home/travis/.cache/pip to cache[0m

travis_time:end:309a73df:start=1525380757600576458,finish=1525380761339284310,duration=3738707852[0Ktravis_fold:end:cache.pip[0K$ python --version
Python 3.4.6
$ pip --version
pip 9.0.1 from /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (python 3.4)
travis_fold:start:before_install[0Ktravis_time:start:0417bf50[0K$ pip install --upgrade-strategy eager -U pip wheel
Collecting pip
  Using cached https://files.pythonhosted.org/packages/0f/74/ecd13431bcc456ed390b44c8a6e917c1820365cbebcb6a8974d1cd045ab4/pip-10.0.1-py2.py3-none-any.whl
Collecting wheel
  Using cached https://files.pythonhosted.org/packages/1b/d2/22cde5ea9af055f81814f9f2545f5ed8a053eb749c08d186b369959189a8/wheel-0.31.0-py2.py3-none-any.whl
Installing collected packages: pip, wheel
  Found existing installation: pip 9.0.1
    Uninstalling pip-9.0.1:
      Successfully uninstalled pip-9.0.1
  Found existing installation: wheel 0.29.0
    Uninstalling wheel-0.29.0:
      Successfully uninstalled wheel-0.29.0
Successfully installed pip-10.0.1 wheel-0.31.0

travis_time:end:0417bf50:start=1525380761771866165,finish=1525380764074878192,duration=2303012027[0Ktravis_fold:end:before_install[0Ktravis_fold:start:install.1[0Ktravis_time:start:129b9a90[0K$ if [[ $NMODE == 'nikola' ]]; then pip install --upgrade-strategy eager -Ur requirements-tests.txt; if [[ "$?" == '1' ]]; then cat /home/travis/.pip/pip.log; false; fi; fi
Collecting doit>=0.30.1 (from -r requirements.txt (line 1))
  Using cached https://files.pythonhosted.org/packages/d0/4d/ebc39fdf33cc9e039b7c69f6783e929d184e5c0652a1a4543c6c5bd94c1c/doit-0.31.1-py3-none-any.whl
Collecting Pygments>=1.6 (from -r requirements.txt (line 2))
  Using cached https://files.pythonhosted.org/packages/02/ee/b6e02dc6529e82b75bb06823ff7d005b141037cb1416b10c6f00fc419dca/Pygments-2.2.0-py2.py3-none-any.whl
Collecting Pillow>=2.4.0 (from -r requirements.txt (line 3))
  Using cached https://files.pythonhosted.org/packages/c6/c1/dfd3b4d0ddd92cf2ef6bb2b0786649b29fb7e1dd560c00f5ac0383aa7023/Pillow-5.1.0-cp34-cp34m-manylinux1_x86_64.whl
Collecting python-dateutil>=2.6.0 (from -r requirements.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/0c/57/19f3a65bcf6d5be570ee8c35a5398496e10a0ddcbc95393b2d17f86aaaf8/python_dateutil-2.7.2-py2.py3-none-any.whl
Collecting docutils>=0.13 (from -r requirements.txt (line 5))
  Using cached https://files.pythonhosted.org/packages/36/fa/08e9e6e0e3cbd1d362c3bbee8d01d0aedb2155c4ac112b19ef3cae8eed8d/docutils-0.14-py3-none-any.whl
Collecting mako>=1.0.0 (from -r requirements.txt (line 6))
Collecting Markdown>=2.4.0 (from -r requirements.txt (line 7))
  Using cached https://files.pythonhosted.org/packages/6d/7d/488b90f470b96531a3f5788cf12a93332f543dbab13c423a5e7ce96a0493/Markdown-2.6.11-py2.py3-none-any.whl
Collecting unidecode>=0.04.16 (from -r requirements.txt (line 8))
  Using cached https://files.pythonhosted.org/packages/59/ef/67085e30e8bbcdd76e2f0a4ad8151c13a2c5bce77c85f8cad6e1f16fb141/Unidecode-1.0.22-py2.py3-none-any.whl
Collecting lxml>=3.3.5 (from -r requirements.txt (line 9))
  Using cached https://files.pythonhosted.org/packages/9c/8b/92d78357bcbb03e300e45f33a48a322ef458be009b4ed6870a05664128b0/lxml-4.2.1-cp34-cp34m-manylinux1_x86_64.whl
Collecting Yapsy>=1.11.223 (from -r requirements.txt (line 10))
Collecting PyRSS2Gen>=1.1 (from -r requirements.txt (line 11))
Collecting logbook>=0.7.0 (from -r requirements.txt (line 12))
Collecting blinker>=1.3 (from -r requirements.txt (line 13))
Collecting setuptools>=24.2.0 (from -r requirements.txt (line 14))
  Using cached https://files.pythonhosted.org/packages/8c/10/79282747f9169f21c053c562a0baa21815a8c7879be97abd930dbcf862e8/setuptools-39.1.0-py2.py3-none-any.whl
Collecting natsort>=3.5.2 (from -r requirements.txt (line 15))
  Using cached https://files.pythonhosted.org/packages/c9/5d/64d443b303fc213bf7abe2512232d2b47acbc3e6f8e01ad19a9bf7d313cb/natsort-5.3.0-py2.py3-none-any.whl
Collecting requests>=2.2.0 (from -r requirements.txt (line 16))
  Using cached https://files.pythonhosted.org/packages/49/df/50aa1999ab9bde74656c2919d9c0c085fd2b3775fd3eca826012bef76d8c/requests-2.18.4-py2.py3-none-any.whl
Collecting piexif>=1.0.3 (from -r requirements.txt (line 17))
  Using cached https://files.pythonhosted.org/packages/15/44/df42948ce26047a4d34bf7d4333fad194f64d8b596db8472c0bcd57a18ec/piexif-1.0.13-py2.py3-none-any.whl
Collecting Jinja2>=2.7.2 (from -r requirements-extras.txt (line 2))
  Using cached https://files.pythonhosted.org/packages/7f/ff/ae64bacdfc95f27a016a7bed8e8686763ba4d277a78ca76f32659220a731/Jinja2-2.10-py2.py3-none-any.whl
Collecting husl>=4.0.2 (from -r requirements-extras.txt (line 3))
Collecting pyphen>=0.9.1 (from -r requirements-extras.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/dd/c4/74859f895e2361d92cfbb6208ea7afd06c2f1f05c491da71cbd7ce3887be/Pyphen-0.9.4-py2.py3-none-any.whl
Collecting micawber>=0.3.0 (from -r requirements-extras.txt (line 5))
Collecting pygal>=2.0.0 (from -r requirements-extras.txt (line 6))
  Using cached https://files.pythonhosted.org/packages/5f/b7/201c9254ac0d2b8ffa3bb2d528d23a4130876d9ba90bc28e99633f323f17/pygal-2.4.0-py2.py3-none-any.whl
Collecting typogrify>=2.0.4 (from -r requirements-extras.txt (line 7))
Collecting phpserialize>=1.3 (from -r requirements-extras.txt (line 8))
Collecting webassets>=0.10.1 (from -r requirements-extras.txt (line 9))
Collecting notebook>=4.0.0 (from -r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/96/1f/e113875e6b8c8ee0e8c5748bf6fc942a109874adc9ca25248e95cf069803/notebook-5.4.1-py2.py3-none-any.whl
Collecting ipykernel>=4.0.0 (from -r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/ab/3f/cd624c835aa3336a9110d0a99e15070f343b881b7d651ab1375ef226a3ac/ipykernel-4.8.2-py3-none-any.whl
Collecting ghp-import2>=1.0.0 (from -r requirements-extras.txt (line 12))
  Using cached https://files.pythonhosted.org/packages/5f/ef/9a7f507f73b9ae27830de96419ba99e4b8a6b84ac177df6292a7510a0b66/ghp_import2-1.0.1-py2.py3-none-any.whl
Collecting aiohttp>=2.3.8 (from -r requirements-extras.txt (line 13))
  Using cached https://files.pythonhosted.org/packages/03/15/e910dd67933d39cb45bc94543d546646e36177f3d35795a190f64c5a8225/aiohttp-2.3.10-cp34-cp34m-manylinux1_x86_64.whl
Collecting watchdog>=0.8.3 (from -r requirements-extras.txt (line 14))
Collecting PyYAML==3.12 (from -r requirements-extras.txt (line 15))
Collecting toml>=0.9.2 (from -r requirements-extras.txt (line 16))
Requirement already up-to-date: mock==2.0.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from -r requirements-tests.txt (line 2)) (2.0.0)
Collecting coverage==4.5.1 (from -r requirements-tests.txt (line 3))
  Using cached https://files.pythonhosted.org/packages/28/9d/a35b5281e60ef3c8f42a29da5f60811cd2739c0a6f5bd5342d4115eede5e/coverage-4.5.1-cp34-cp34m-manylinux1_x86_64.whl
Collecting pytest==3.5.1 (from -r requirements-tests.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/76/52/fc48d02492d9e6070cb672d9133382e83084f567f88eff1c27bd2c6c27a8/pytest-3.5.1-py2.py3-none-any.whl
Collecting pytest-cov==2.5.1 (from -r requirements-tests.txt (line 5))
  Using cached https://files.pythonhosted.org/packages/30/7d/7f6a78ae44a1248ee28cc777586c18b28a1df903470e5d34a6e25712b8aa/pytest_cov-2.5.1-py2.py3-none-any.whl
Collecting freezegun==0.3.10 (from -r requirements-tests.txt (line 6))
  Using cached https://files.pythonhosted.org/packages/1b/78/feef0b235f1fed24aa5e617dee51f16d7cfd236bdacd0319718ce4706092/freezegun-0.3.10-py2.py3-none-any.whl
Collecting codacy-coverage==1.3.11 (from -r requirements-tests.txt (line 7))
  Using cached https://files.pythonhosted.org/packages/58/2c/5542d0ad47fafca9cc19315dbacfec389afaad9c383aed3ea138a263d777/codacy_coverage-1.3.11-py2.py3-none-any.whl
Collecting colorama>=0.3.4 (from -r requirements-tests.txt (line 8))
  Using cached https://files.pythonhosted.org/packages/db/c8/7dcf9dbcb22429512708fe3a547f8b6101c0d02137acbd892505aee57adf/colorama-0.3.9-py2.py3-none-any.whl
Collecting pyinotify; sys_platform == "linux" (from doit>=0.30.1->-r requirements.txt (line 1))
Collecting cloudpickle (from doit>=0.30.1->-r requirements.txt (line 1))
  Using cached https://files.pythonhosted.org/packages/aa/18/514b557c4d8d4ada1f0454ad06c845454ad438fd5c5e0039ba51d6b032fe/cloudpickle-0.5.2-py2.py3-none-any.whl
Collecting six>=1.5 (from python-dateutil>=2.6.0->-r requirements.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/67/4b/141a581104b1f6397bfa78ac9d43d8ad29a7ca43ea90a2d863fe3056e86a/six-1.11.0-py2.py3-none-any.whl
Collecting MarkupSafe>=0.9.2 (from mako>=1.0.0->-r requirements.txt (line 6))
Collecting urllib3<1.23,>=1.21.1 (from requests>=2.2.0->-r requirements.txt (line 16))
  Using cached https://files.pythonhosted.org/packages/63/cb/6965947c13a94236f6d4b8223e21beb4d576dc72e8130bd7880f600839b8/urllib3-1.22-py2.py3-none-any.whl
Collecting idna<2.7,>=2.5 (from requests>=2.2.0->-r requirements.txt (line 16))
  Using cached https://files.pythonhosted.org/packages/27/cc/6dd9a3869f15c2edfab863b992838277279ce92663d334df9ecf5106f5c6/idna-2.6-py2.py3-none-any.whl
Collecting certifi>=2017.4.17 (from requests>=2.2.0->-r requirements.txt (line 16))
  Using cached https://files.pythonhosted.org/packages/7c/e6/92ad559b7192d846975fc916b65f667c7b8c3a32bea7372340bfe9a15fa5/certifi-2018.4.16-py2.py3-none-any.whl
Collecting chardet<3.1.0,>=3.0.2 (from requests>=2.2.0->-r requirements.txt (line 16))
  Using cached https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl
Collecting smartypants>=1.8.3 (from typogrify>=2.0.4->-r requirements-extras.txt (line 7))
  Using cached https://files.pythonhosted.org/packages/da/ed/1da76d11aa858ee23dac5b52d9ac2db7df02b89f7679d5d8970bcd44b59c/smartypants-2.0.1-py2.py3-none-any.whl
Collecting jupyter-client>=5.2.0 (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/94/dd/fe6c4d683b09eb05342bd2816b7779663f71762b4fa9c2d5203d35d17354/jupyter_client-5.2.3-py2.py3-none-any.whl
Collecting terminado>=0.8.1 (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/2e/20/a26211a24425923d46e1213b376a6ee60dc30bcdf1b0c345e2c3769deb1c/terminado-0.8.1-py2.py3-none-any.whl
Collecting jupyter-core>=4.4.0 (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/1d/44/065d2d7bae7bebc06f1dd70d23c36da8c50c0f08b4236716743d706762a8/jupyter_core-4.4.0-py2.py3-none-any.whl
Collecting Send2Trash (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/49/46/c3dc27481d1cc57b9385aff41c474ceb7714f7935b1247194adae45db714/Send2Trash-1.5.0-py3-none-any.whl
Collecting ipython-genutils (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/fa/bc/9bd3b5c2b4774d5f33b2d544f1460be9df7df2fe42f352135381c347c69a/ipython_genutils-0.2.0-py2.py3-none-any.whl
Collecting tornado>=4 (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
Collecting traitlets>=4.2.1 (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/93/d6/abcb22de61d78e2fc3959c964628a5771e47e7cc60d53e9342e21ed6cc9a/traitlets-4.3.2-py2.py3-none-any.whl
Collecting nbformat (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/da/27/9a654d2b6cc1eaa517d1c5a4405166c7f6d72f04f6e7eea41855fe808a46/nbformat-4.4.0-py2.py3-none-any.whl
Collecting nbconvert (from notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/39/ea/280d6c0d92f8e3ca15fd798bbcc2ea141489f9539de7133d8fe10ea4b049/nbconvert-5.3.1-py2.py3-none-any.whl
Collecting ipython>=4.0.0 (from ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/3a/eb/38a4491ebdbb0d5be6f72abc177a7a49f82541bbebbe5fbfe64b041a782b/ipython-6.3.1-py3-none-any.whl
Collecting idna-ssl>=1.0.0 (from aiohttp>=2.3.8->-r requirements-extras.txt (line 13))
Collecting async-timeout>=1.2.0 (from aiohttp>=2.3.8->-r requirements-extras.txt (line 13))
  Using cached https://files.pythonhosted.org/packages/1d/b9/213521db2918b5b7f7df333a33ea3d38ba70ba705d9db6c29f0343c213ea/async_timeout-2.0.1-py3-none-any.whl
Collecting multidict>=4.0.0 (from aiohttp>=2.3.8->-r requirements-extras.txt (line 13))
  Using cached https://files.pythonhosted.org/packages/e4/a3/7b6aa48374e959c737b3d99714a31e60d7f90e87d0c550f0ab40aa90edb9/multidict-4.2.0-cp34-cp34m-manylinux1_x86_64.whl
Collecting yarl>=1.0.0 (from aiohttp>=2.3.8->-r requirements-extras.txt (line 13))
  Using cached https://files.pythonhosted.org/packages/51/f2/d23b6dc15741de83f14dafeeb0bcb3fd50d4e11544b6ebb336a68a8f0f14/yarl-1.2.0-cp34-cp34m-manylinux1_x86_64.whl
Collecting pathtools>=0.1.1 (from watchdog>=0.8.3->-r requirements-extras.txt (line 14))
Collecting argh>=0.24.1 (from watchdog>=0.8.3->-r requirements-extras.txt (line 14))
  Using cached https://files.pythonhosted.org/packages/06/1c/e667a7126f0b84aaa1c56844337bf0ac12445d1beb9c8a6199a7314944bf/argh-0.26.2-py2.py3-none-any.whl
Collecting pbr>=0.11 (from mock==2.0.0->-r requirements-tests.txt (line 2))
  Using cached https://files.pythonhosted.org/packages/e1/ba/f95e3ec83f93919b1437028e989cf3fa5ff4f5cae4a1f62255f71deddb5b/pbr-4.0.2-py2.py3-none-any.whl
Collecting py>=1.5.0 (from pytest==3.5.1->-r requirements-tests.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/67/a5/f77982214dd4c8fd104b066f249adea2c49e25e8703d284382eb5e9ab35a/py-1.5.3-py2.py3-none-any.whl
Collecting attrs>=17.4.0 (from pytest==3.5.1->-r requirements-tests.txt (line 4))
  Downloading https://files.pythonhosted.org/packages/41/59/cedf87e91ed541be7957c501a92102f9cc6363c623a7666d69d51c78ac5b/attrs-18.1.0-py2.py3-none-any.whl
Collecting more-itertools>=4.0.0 (from pytest==3.5.1->-r requirements-tests.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/7a/46/886917c6a4ce49dd3fff250c01c5abac5390d57992751384fe61befc4877/more_itertools-4.1.0-py3-none-any.whl
Collecting pluggy<0.7,>=0.5 (from pytest==3.5.1->-r requirements-tests.txt (line 4))
  Using cached https://files.pythonhosted.org/packages/ba/65/ded3bc40bbf8d887f262f150fbe1ae6637765b5c9534bd55690ed2c0b0f7/pluggy-0.6.0-py3-none-any.whl
Collecting pyzmq>=13 (from jupyter-client>=5.2.0->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/a1/d8/2ee889a0420e507ade1564c2271e972abd16b5122229c934e68d2ecf7c6c/pyzmq-17.0.0-cp34-cp34m-manylinux1_x86_64.whl
Collecting ptyprocess; os_name != "nt" (from terminado>=0.8.1->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/ff/4e/fa4a73ccfefe2b37d7b6898329e7dbcd1ac846ba3a3b26b294a78a3eb997/ptyprocess-0.5.2-py2.py3-none-any.whl
Collecting backports-abc>=0.4 (from tornado>=4->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/7d/56/6f3ac1b816d0cd8994e83d0c4e55bc64567532f7dc543378bd87f81cebc7/backports_abc-0.5-py2.py3-none-any.whl
Collecting decorator (from traitlets>=4.2.1->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/bc/bb/a24838832ba35baf52f32ab1a49b906b5f82fb7c76b2f6a7e35e140bac30/decorator-4.3.0-py2.py3-none-any.whl
Collecting jsonschema!=2.5.0,>=2.4 (from nbformat->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/77/de/47e35a97b2b05c2fadbec67d44cfcdcd09b8086951b331d82de90d2912da/jsonschema-2.6.0-py2.py3-none-any.whl
Collecting pandocfilters>=1.4.1 (from nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
Collecting entrypoints>=0.2.2 (from nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/cc/8b/4eefa9b47f1910b3d2081da67726b066e379b04ca897acfe9f92bac56147/entrypoints-0.2.3-py2.py3-none-any.whl
Collecting testpath (from nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/15/19/d7bc380c479a184e4a5a9ce516e4e2a773165f89b445f7cdced83d94de25/testpath-0.3.1-py2.py3-none-any.whl
Collecting bleach (from nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/30/b6/a8cffbb9ab4b62b557c22703163735210e9cd857d533740c64e1467d228e/bleach-2.1.3-py2.py3-none-any.whl
Collecting mistune>=0.7.4 (from nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/c8/8c/87f4d359438ba0321a2ae91936030110bfcc62fef752656321a72b8c1af9/mistune-0.8.3-py2.py3-none-any.whl
Collecting prompt-toolkit<2.0.0,>=1.0.15 (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/04/d1/c6616dd03701e7e2073f06d5c3b41b012256e42b72561f16a7bd86dd7b43/prompt_toolkit-1.0.15-py3-none-any.whl
Collecting simplegeneric>0.8 (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
Collecting backcall (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
Collecting pexpect; sys_platform != "win32" (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/b9/3c/e51a76fe78a877afd9acd95a51e3b7610c0983b19ef5a5dfa11735a619b8/pexpect-4.5.0-py2.py3-none-any.whl
Collecting jedi>=0.10 (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/e7/42/074192a165622e645ed4aeade63e76e56b3496a044569b3c6cae3a918352/jedi-0.12.0-py2.py3-none-any.whl
Collecting pickleshare (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/9f/17/daa142fc9be6b76f26f24eeeb9a138940671490b91cb5587393f297c8317/pickleshare-0.7.4-py2.py3-none-any.whl
Collecting typing; python_version <= "3.4" (from ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/05/2b/2b05bf1d5a9dd450447c9a5df3e118a465e5d3cb12b73b7220a5064a403f/typing-3.6.4-py3-none-any.whl
Collecting html5lib!=1.0b1,!=1.0b2,!=1.0b3,!=1.0b4,!=1.0b5,!=1.0b6,!=1.0b7,!=1.0b8,>=0.99999999pre (from bleach->nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/a5/62/bbd2be0e7943ec8504b517e62bab011b4946e1258842bc159e5dfde15b96/html5lib-1.0.1-py2.py3-none-any.whl
Collecting wcwidth (from prompt-toolkit<2.0.0,>=1.0.15->ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/7e/9f/526a6947247599b084ee5232e4f9190a38f398d7300d866af3ab571a5bfe/wcwidth-0.1.7-py2.py3-none-any.whl
Collecting parso>=0.2.0 (from jedi>=0.10->ipython>=4.0.0->ipykernel>=4.0.0->-r requirements-extras.txt (line 11))
  Using cached https://files.pythonhosted.org/packages/63/69/0c383765d192006330bfaae27a2c5d0933fb4760c5aacd933b8b19391693/parso-0.2.0-py2.py3-none-any.whl
Collecting webencodings (from html5lib!=1.0b1,!=1.0b2,!=1.0b3,!=1.0b4,!=1.0b5,!=1.0b6,!=1.0b7,!=1.0b8,>=0.99999999pre->bleach->nbconvert->notebook>=4.0.0->-r requirements-extras.txt (line 10))
  Using cached https://files.pythonhosted.org/packages/f4/24/2a3e3df732393fed8b3ebf2ec078f05546de641fe1b667ee316ec1dcf3b7/webencodings-0.5.1-py2.py3-none-any.whl
Installing collected packages: pyinotify, cloudpickle, doit, Pygments, Pillow, six, python-dateutil, docutils, MarkupSafe, mako, Markdown, unidecode, lxml, Yapsy, PyRSS2Gen, logbook, blinker, setuptools, natsort, urllib3, idna, certifi, chardet, requests, piexif, Jinja2, husl, pyphen, micawber, pygal, smartypants, typogrify, phpserialize, webassets, backports-abc, tornado, ipython-genutils, decorator, traitlets, pyzmq, jupyter-core, jupyter-client, wcwidth, prompt-toolkit, simplegeneric, backcall, ptyprocess, pexpect, parso, jedi, pickleshare, typing, ipython, ipykernel, terminado, Send2Trash, jsonschema, nbformat, pandocfilters, entrypoints, testpath, webencodings, html5lib, bleach, mistune, nbconvert, notebook, ghp-import2, idna-ssl, async-timeout, multidict, yarl, aiohttp, PyYAML, pathtools, argh, watchdog, toml, coverage, py, attrs, more-itertools, pluggy, pytest, pytest-cov, freezegun, codacy-coverage, colorama, pbr
  Found existing installation: six 1.10.0
    Uninstalling six-1.10.0:
      Successfully uninstalled six-1.10.0
  Found existing installation: setuptools 35.0.2
    Uninstalling setuptools-35.0.2:
      Successfully uninstalled setuptools-35.0.2
  Found existing installation: py 1.4.33
    Uninstalling py-1.4.33:
      Successfully uninstalled py-1.4.33
  Found existing installation: pytest 3.0.7
    Uninstalling pytest-3.0.7:
      Successfully uninstalled pytest-3.0.7
  Found existing installation: pbr 3.0.1
    Uninstalling pbr-3.0.1:
      Successfully uninstalled pbr-3.0.1
Successfully installed Jinja2-2.10 Markdown-2.6.11 MarkupSafe-1.0 Pillow-5.1.0 PyRSS2Gen-1.1 PyYAML-3.12 Pygments-2.2.0 Send2Trash-1.5.0 Yapsy-1.11.223 aiohttp-2.3.10 argh-0.26.2 async-timeout-2.0.1 attrs-18.1.0 backcall-0.1.0 backports-abc-0.5 bleach-2.1.3 blinker-1.4 certifi-2018.4.16 chardet-3.0.4 cloudpickle-0.5.2 codacy-coverage-1.3.11 colorama-0.3.9 coverage-4.5.1 decorator-4.3.0 docutils-0.14 doit-0.31.1 entrypoints-0.2.3 freezegun-0.3.10 ghp-import2-1.0.1 html5lib-1.0.1 husl-4.0.3 idna-2.6 idna-ssl-1.0.1 ipykernel-4.8.2 ipython-6.3.1 ipython-genutils-0.2.0 jedi-0.12.0 jsonschema-2.6.0 jupyter-client-5.2.3 jupyter-core-4.4.0 logbook-1.3.3 lxml-4.2.1 mako-1.0.7 micawber-0.3.5 mistune-0.8.3 more-itertools-4.1.0 multidict-4.2.0 natsort-5.3.0 nbconvert-5.3.1 nbformat-4.4.0 notebook-5.4.1 pandocfilters-1.4.2 parso-0.2.0 pathtools-0.1.2 pbr-4.0.2 pexpect-4.5.0 phpserialize-1.3 pickleshare-0.7.4 piexif-1.0.13 pluggy-0.6.0 prompt-toolkit-1.0.15 ptyprocess-0.5.2 py-1.5.3 pygal-2.4.0 pyinotify-0.9.6 pyphen-0.9.4 pytest-3.5.1 pytest-cov-2.5.1 python-dateutil-2.7.2 pyzmq-17.0.0 requests-2.18.4 setuptools-39.1.0 simplegeneric-0.8.1 six-1.11.0 smartypants-2.0.1 terminado-0.8.1 testpath-0.3.1 toml-0.9.4 tornado-5.0.2 traitlets-4.3.2 typing-3.6.4 typogrify-2.0.7 unidecode-1.0.22 urllib3-1.22 watchdog-0.8.3 wcwidth-0.1.7 webassets-0.12.1 webencodings-0.5.1 yarl-1.2.0

travis_time:end:129b9a90:start=1525380764082044232,finish=1525380789823528072,duration=25741483840[0Ktravis_fold:end:install.1[0Ktravis_fold:start:install.2[0Ktravis_time:start:081ee7ec[0K$ if [[ $NMODE == 'nikola' ]]; then pip install .; fi
Processing /home/travis/build/getnikola/nikola
Requirement already satisfied: doit>=0.30.1 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (0.31.1)
Requirement already satisfied: Pygments>=1.6 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (2.2.0)
Requirement already satisfied: Pillow>=2.4.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (5.1.0)
Requirement already satisfied: python-dateutil>=2.6.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (2.7.2)
Requirement already satisfied: docutils>=0.13 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (0.14)
Requirement already satisfied: mako>=1.0.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.0.7)
Requirement already satisfied: Markdown>=2.4.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (2.6.11)
Requirement already satisfied: unidecode>=0.04.16 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.0.22)
Requirement already satisfied: lxml>=3.3.5 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (4.2.1)
Requirement already satisfied: Yapsy>=1.11.223 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.11.223)
Requirement already satisfied: PyRSS2Gen>=1.1 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.1)
Requirement already satisfied: logbook>=0.7.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.3.3)
Requirement already satisfied: blinker>=1.3 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.4)
Requirement already satisfied: setuptools>=24.2.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (39.1.0)
Requirement already satisfied: natsort>=3.5.2 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (5.3.0)
Requirement already satisfied: requests>=2.2.0 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (2.18.4)
Requirement already satisfied: piexif>=1.0.3 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from Nikola==8.0.0.dev0) (1.0.13)
Requirement already satisfied: cloudpickle in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from doit>=0.30.1->Nikola==8.0.0.dev0) (0.5.2)
Requirement already satisfied: pyinotify; sys_platform == "linux" in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from doit>=0.30.1->Nikola==8.0.0.dev0) (0.9.6)
Requirement already satisfied: six>=1.5 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from python-dateutil>=2.6.0->Nikola==8.0.0.dev0) (1.11.0)
Requirement already satisfied: MarkupSafe>=0.9.2 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from mako>=1.0.0->Nikola==8.0.0.dev0) (1.0)
Requirement already satisfied: idna<2.7,>=2.5 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from requests>=2.2.0->Nikola==8.0.0.dev0) (2.6)
Requirement already satisfied: urllib3<1.23,>=1.21.1 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from requests>=2.2.0->Nikola==8.0.0.dev0) (1.22)
Requirement already satisfied: certifi>=2017.4.17 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from requests>=2.2.0->Nikola==8.0.0.dev0) (2018.4.16)
Requirement already satisfied: chardet<3.1.0,>=3.0.2 in /home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages (from requests>=2.2.0->Nikola==8.0.0.dev0) (3.0.4)
Building wheels for collected packages: Nikola
  Running setup.py bdist_wheel for Nikola: started
  Running setup.py bdist_wheel for Nikola: finished with status 'done'
  Stored in directory: /tmp/pip-ephem-wheel-cache-pfxdehww/wheels/e1/87/05/b259f7e4d7d031ee79388f783988b3a3baf9f172c56657f898
Successfully built Nikola
Installing collected packages: Nikola
Successfully installed Nikola-8.0.0.dev0

travis_time:end:081ee7ec:start=1525380789831213799,finish=1525380794423964975,duration=4592751176[0Ktravis_fold:end:install.2[0Ktravis_fold:start:install.3[0Ktravis_time:start:1429aa0c[0K$ if [[ $NMODE == 'flake8' ]]; then pip install flake8 pydocstyle; fi

travis_time:end:1429aa0c:start=1525380794431350976,finish=1525380794436987054,duration=5636078[0Ktravis_fold:end:install.3[0Ktravis_time:start:008e7cc0[0K$ if [[ $NMODE == 'nikola' ]]; then py.test tests/; fi
============================= test session starts ==============================
platform linux -- Python 3.4.6, pytest-3.5.1, py-1.5.3, pluggy-0.6.0
rootdir: /home/travis/build/getnikola/nikola, inifile: setup.cfg
plugins: cov-2.5.1
collected 205 items

tests/test_command_import_wordpress.py ....................              [  9%]
tests/test_command_init.py ......                                        [ 12%]
tests/test_commands.py .                                                 [ 13%]
tests/test_compile_markdown.py ....                                      [ 15%]
tests/test_integration.py .............................................. [ 37%]
..............................EFEFEF                                     [ 55%]
tests/test_locale.py ...................                                 [ 64%]
tests/test_metadata_extractors.py ..............                         [ 71%]
tests/test_plugin_importing.py ...                                       [ 72%]
tests/test_rss_feeds.py ..                                               [ 73%]
tests/test_rst_compiler.py .........                                     [ 78%]
tests/test_scheduling.py .                                               [ 78%]
tests/test_shortcodes.py ............                                    [ 84%]
tests/test_slugify.py ........                                           [ 88%]
tests/test_task_scale_images.py ..                                       [ 89%]
tests/test_template_shortcodes.py ....                                   [ 91%]
tests/test_utils.py ........F.........                                   [100%]

==================================== ERRORS ====================================
____________ ERROR at setup of SectionPageCollisionTest.test_build _____________

self = <nikola.__main__.NikolaTaskLoader object at 0x7f6ea573f6a0>
cmd = <nikola.__main__.Build object at 0x7f6ea40c1e10>
opt_values = {'pdb': None, 'verbosity': None, 'single': False, 'num_process': 0, 'failure_verbosity': 0, 'continue': False, 'strict...e': 'md5', 'backend': 'dbm', 'outfile': <_pytest.capture.EncodedFile object at 0x7f6eb2cb4a20>, 'dep_file': '.doit.db'}
pos_args = []

    def load_tasks(self, cmd, opt_values, pos_args):
        """Load Nikola tasks."""
        if self.quiet:
            DOIT_CONFIG = {
                'verbosity': 0,
                'reporter': 'zero',
            }
        else:
            DOIT_CONFIG = {
                'reporter': ExecutedOnlyReporter,
                'outfile': sys.stderr,
            }
        DOIT_CONFIG['default_tasks'] = ['render_site', 'post_render']
        DOIT_CONFIG.update(self.nikola._doit_config)
        try:
            tasks = generate_tasks(
                'render_site',
>               self.nikola.gen_tasks('render_site', "Task", 'Group of tasks to render the site.'))

/home/travis/build/getnikola/nikola/nikola/__main__.py:277: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

func_name = 'render_site'
gen_result = <generator object gen_tasks at 0x7f6ea40a51f8>, gen_doc = None

    def generate_tasks(func_name, gen_result, gen_doc=None):
        """Create tasks from a task generator result.
    
        @param func_name: (string) name of taskgen function
        @param gen_result: value returned by a task generator function
                           it can be a dict or generator (generating dicts)
        @param gen_doc: (string/None) docstring from the task generator function
        @return: (list - Task)
        """
        # a task instance, just return it without any processing
        if isinstance(gen_result, Task):
            return (gen_result,)
    
        # task described as a dictionary
        if isinstance(gen_result, dict):
            return [_generate_task_from_return(func_name, gen_result, gen_doc)]
    
        # a generator
        if inspect.isgenerator(gen_result):
            tasks = OrderedDict() # task_name: task
            # the generator return subtasks as dictionaries
>           for task_dict, x_doc in flat_generator(gen_result, gen_doc):

/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/loader.py:313: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

gen = <generator object gen_tasks at 0x7f6ea40a51f8>, gen_doc = None

    def flat_generator(gen, gen_doc=''):
        """return only values from generators
        if any generator yields another generator it is recursively called
        """
>       for item in gen:

/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/loader.py:26: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Nikola Site: 'Demo Site'>, name = 'render_site'
plugin_category = 'Task', doc = 'Group of tasks to render the site.'

    def gen_tasks(self, name, plugin_category, doc=''):
        """Generate tasks."""
        def flatten(task):
            """Flatten lists of tasks."""
            if isinstance(task, dict):
                yield task
            else:
                for t in task:
                    for ft in flatten(t):
                        yield ft
    
        task_dep = []
        for pluginInfo in self.plugin_manager.getPluginsOfCategory(plugin_category):
>           for task in flatten(pluginInfo.plugin_object.gen_tasks()):

/home/travis/build/getnikola/nikola/nikola/nikola.py:1958: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

task = <generator object gen_tasks at 0x7f6ea416ba68>

    def flatten(task):
        """Flatten lists of tasks."""
        if isinstance(task, dict):
            yield task
        else:
>           for t in task:

/home/travis/build/getnikola/nikola/nikola/nikola.py:1952: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <yapsy_loaded_plugin_render_posts_41.RenderPosts object at 0x7f6ea41ac080>

    def gen_tasks(self):
        """Build HTML fragments from metadata and text."""
>       self.site.scan_posts()

/home/travis/build/getnikola/nikola/nikola/plugins/task/posts.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Nikola Site: 'Demo Site'>, really = False, ignore_quit = False
quiet = False

    def scan_posts(self, really=False, ignore_quit=False, quiet=False):
        """Scan all the posts.
    
            The `quiet` option is ignored.
            """
        if self._scanned and not really:
            return
    
        # Reset things
        self.posts = []
        self.all_posts = []
        self.posts_per_year = defaultdict(list)
        self.posts_per_month = defaultdict(list)
        self.posts_per_tag = defaultdict(list)
        self.posts_per_category = defaultdict(list)
        self.tags_per_language = defaultdict(list)
        self.category_hierarchy = {}
        self.post_per_file = {}
        self.post_per_input_file = {}
        self.timeline = []
        self.pages = []
    
        for p in sorted(self.plugin_manager.getPluginsOfCategory('PostScanner'), key=operator.attrgetter('name')):
            try:
>               timeline = p.plugin_object.scan()

/home/travis/build/getnikola/nikola/nikola/nikola.py:2077: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <yapsy_loaded_plugin_scan_posts_41.ScanPosts object at 0x7f6ea409af98>

    def scan(self):
        """Create list of posts from POSTS and PAGES options."""
        seen = set([])
        if not self.site.quiet:
            print("Scanning posts", end='', file=sys.stderr)
    
        timeline = []
    
        for wildcard, destination, template_name, use_in_feeds in \
                self.site.config['post_pages']:
            if not self.site.quiet:
                print(".", end='', file=sys.stderr)
            destination_translatable = utils.TranslatableSetting('destination', destination, self.site.config['TRANSLATIONS'])
            dirname = os.path.dirname(wildcard)
            for dirpath, _, _ in os.walk(dirname, followlinks=True):
                rel_dest_dir = os.path.relpath(dirpath, dirname)
                # Get all the untranslated paths
                dir_glob = os.path.join(dirpath, os.path.basename(wildcard))  # posts/foo/*.rst
                untranslated = glob.glob(dir_glob)
                # And now get all the translated paths
                translated = set([])
                for lang in self.site.config['TRANSLATIONS'].keys():
                    if lang == self.site.config['DEFAULT_LANG']:
                        continue
                    lang_glob = utils.get_translation_candidate(self.site.config, dir_glob, lang)  # posts/foo/*.LANG.rst
                    translated = translated.union(set(glob.glob(lang_glob)))
                # untranslated globs like *.rst often match translated paths too, so remove them
                # and ensure x.rst is not in the translated set
                untranslated = set(untranslated) - translated
    
                # also remove from translated paths that are translations of
                # paths in untranslated_list, so x.es.rst is not in the untranslated set
                for p in untranslated:
                    translated = translated - set([utils.get_translation_candidate(self.site.config, p, l) for l in self.site.config['TRANSLATIONS'].keys()])
    
                full_list = list(translated) + list(untranslated)
                # We eliminate from the list the files inside any .ipynb folder
                full_list = [p for p in full_list
                             if not any([x.startswith('.')
                                         for x in p.split(os.sep)])]
    
                for base_path in full_list:
                    if base_path in seen:
                        continue
                    else:
                        seen.add(base_path)
                    try:
                        post = Post(
                            base_path,
                            self.site.config,
                            rel_dest_dir,
                            use_in_feeds,
                            self.site.MESSAGES,
                            template_name,
                            self.site.get_compiler(base_path),
                            destination_base=destination_translatable,
>                           metadata_extractors_by=self.site.metadata_extractors_by
                        )

/home/travis/build/getnikola/nikola/nikola/plugins/misc/scan_posts.py:101: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Post: 'posts/sec1/foo.txt' f480af07adb58bfc7760a52414abb0e8>
source_path = 'posts/sec1/foo.txt'
config = {'ADDITIONAL_METADATA': {}, 'ARCHIVES_ARE_INDEXES': False, 'ARCHIVE_FILENAME': 'archive.html', 'ARCHIVE_PATH': '', ...}
destination = 'sec1', use_in_feeds = True
messages = defaultdict(<class 'dict'>, {'en': {'Posts for {month} {day}, {year}': 'Posts for {month} {day}, {year}', 'Posts for {...avigation', 'More posts about %s': 'More posts about %s', 'Newer posts': 'Newer posts', 'Older posts': 'Older posts'}})
template_name = 'post.tmpl'
compiler = <yapsy_loaded_plugin_rest_41.CompileRest object at 0x7f6ea40ca7f0>
destination_base = <TranslatableSetting: 'destination' = ''>
metadata_extractors_by = {'all': [<nikola.metadata_extractors.NikolaMetadata object at 0x7f6eb02d8828>, <nikola.metadata_extractors.YAMLMetadat...xtractors.YAMLMetadata object at 0x7f6eb02cfa20>, <nikola.metadata_extractors.TOMLMetadata object at 0x7f6eb02d8860>]}}

    def __init__(
        self,
        source_path,
        config,
        destination,
        use_in_feeds,
        messages,
        template_name,
        compiler,
        destination_base=None,
        metadata_extractors_by=None
    ):
        """Initialize post.
    
            The source path is the user created post file. From it we calculate
            the meta file, as well as any translations available, and
            the .html fragment file path.
    
            destination_base must be None or a TranslatableSetting instance. If
            specified, it will be prepended to the destination path.
            """
        self.config = config
        self.compiler = compiler
        self.compiler_contexts = {}
        self.compile_html = self.compiler.compile
        self.demote_headers = self.compiler.demote_headers and self.config['DEMOTE_HEADERS']
        tzinfo = self.config['__tzinfo__']
        if self.config['FUTURE_IS_NOW']:
            self.current_time = None
        else:
            self.current_time = current_time(tzinfo)
        self.translated_to = set([])
        self._prev_post = None
        self._next_post = None
        self.base_url = self.config['BASE_URL']
        self.is_draft = False
        self.is_private = False
        self.strip_indexes = self.config['STRIP_INDEXES']
        self.index_file = self.config['INDEX_FILE']
        self.pretty_urls = self.config['PRETTY_URLS']
        self.source_path = source_path  # posts/blah.txt
        self.post_name = os.path.splitext(source_path)[0]  # posts/blah
        _relpath = os.path.relpath(self.post_name)
        if _relpath != self.post_name:
            self.post_name = _relpath.replace('..' + os.sep, '_..' + os.sep)
        # cache[\/]posts[\/]blah.html
        self.base_path = os.path.join(self.config['CACHE_FOLDER'], self.post_name + ".html")
        # cache/posts/blah.html
        self._base_path = self.base_path.replace('\\', '/')
        self.metadata_path = self.post_name + ".meta"  # posts/blah.meta
        self.folder_relative = destination
        self.folder_base = destination_base
        self.default_lang = self.config['DEFAULT_LANG']
        self.translations = self.config['TRANSLATIONS']
        self.messages = messages
        self.skip_untranslated = not self.config['SHOW_UNTRANSLATED_POSTS']
        self._template_name = template_name
        self.is_two_file = True
        self._reading_time = None
        self._remaining_reading_time = None
        self._paragraph_count = None
        self._remaining_paragraph_count = None
        self._dependency_file_fragment = defaultdict(list)
        self._dependency_file_page = defaultdict(list)
        self._dependency_uptodate_fragment = defaultdict(list)
        self._dependency_uptodate_page = defaultdict(list)
        self._depfile = defaultdict(list)
        if metadata_extractors_by is None:
            self.metadata_extractors_by = {'priority': {}, 'source': {}}
        else:
            self.metadata_extractors_by = metadata_extractors_by
    
        # Load internationalized metadata
        for lang in self.translations:
            if os.path.isfile(get_translation_candidate(self.config, self.source_path, lang)):
                self.translated_to.add(lang)
    
        default_metadata, default_used_extractor = get_meta(self, lang=None)
    
        self.meta = Functionary(lambda: None, self.default_lang)
        self.used_extractor = Functionary(lambda: None, self.default_lang)
        self.meta[self.default_lang] = default_metadata
        self.used_extractor[self.default_lang] = default_used_extractor
    
        for lang in self.translations:
            if lang != self.default_lang:
                meta = defaultdict(lambda: '')
                meta.update(default_metadata)
                _meta, _extractors = get_meta(self, lang)
                meta.update(_meta)
                self.meta[lang] = meta
                self.used_extractor[lang] = _extractors
    
        if not self.is_translation_available(self.default_lang):
            # Special case! (Issue #373)
            # Fill default_metadata with stuff from the other languages
            for lang in sorted(self.translated_to):
                default_metadata.update(self.meta[lang])
        # Compose paths
        if self.folder_base is not None:
            # Use translatable destination folders
            self.folders = {}
            for lang in self.config['TRANSLATIONS'].keys():
                if os.path.isabs(self.folder_base(lang)):  # Issue 2982
                    self.folder_base[lang] = os.path.relpath(self.folder_base(lang), '/')
                self.folders[lang] = os.path.normpath(os.path.join(self.folder_base(lang), self.folder_relative))
        else:
            # Old behavior (non-translatable destination path, normalized by scanner)
            self.folders = {lang: self.folder_relative for lang in self.config['TRANSLATIONS'].keys()}
        self.folder = self.folders[self.default_lang]
    
        # Load data field from metadata
        self.data = Functionary(lambda: None, self.default_lang)
        for lang in self.translations:
            if self.meta[lang].get('data') is not None:
                self.data[lang] = utils.load_data(self.meta[lang]['data'])
    
        if 'date' not in default_metadata and not use_in_feeds:
            # For pages we don't *really* need a date
            if self.config['__invariant__']:
                default_metadata['date'] = datetime.datetime(2013, 12, 31, 23, 59, 59, tzinfo=tzinfo)
            else:
                default_metadata['date'] = datetime.datetime.utcfromtimestamp(
                    os.stat(self.source_path).st_ctime).replace(tzinfo=dateutil.tz.tzutc()).astimezone(tzinfo)
    
        # If time zone is set, build localized datetime.
        try:
            self.date = to_datetime(self.meta[self.default_lang]['date'], tzinfo)
        except ValueError:
            if not self.meta[self.default_lang]['date']:
                msg = 'Missing date in file {}'.format(source_path)
            else:
                msg = "Invalid date '{0}' in file {1}".format(self.meta[self.default_lang]['date'], source_path)
            LOGGER.error(msg)
            raise ValueError(msg)
    
        if 'updated' not in default_metadata:
            default_metadata['updated'] = default_metadata.get('date', None)
    
        self.updated = to_datetime(default_metadata['updated'], tzinfo)
    
        if 'title' not in default_metadata or 'slug' not in default_metadata \
                or 'date' not in default_metadata:
            raise ValueError("You must set a title (found '{0}'), a slug (found '{1}') and a date (found '{2}')! "
                             "[in file {3}]".format(default_metadata.get('title', None),
                                                    default_metadata.get('slug', None),
                                                    default_metadata.get('date', None),
                                                    source_path))
    
        if 'type' not in default_metadata:
            # default value is 'text'
            default_metadata['type'] = 'text'
    
        for lang, meta in self.meta.items():
            # Migrate section to category
            # TODO: remove in v9
            if 'section' in meta:
                if 'category' in meta:
                    LOGGER.warn("Post {0} has both 'category' and 'section' metadata. Section will be ignored.".format(source_path))
                else:
                    meta['category'] = meta['section']
                    LOGGER.notice("Post {0} uses 'section' metadata, setting its value to 'category'".format(source_path))
    
            # Handle CATEGORY_DESTPATH_AS_DEFAULT
            if 'category' not in meta and self.config['CATEGORY_DESTPATH_AS_DEFAULT']:
                self.category_from_destpath = True
                if self.config['CATEGORY_DESTPATH_TRIM_PREFIX'] and self.folder_relative != '.':
                    category = self.folder_relative
                else:
                    category = self.folders[lang]
                category = category.replace(os.sep, '/')
                if self.config['CATEGORY_DESTPATH_FIRST_DIRECTORY_ONLY']:
                    category = category.split('/')[0]
>               meta['category'] = self.config['CATEGORY_DESTPATH_NAMES'](lang).get(category, category)
E               TypeError: 'dict' object is not callable

/home/travis/build/getnikola/nikola/nikola/post.py:260: TypeError

During handling of the above exception, another exception occurred:

cls = <class 'tests.test_integration.SectionPageCollisionTest'>

    @classmethod
    def setUpClass(cls):
        """Setup a demo site."""
        # for tests that need bilingual support override language_settings
        cls.language_settings()
        cls.startdir = os.getcwd()
        cls.tmpdir = tempfile.mkdtemp()
        cls.target_dir = os.path.join(cls.tmpdir, "target")
        cls.init_command = nikola.plugins.command.init.CommandInit()
        cls.fill_site()
        cls.patch_site()
>       cls.build()

/home/travis/build/getnikola/nikola/tests/test_integration.py:40: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/home/travis/build/getnikola/nikola/tests/test_integration.py:70: in build
    __main__.main(["build"])
/home/travis/build/getnikola/nikola/nikola/__main__.py:166: in main
    _ = DN.run(oargs)
/home/travis/build/getnikola/nikola/nikola/__main__.py:370: in run
    return super(DoitNikola, self).run(cmd_args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/doit_cmd.py:177: in run
    return command.parse_execute(args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/cmd_base.py:127: in parse_execute
    return self.execute(params, args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/cmd_base.py:389: in execute
    self, params, args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <nikola.__main__.NikolaTaskLoader object at 0x7f6ea573f6a0>
cmd = <nikola.__main__.Build object at 0x7f6ea40c1e10>
opt_values = {'pdb': None, 'verbosity': None, 'single': False, 'num_process': 0, 'failure_verbosity': 0, 'continue': False, 'strict...e': 'md5', 'backend': 'dbm', 'outfile': <_pytest.capture.EncodedFile object at 0x7f6eb2cb4a20>, 'dep_file': '.doit.db'}
pos_args = []

    def load_tasks(self, cmd, opt_values, pos_args):
        """Load Nikola tasks."""
        if self.quiet:
            DOIT_CONFIG = {
                'verbosity': 0,
                'reporter': 'zero',
            }
        else:
            DOIT_CONFIG = {
                'reporter': ExecutedOnlyReporter,
                'outfile': sys.stderr,
            }
        DOIT_CONFIG['default_tasks'] = ['render_site', 'post_render']
        DOIT_CONFIG.update(self.nikola._doit_config)
        try:
            tasks = generate_tasks(
                'render_site',
                self.nikola.gen_tasks('render_site', "Task", 'Group of tasks to render the site.'))
            latetasks = generate_tasks(
                'post_render',
                self.nikola.gen_tasks('post_render', "LateTask", 'Group of tasks to be executed after site is rendered.'))
            signal('initialized').send(self.nikola)
        except Exception:
            LOGGER.error('Error loading tasks. An unhandled exception occurred.')
            if self.nikola.debug or self.nikola.show_tracebacks:
                raise
            _print_exception()
>           sys.exit(3)
E           SystemExit: 3

/home/travis/build/getnikola/nikola/nikola/__main__.py:287: SystemExit
---------------------------- Captured stderr setup -----------------------------
[2018-05-03T20:55:29Z] WARNING: Nikola: The sections feature has been removed and its functionality has been merged into categories.
[2018-05-03T20:55:29Z] WARNING: Nikola: For more information on how to migrate, please read: TODO
[2018-05-03T20:55:29Z] INFO: Nikola: Setting CATEGORY_DESTPATH_AS_DEFAULT = True
Scanning posts.[2018-05-03T20:55:29Z] ERROR: scan_posts: Error reading post posts/sec1/foo.txt
[2018-05-03T20:55:29Z] ERROR: Nikola: Error reading timeline
[2018-05-03T20:55:29Z] ERROR: Nikola: Error loading tasks. An unhandled exception occurred.
[2018-05-03T20:55:29Z] ERROR: Nikola: TypeError: 'dict' object is not callable
[2018-05-03T20:55:29Z] NOTICE: Nikola: To see more details, run Nikola in debug mode (set environment variable NIKOLA_DEBUG=1) or use NIKOLA_SHOW_TRACEBACKS=1
------------------------------ Captured log setup ------------------------------
PluginFileLocator.py       417 DEBUG    PluginFileLocator walks (recursively) into directory: /home/travis/build/getnikola/nikola/nikola/plugins
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    basic_import.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/auto.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/check.plugin
PluginFileLocator.py       426 DEBUG    check.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/console.plugin
PluginFileLocator.py       426 DEBUG    console.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/default_config.plugin
PluginFileLocator.py       426 DEBUG    default_config.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/deploy.plugin
PluginFileLocator.py       426 DEBUG    deploy.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/github_deploy.plugin
PluginFileLocator.py       426 DEBUG    github_deploy.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/import_wordpress.plugin
PluginFileLocator.py       426 DEBUG    import_wordpress.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/init.plugin
PluginFileLocator.py       426 DEBUG    init.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/new_page.plugin
PluginFileLocator.py       426 DEBUG    new_page.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/new_post.plugin
PluginFileLocator.py       426 DEBUG    new_post.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/orphans.plugin
PluginFileLocator.py       426 DEBUG    orphans.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/plugin.plugin
PluginFileLocator.py       426 DEBUG    plugin.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/rst2html.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/serve.plugin
PluginFileLocator.py       426 DEBUG    serve.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/status.plugin
PluginFileLocator.py       426 DEBUG    status.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/subtheme.plugin
PluginFileLocator.py       426 DEBUG    subtheme.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/theme.plugin
PluginFileLocator.py       426 DEBUG    theme.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/version.plugin
PluginFileLocator.py       426 DEBUG    version.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    livereload.js is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    rst2html.tmpl is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    import_wordpress.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    init.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    version.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    check.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    console.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    default_config.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    deploy.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    github_deploy.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    new_page.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    new_post.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    orphans.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    plugin.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    serve.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    status.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    subtheme.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    theme.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/html.plugin
PluginFileLocator.py       426 DEBUG    html.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/ipynb.plugin
PluginFileLocator.py       426 DEBUG    ipynb.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/pandoc.plugin
PluginFileLocator.py       426 DEBUG    pandoc.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/php.plugin
PluginFileLocator.py       426 DEBUG    php.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest.plugin
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_gist.plugin
PluginFileLocator.py       426 DEBUG    mdx_gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_nikola.plugin
PluginFileLocator.py       426 DEBUG    mdx_nikola.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_podcast.plugin
PluginFileLocator.py       426 DEBUG    mdx_podcast.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_nikola.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_podcast.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/chart.plugin
PluginFileLocator.py       426 DEBUG    chart.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/doc.plugin
PluginFileLocator.py       426 DEBUG    doc.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/gist.plugin
PluginFileLocator.py       426 DEBUG    gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/listing.plugin
PluginFileLocator.py       426 DEBUG    listing.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/media.plugin
PluginFileLocator.py       426 DEBUG    media.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/post_list.plugin
PluginFileLocator.py       426 DEBUG    post_list.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/soundcloud.plugin
PluginFileLocator.py       426 DEBUG    soundcloud.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    template.txt is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/thumbnail.plugin
PluginFileLocator.py       426 DEBUG    thumbnail.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/vimeo.plugin
PluginFileLocator.py       426 DEBUG    vimeo.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/youtube.plugin
PluginFileLocator.py       426 DEBUG    youtube.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    vimeo.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listing.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    doc.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    chart.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    media.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    post_list.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    soundcloud.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    thumbnail.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    youtube.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    ipynb.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    html.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    pandoc.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    php.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/misc/scan_posts.plugin
PluginFileLocator.py       426 DEBUG    scan_posts.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/misc/taxonomies_classifier.plugin
PluginFileLocator.py       426 DEBUG    taxonomies_classifier.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    scan_posts.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    taxonomies_classifier.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/chart.plugin
PluginFileLocator.py       426 DEBUG    chart.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/emoji.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/gist.plugin
PluginFileLocator.py       426 DEBUG    gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/listing.plugin
PluginFileLocator.py       426 DEBUG    listing.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/post_list.plugin
PluginFileLocator.py       426 DEBUG    post_list.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/thumbnail.plugin
PluginFileLocator.py       426 DEBUG    thumbnail.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Activity.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Flags.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Food.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    LICENSE is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Nature.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Objects.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    People.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Symbols.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Travel.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    chart.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listing.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    post_list.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    thumbnail.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/archive.plugin
PluginFileLocator.py       426 DEBUG    archive.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/authors.plugin
PluginFileLocator.py       426 DEBUG    authors.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/bundles.plugin
PluginFileLocator.py       426 DEBUG    bundles.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/categories.plugin
PluginFileLocator.py       426 DEBUG    categories.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/copy_assets.plugin
PluginFileLocator.py       426 DEBUG    copy_assets.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/copy_files.plugin
PluginFileLocator.py       426 DEBUG    copy_files.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/galleries.plugin
PluginFileLocator.py       426 DEBUG    galleries.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/gzip.plugin
PluginFileLocator.py       426 DEBUG    gzip.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/indexes.plugin
PluginFileLocator.py       426 DEBUG    indexes.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/listings.plugin
PluginFileLocator.py       426 DEBUG    listings.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/page_index.plugin
PluginFileLocator.py       426 DEBUG    page_index.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/pages.plugin
PluginFileLocator.py       426 DEBUG    pages.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/posts.plugin
PluginFileLocator.py       426 DEBUG    posts.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/redirect.plugin
PluginFileLocator.py       426 DEBUG    redirect.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/robots.plugin
PluginFileLocator.py       426 DEBUG    robots.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/scale_images.plugin
PluginFileLocator.py       426 DEBUG    scale_images.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/sitemap.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/sources.plugin
PluginFileLocator.py       426 DEBUG    sources.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/tagcloud.plugin
PluginFileLocator.py       426 DEBUG    tagcloud.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/tags.plugin
PluginFileLocator.py       426 DEBUG    tags.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/taxonomies.plugin
PluginFileLocator.py       426 DEBUG    taxonomies.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    scale_images.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    galleries.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    archive.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    authors.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    bundles.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    categories.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    copy_assets.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    copy_files.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gzip.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    indexes.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listings.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    page_index.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    pages.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    posts.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    redirect.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    robots.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    sources.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    tagcloud.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    tags.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    taxonomies.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/template/jinja.plugin
PluginFileLocator.py       426 DEBUG    jinja.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/template/mako.plugin
PluginFileLocator.py       426 DEBUG    mako.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    jinja.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mako.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    basic_import.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       408 DEBUG    PluginFileLocator skips /home/travis/.nikola/plugins (not a directory)
PluginFileLocator.py       408 DEBUG    PluginFileLocator skips /tmp/tmp1u_67ket/target/plugins (not a directory)
__________________ ERROR at setup of PageIndexTest.test_build __________________

self = <nikola.__main__.NikolaTaskLoader object at 0x7f6ea4010240>
cmd = <nikola.__main__.Build object at 0x7f6ea3b60cc0>
opt_values = {'pdb': None, 'verbosity': None, 'single': False, 'num_process': 0, 'failure_verbosity': 0, 'continue': False, 'strict...e': 'md5', 'backend': 'dbm', 'outfile': <_pytest.capture.EncodedFile object at 0x7f6eb2cb4a20>, 'dep_file': '.doit.db'}
pos_args = []

    def load_tasks(self, cmd, opt_values, pos_args):
        """Load Nikola tasks."""
        if self.quiet:
            DOIT_CONFIG = {
                'verbosity': 0,
                'reporter': 'zero',
            }
        else:
            DOIT_CONFIG = {
                'reporter': ExecutedOnlyReporter,
                'outfile': sys.stderr,
            }
        DOIT_CONFIG['default_tasks'] = ['render_site', 'post_render']
        DOIT_CONFIG.update(self.nikola._doit_config)
        try:
            tasks = generate_tasks(
                'render_site',
>               self.nikola.gen_tasks('render_site', "Task", 'Group of tasks to render the site.'))

/home/travis/build/getnikola/nikola/nikola/__main__.py:277: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

func_name = 'render_site'
gen_result = <generator object gen_tasks at 0x7f6ea4019438>, gen_doc = None

    def generate_tasks(func_name, gen_result, gen_doc=None):
        """Create tasks from a task generator result.
    
        @param func_name: (string) name of taskgen function
        @param gen_result: value returned by a task generator function
                           it can be a dict or generator (generating dicts)
        @param gen_doc: (string/None) docstring from the task generator function
        @return: (list - Task)
        """
        # a task instance, just return it without any processing
        if isinstance(gen_result, Task):
            return (gen_result,)
    
        # task described as a dictionary
        if isinstance(gen_result, dict):
            return [_generate_task_from_return(func_name, gen_result, gen_doc)]
    
        # a generator
        if inspect.isgenerator(gen_result):
            tasks = OrderedDict() # task_name: task
            # the generator return subtasks as dictionaries
>           for task_dict, x_doc in flat_generator(gen_result, gen_doc):

/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/loader.py:313: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

gen = <generator object gen_tasks at 0x7f6ea4019438>, gen_doc = None

    def flat_generator(gen, gen_doc=''):
        """return only values from generators
        if any generator yields another generator it is recursively called
        """
>       for item in gen:

/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/loader.py:26: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Nikola Site: 'Demo Site'>, name = 'render_site'
plugin_category = 'Task', doc = 'Group of tasks to render the site.'

    def gen_tasks(self, name, plugin_category, doc=''):
        """Generate tasks."""
        def flatten(task):
            """Flatten lists of tasks."""
            if isinstance(task, dict):
                yield task
            else:
                for t in task:
                    for ft in flatten(t):
                        yield ft
    
        task_dep = []
        for pluginInfo in self.plugin_manager.getPluginsOfCategory(plugin_category):
>           for task in flatten(pluginInfo.plugin_object.gen_tasks()):

/home/travis/build/getnikola/nikola/nikola/nikola.py:1958: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

task = <generator object gen_tasks at 0x7f6ea4058678>

    def flatten(task):
        """Flatten lists of tasks."""
        if isinstance(task, dict):
            yield task
        else:
>           for t in task:

/home/travis/build/getnikola/nikola/nikola/nikola.py:1952: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <yapsy_loaded_plugin_render_posts_42.RenderPosts object at 0x7f6ea403eb00>

    def gen_tasks(self):
        """Build HTML fragments from metadata and text."""
>       self.site.scan_posts()

/home/travis/build/getnikola/nikola/nikola/plugins/task/posts.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Nikola Site: 'Demo Site'>, really = False, ignore_quit = False
quiet = False

    def scan_posts(self, really=False, ignore_quit=False, quiet=False):
        """Scan all the posts.
    
            The `quiet` option is ignored.
            """
        if self._scanned and not really:
            return
    
        # Reset things
        self.posts = []
        self.all_posts = []
        self.posts_per_year = defaultdict(list)
        self.posts_per_month = defaultdict(list)
        self.posts_per_tag = defaultdict(list)
        self.posts_per_category = defaultdict(list)
        self.tags_per_language = defaultdict(list)
        self.category_hierarchy = {}
        self.post_per_file = {}
        self.post_per_input_file = {}
        self.timeline = []
        self.pages = []
    
        for p in sorted(self.plugin_manager.getPluginsOfCategory('PostScanner'), key=operator.attrgetter('name')):
            try:
>               timeline = p.plugin_object.scan()

/home/travis/build/getnikola/nikola/nikola/nikola.py:2077: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <yapsy_loaded_plugin_scan_posts_42.ScanPosts object at 0x7f6ea403ef60>

    def scan(self):
        """Create list of posts from POSTS and PAGES options."""
        seen = set([])
        if not self.site.quiet:
            print("Scanning posts", end='', file=sys.stderr)
    
        timeline = []
    
        for wildcard, destination, template_name, use_in_feeds in \
                self.site.config['post_pages']:
            if not self.site.quiet:
                print(".", end='', file=sys.stderr)
            destination_translatable = utils.TranslatableSetting('destination', destination, self.site.config['TRANSLATIONS'])
            dirname = os.path.dirname(wildcard)
            for dirpath, _, _ in os.walk(dirname, followlinks=True):
                rel_dest_dir = os.path.relpath(dirpath, dirname)
                # Get all the untranslated paths
                dir_glob = os.path.join(dirpath, os.path.basename(wildcard))  # posts/foo/*.rst
                untranslated = glob.glob(dir_glob)
                # And now get all the translated paths
                translated = set([])
                for lang in self.site.config['TRANSLATIONS'].keys():
                    if lang == self.site.config['DEFAULT_LANG']:
                        continue
                    lang_glob = utils.get_translation_candidate(self.site.config, dir_glob, lang)  # posts/foo/*.LANG.rst
                    translated = translated.union(set(glob.glob(lang_glob)))
                # untranslated globs like *.rst often match translated paths too, so remove them
                # and ensure x.rst is not in the translated set
                untranslated = set(untranslated) - translated
    
                # also remove from translated paths that are translations of
                # paths in untranslated_list, so x.es.rst is not in the untranslated set
                for p in untranslated:
                    translated = translated - set([utils.get_translation_candidate(self.site.config, p, l) for l in self.site.config['TRANSLATIONS'].keys()])
    
                full_list = list(translated) + list(untranslated)
                # We eliminate from the list the files inside any .ipynb folder
                full_list = [p for p in full_list
                             if not any([x.startswith('.')
                                         for x in p.split(os.sep)])]
    
                for base_path in full_list:
                    if base_path in seen:
                        continue
                    else:
                        seen.add(base_path)
                    try:
                        post = Post(
                            base_path,
                            self.site.config,
                            rel_dest_dir,
                            use_in_feeds,
                            self.site.MESSAGES,
                            template_name,
                            self.site.get_compiler(base_path),
                            destination_base=destination_translatable,
>                           metadata_extractors_by=self.site.metadata_extractors_by
                        )

/home/travis/build/getnikola/nikola/nikola/plugins/misc/scan_posts.py:101: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Post: 'pages/page0.txt' 9c1dccdcb4db886c5abc8a04c154e727>
source_path = 'pages/page0.txt'
config = {'ADDITIONAL_METADATA': {}, 'ARCHIVES_ARE_INDEXES': False, 'ARCHIVE_FILENAME': 'archive.html', 'ARCHIVE_PATH': '', ...}
destination = '.', use_in_feeds = False
messages = defaultdict(<class 'dict'>, {'en': {'Posts for {month} {day}, {year}': 'Posts for {month} {day}, {year}', 'Posts for {...avigation', 'More posts about %s': 'More posts about %s', 'Newer posts': 'Newer posts', 'Older posts': 'Older posts'}})
template_name = 'page.tmpl'
compiler = <yapsy_loaded_plugin_rest_42.CompileRest object at 0x7f6ea3b60cf8>
destination_base = <TranslatableSetting: 'destination' = 'pages'>
metadata_extractors_by = {'all': [<nikola.metadata_extractors.NikolaMetadata object at 0x7f6eb02d8828>, <nikola.metadata_extractors.YAMLMetadat...xtractors.YAMLMetadata object at 0x7f6eb02cfa20>, <nikola.metadata_extractors.TOMLMetadata object at 0x7f6eb02d8860>]}}

    def __init__(
        self,
        source_path,
        config,
        destination,
        use_in_feeds,
        messages,
        template_name,
        compiler,
        destination_base=None,
        metadata_extractors_by=None
    ):
        """Initialize post.
    
            The source path is the user created post file. From it we calculate
            the meta file, as well as any translations available, and
            the .html fragment file path.
    
            destination_base must be None or a TranslatableSetting instance. If
            specified, it will be prepended to the destination path.
            """
        self.config = config
        self.compiler = compiler
        self.compiler_contexts = {}
        self.compile_html = self.compiler.compile
        self.demote_headers = self.compiler.demote_headers and self.config['DEMOTE_HEADERS']
        tzinfo = self.config['__tzinfo__']
        if self.config['FUTURE_IS_NOW']:
            self.current_time = None
        else:
            self.current_time = current_time(tzinfo)
        self.translated_to = set([])
        self._prev_post = None
        self._next_post = None
        self.base_url = self.config['BASE_URL']
        self.is_draft = False
        self.is_private = False
        self.strip_indexes = self.config['STRIP_INDEXES']
        self.index_file = self.config['INDEX_FILE']
        self.pretty_urls = self.config['PRETTY_URLS']
        self.source_path = source_path  # posts/blah.txt
        self.post_name = os.path.splitext(source_path)[0]  # posts/blah
        _relpath = os.path.relpath(self.post_name)
        if _relpath != self.post_name:
            self.post_name = _relpath.replace('..' + os.sep, '_..' + os.sep)
        # cache[\/]posts[\/]blah.html
        self.base_path = os.path.join(self.config['CACHE_FOLDER'], self.post_name + ".html")
        # cache/posts/blah.html
        self._base_path = self.base_path.replace('\\', '/')
        self.metadata_path = self.post_name + ".meta"  # posts/blah.meta
        self.folder_relative = destination
        self.folder_base = destination_base
        self.default_lang = self.config['DEFAULT_LANG']
        self.translations = self.config['TRANSLATIONS']
        self.messages = messages
        self.skip_untranslated = not self.config['SHOW_UNTRANSLATED_POSTS']
        self._template_name = template_name
        self.is_two_file = True
        self._reading_time = None
        self._remaining_reading_time = None
        self._paragraph_count = None
        self._remaining_paragraph_count = None
        self._dependency_file_fragment = defaultdict(list)
        self._dependency_file_page = defaultdict(list)
        self._dependency_uptodate_fragment = defaultdict(list)
        self._dependency_uptodate_page = defaultdict(list)
        self._depfile = defaultdict(list)
        if metadata_extractors_by is None:
            self.metadata_extractors_by = {'priority': {}, 'source': {}}
        else:
            self.metadata_extractors_by = metadata_extractors_by
    
        # Load internationalized metadata
        for lang in self.translations:
            if os.path.isfile(get_translation_candidate(self.config, self.source_path, lang)):
                self.translated_to.add(lang)
    
        default_metadata, default_used_extractor = get_meta(self, lang=None)
    
        self.meta = Functionary(lambda: None, self.default_lang)
        self.used_extractor = Functionary(lambda: None, self.default_lang)
        self.meta[self.default_lang] = default_metadata
        self.used_extractor[self.default_lang] = default_used_extractor
    
        for lang in self.translations:
            if lang != self.default_lang:
                meta = defaultdict(lambda: '')
                meta.update(default_metadata)
                _meta, _extractors = get_meta(self, lang)
                meta.update(_meta)
                self.meta[lang] = meta
                self.used_extractor[lang] = _extractors
    
        if not self.is_translation_available(self.default_lang):
            # Special case! (Issue #373)
            # Fill default_metadata with stuff from the other languages
            for lang in sorted(self.translated_to):
                default_metadata.update(self.meta[lang])
        # Compose paths
        if self.folder_base is not None:
            # Use translatable destination folders
            self.folders = {}
            for lang in self.config['TRANSLATIONS'].keys():
                if os.path.isabs(self.folder_base(lang)):  # Issue 2982
                    self.folder_base[lang] = os.path.relpath(self.folder_base(lang), '/')
                self.folders[lang] = os.path.normpath(os.path.join(self.folder_base(lang), self.folder_relative))
        else:
            # Old behavior (non-translatable destination path, normalized by scanner)
            self.folders = {lang: self.folder_relative for lang in self.config['TRANSLATIONS'].keys()}
        self.folder = self.folders[self.default_lang]
    
        # Load data field from metadata
        self.data = Functionary(lambda: None, self.default_lang)
        for lang in self.translations:
            if self.meta[lang].get('data') is not None:
                self.data[lang] = utils.load_data(self.meta[lang]['data'])
    
        if 'date' not in default_metadata and not use_in_feeds:
            # For pages we don't *really* need a date
            if self.config['__invariant__']:
                default_metadata['date'] = datetime.datetime(2013, 12, 31, 23, 59, 59, tzinfo=tzinfo)
            else:
                default_metadata['date'] = datetime.datetime.utcfromtimestamp(
                    os.stat(self.source_path).st_ctime).replace(tzinfo=dateutil.tz.tzutc()).astimezone(tzinfo)
    
        # If time zone is set, build localized datetime.
        try:
            self.date = to_datetime(self.meta[self.default_lang]['date'], tzinfo)
        except ValueError:
            if not self.meta[self.default_lang]['date']:
                msg = 'Missing date in file {}'.format(source_path)
            else:
                msg = "Invalid date '{0}' in file {1}".format(self.meta[self.default_lang]['date'], source_path)
            LOGGER.error(msg)
            raise ValueError(msg)
    
        if 'updated' not in default_metadata:
            default_metadata['updated'] = default_metadata.get('date', None)
    
        self.updated = to_datetime(default_metadata['updated'], tzinfo)
    
        if 'title' not in default_metadata or 'slug' not in default_metadata \
                or 'date' not in default_metadata:
            raise ValueError("You must set a title (found '{0}'), a slug (found '{1}') and a date (found '{2}')! "
                             "[in file {3}]".format(default_metadata.get('title', None),
                                                    default_metadata.get('slug', None),
                                                    default_metadata.get('date', None),
                                                    source_path))
    
        if 'type' not in default_metadata:
            # default value is 'text'
            default_metadata['type'] = 'text'
    
        for lang, meta in self.meta.items():
            # Migrate section to category
            # TODO: remove in v9
            if 'section' in meta:
                if 'category' in meta:
                    LOGGER.warn("Post {0} has both 'category' and 'section' metadata. Section will be ignored.".format(source_path))
                else:
                    meta['category'] = meta['section']
                    LOGGER.notice("Post {0} uses 'section' metadata, setting its value to 'category'".format(source_path))
    
            # Handle CATEGORY_DESTPATH_AS_DEFAULT
            if 'category' not in meta and self.config['CATEGORY_DESTPATH_AS_DEFAULT']:
                self.category_from_destpath = True
                if self.config['CATEGORY_DESTPATH_TRIM_PREFIX'] and self.folder_relative != '.':
                    category = self.folder_relative
                else:
                    category = self.folders[lang]
                category = category.replace(os.sep, '/')
                if self.config['CATEGORY_DESTPATH_FIRST_DIRECTORY_ONLY']:
                    category = category.split('/')[0]
>               meta['category'] = self.config['CATEGORY_DESTPATH_NAMES'](lang).get(category, category)
E               TypeError: 'dict' object is not callable

/home/travis/build/getnikola/nikola/nikola/post.py:260: TypeError

During handling of the above exception, another exception occurred:

cls = <class 'tests.test_integration.PageIndexTest'>

    @classmethod
    def setUpClass(cls):
        """Setup a demo site."""
        # for tests that need bilingual support override language_settings
        cls.language_settings()
        cls.startdir = os.getcwd()
        cls.tmpdir = tempfile.mkdtemp()
        cls.target_dir = os.path.join(cls.tmpdir, "target")
        cls.init_command = nikola.plugins.command.init.CommandInit()
        cls.fill_site()
        cls.patch_site()
>       cls.build()

/home/travis/build/getnikola/nikola/tests/test_integration.py:40: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/home/travis/build/getnikola/nikola/tests/test_integration.py:70: in build
    __main__.main(["build"])
/home/travis/build/getnikola/nikola/nikola/__main__.py:166: in main
    _ = DN.run(oargs)
/home/travis/build/getnikola/nikola/nikola/__main__.py:370: in run
    return super(DoitNikola, self).run(cmd_args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/doit_cmd.py:177: in run
    return command.parse_execute(args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/cmd_base.py:127: in parse_execute
    return self.execute(params, args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/cmd_base.py:389: in execute
    self, params, args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <nikola.__main__.NikolaTaskLoader object at 0x7f6ea4010240>
cmd = <nikola.__main__.Build object at 0x7f6ea3b60cc0>
opt_values = {'pdb': None, 'verbosity': None, 'single': False, 'num_process': 0, 'failure_verbosity': 0, 'continue': False, 'strict...e': 'md5', 'backend': 'dbm', 'outfile': <_pytest.capture.EncodedFile object at 0x7f6eb2cb4a20>, 'dep_file': '.doit.db'}
pos_args = []

    def load_tasks(self, cmd, opt_values, pos_args):
        """Load Nikola tasks."""
        if self.quiet:
            DOIT_CONFIG = {
                'verbosity': 0,
                'reporter': 'zero',
            }
        else:
            DOIT_CONFIG = {
                'reporter': ExecutedOnlyReporter,
                'outfile': sys.stderr,
            }
        DOIT_CONFIG['default_tasks'] = ['render_site', 'post_render']
        DOIT_CONFIG.update(self.nikola._doit_config)
        try:
            tasks = generate_tasks(
                'render_site',
                self.nikola.gen_tasks('render_site', "Task", 'Group of tasks to render the site.'))
            latetasks = generate_tasks(
                'post_render',
                self.nikola.gen_tasks('post_render', "LateTask", 'Group of tasks to be executed after site is rendered.'))
            signal('initialized').send(self.nikola)
        except Exception:
            LOGGER.error('Error loading tasks. An unhandled exception occurred.')
            if self.nikola.debug or self.nikola.show_tracebacks:
                raise
            _print_exception()
>           sys.exit(3)
E           SystemExit: 3

/home/travis/build/getnikola/nikola/nikola/__main__.py:287: SystemExit
---------------------------- Captured stderr setup -----------------------------
[2018-05-03T20:55:31Z] WARNING: Nikola: The sections feature has been removed and its functionality has been merged into categories.
[2018-05-03T20:55:31Z] WARNING: Nikola: For more information on how to migrate, please read: TODO
[2018-05-03T20:55:31Z] INFO: Nikola: Setting CATEGORY_DESTPATH_AS_DEFAULT = True
Scanning posts.......[2018-05-03T20:55:32Z] ERROR: scan_posts: Error reading post pages/page0.txt
[2018-05-03T20:55:32Z] ERROR: Nikola: Error reading timeline
[2018-05-03T20:55:32Z] ERROR: Nikola: Error loading tasks. An unhandled exception occurred.
[2018-05-03T20:55:32Z] ERROR: Nikola: TypeError: 'dict' object is not callable
[2018-05-03T20:55:32Z] NOTICE: Nikola: To see more details, run Nikola in debug mode (set environment variable NIKOLA_DEBUG=1) or use NIKOLA_SHOW_TRACEBACKS=1
------------------------------ Captured log setup ------------------------------
PluginFileLocator.py       417 DEBUG    PluginFileLocator walks (recursively) into directory: /home/travis/build/getnikola/nikola/nikola/plugins
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    basic_import.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/auto.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/check.plugin
PluginFileLocator.py       426 DEBUG    check.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/console.plugin
PluginFileLocator.py       426 DEBUG    console.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/default_config.plugin
PluginFileLocator.py       426 DEBUG    default_config.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/deploy.plugin
PluginFileLocator.py       426 DEBUG    deploy.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/github_deploy.plugin
PluginFileLocator.py       426 DEBUG    github_deploy.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/import_wordpress.plugin
PluginFileLocator.py       426 DEBUG    import_wordpress.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/init.plugin
PluginFileLocator.py       426 DEBUG    init.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/new_page.plugin
PluginFileLocator.py       426 DEBUG    new_page.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/new_post.plugin
PluginFileLocator.py       426 DEBUG    new_post.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/orphans.plugin
PluginFileLocator.py       426 DEBUG    orphans.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/plugin.plugin
PluginFileLocator.py       426 DEBUG    plugin.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/rst2html.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/serve.plugin
PluginFileLocator.py       426 DEBUG    serve.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/status.plugin
PluginFileLocator.py       426 DEBUG    status.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/subtheme.plugin
PluginFileLocator.py       426 DEBUG    subtheme.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/theme.plugin
PluginFileLocator.py       426 DEBUG    theme.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/version.plugin
PluginFileLocator.py       426 DEBUG    version.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    livereload.js is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    rst2html.tmpl is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    import_wordpress.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    init.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    version.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    check.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    console.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    default_config.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    deploy.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    github_deploy.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    new_page.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    new_post.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    orphans.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    plugin.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    serve.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    status.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    subtheme.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    theme.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/html.plugin
PluginFileLocator.py       426 DEBUG    html.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/ipynb.plugin
PluginFileLocator.py       426 DEBUG    ipynb.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/pandoc.plugin
PluginFileLocator.py       426 DEBUG    pandoc.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/php.plugin
PluginFileLocator.py       426 DEBUG    php.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest.plugin
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_gist.plugin
PluginFileLocator.py       426 DEBUG    mdx_gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_nikola.plugin
PluginFileLocator.py       426 DEBUG    mdx_nikola.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_podcast.plugin
PluginFileLocator.py       426 DEBUG    mdx_podcast.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_nikola.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_podcast.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/chart.plugin
PluginFileLocator.py       426 DEBUG    chart.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/doc.plugin
PluginFileLocator.py       426 DEBUG    doc.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/gist.plugin
PluginFileLocator.py       426 DEBUG    gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/listing.plugin
PluginFileLocator.py       426 DEBUG    listing.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/media.plugin
PluginFileLocator.py       426 DEBUG    media.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/post_list.plugin
PluginFileLocator.py       426 DEBUG    post_list.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/soundcloud.plugin
PluginFileLocator.py       426 DEBUG    soundcloud.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    template.txt is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/thumbnail.plugin
PluginFileLocator.py       426 DEBUG    thumbnail.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/vimeo.plugin
PluginFileLocator.py       426 DEBUG    vimeo.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/youtube.plugin
PluginFileLocator.py       426 DEBUG    youtube.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    vimeo.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listing.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    doc.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    chart.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    media.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    post_list.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    soundcloud.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    thumbnail.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    youtube.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    ipynb.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    html.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    pandoc.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    php.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/misc/scan_posts.plugin
PluginFileLocator.py       426 DEBUG    scan_posts.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/misc/taxonomies_classifier.plugin
PluginFileLocator.py       426 DEBUG    taxonomies_classifier.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    scan_posts.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    taxonomies_classifier.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/chart.plugin
PluginFileLocator.py       426 DEBUG    chart.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/emoji.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/gist.plugin
PluginFileLocator.py       426 DEBUG    gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/listing.plugin
PluginFileLocator.py       426 DEBUG    listing.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/post_list.plugin
PluginFileLocator.py       426 DEBUG    post_list.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/thumbnail.plugin
PluginFileLocator.py       426 DEBUG    thumbnail.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Activity.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Flags.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Food.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    LICENSE is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Nature.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Objects.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    People.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Symbols.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Travel.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    chart.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listing.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    post_list.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    thumbnail.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/archive.plugin
PluginFileLocator.py       426 DEBUG    archive.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/authors.plugin
PluginFileLocator.py       426 DEBUG    authors.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/bundles.plugin
PluginFileLocator.py       426 DEBUG    bundles.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/categories.plugin
PluginFileLocator.py       426 DEBUG    categories.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/copy_assets.plugin
PluginFileLocator.py       426 DEBUG    copy_assets.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/copy_files.plugin
PluginFileLocator.py       426 DEBUG    copy_files.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/galleries.plugin
PluginFileLocator.py       426 DEBUG    galleries.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/gzip.plugin
PluginFileLocator.py       426 DEBUG    gzip.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/indexes.plugin
PluginFileLocator.py       426 DEBUG    indexes.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/listings.plugin
PluginFileLocator.py       426 DEBUG    listings.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/page_index.plugin
PluginFileLocator.py       426 DEBUG    page_index.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/pages.plugin
PluginFileLocator.py       426 DEBUG    pages.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/posts.plugin
PluginFileLocator.py       426 DEBUG    posts.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/redirect.plugin
PluginFileLocator.py       426 DEBUG    redirect.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/robots.plugin
PluginFileLocator.py       426 DEBUG    robots.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/scale_images.plugin
PluginFileLocator.py       426 DEBUG    scale_images.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/sitemap.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/sources.plugin
PluginFileLocator.py       426 DEBUG    sources.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/tagcloud.plugin
PluginFileLocator.py       426 DEBUG    tagcloud.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/tags.plugin
PluginFileLocator.py       426 DEBUG    tags.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/taxonomies.plugin
PluginFileLocator.py       426 DEBUG    taxonomies.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    scale_images.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    galleries.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    archive.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    authors.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    bundles.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    categories.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    copy_assets.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    copy_files.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gzip.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    indexes.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listings.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    page_index.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    pages.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    posts.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    redirect.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    robots.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    sources.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    tagcloud.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    tags.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    taxonomies.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/template/jinja.plugin
PluginFileLocator.py       426 DEBUG    jinja.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/template/mako.plugin
PluginFileLocator.py       426 DEBUG    mako.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    jinja.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mako.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    basic_import.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       408 DEBUG    PluginFileLocator skips /home/travis/.nikola/plugins (not a directory)
PluginFileLocator.py       408 DEBUG    PluginFileLocator skips /tmp/tmpuchq1trw/target/plugins (not a directory)
__init__.py                190 DEBUG    Successfully loaded extension "yapsy_loaded_plugin_mdx_nikola_31.NikolaExtension".
__init__.py                190 DEBUG    Successfully loaded extension "yapsy_loaded_plugin_mdx_gist_31.GistExtension".
__init__.py                190 DEBUG    Successfully loaded extension "yapsy_loaded_plugin_mdx_podcast_31.PodcastExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.fenced_code".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.codehilite".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.extra".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.smart_strong".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.smart_strong.SmartEmphasisExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.fenced_code".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.footnotes".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.footnotes.FootnoteExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.attr_list".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.attr_list.AttrListExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.def_list".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.def_list.DefListExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.tables".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.tables.TableExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.abbr".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.abbr.AbbrExtension".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.extra.ExtraExtension".
_____________ ERROR at setup of PageIndexPrettyUrlsTest.test_build _____________

self = <nikola.__main__.NikolaTaskLoader object at 0x7f6ea7633978>
cmd = <nikola.__main__.Build object at 0x7f6ea3e75240>
opt_values = {'pdb': None, 'verbosity': None, 'single': False, 'num_process': 0, 'failure_verbosity': 0, 'continue': False, 'strict...e': 'md5', 'backend': 'dbm', 'outfile': <_pytest.capture.EncodedFile object at 0x7f6eb2cb4a20>, 'dep_file': '.doit.db'}
pos_args = []

    def load_tasks(self, cmd, opt_values, pos_args):
        """Load Nikola tasks."""
        if self.quiet:
            DOIT_CONFIG = {
                'verbosity': 0,
                'reporter': 'zero',
            }
        else:
            DOIT_CONFIG = {
                'reporter': ExecutedOnlyReporter,
                'outfile': sys.stderr,
            }
        DOIT_CONFIG['default_tasks'] = ['render_site', 'post_render']
        DOIT_CONFIG.update(self.nikola._doit_config)
        try:
            tasks = generate_tasks(
                'render_site',
>               self.nikola.gen_tasks('render_site', "Task", 'Group of tasks to render the site.'))

/home/travis/build/getnikola/nikola/nikola/__main__.py:277: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

func_name = 'render_site'
gen_result = <generator object gen_tasks at 0x7f6ea3e5ba68>, gen_doc = None

    def generate_tasks(func_name, gen_result, gen_doc=None):
        """Create tasks from a task generator result.
    
        @param func_name: (string) name of taskgen function
        @param gen_result: value returned by a task generator function
                           it can be a dict or generator (generating dicts)
        @param gen_doc: (string/None) docstring from the task generator function
        @return: (list - Task)
        """
        # a task instance, just return it without any processing
        if isinstance(gen_result, Task):
            return (gen_result,)
    
        # task described as a dictionary
        if isinstance(gen_result, dict):
            return [_generate_task_from_return(func_name, gen_result, gen_doc)]
    
        # a generator
        if inspect.isgenerator(gen_result):
            tasks = OrderedDict() # task_name: task
            # the generator return subtasks as dictionaries
>           for task_dict, x_doc in flat_generator(gen_result, gen_doc):

/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/loader.py:313: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

gen = <generator object gen_tasks at 0x7f6ea3e5ba68>, gen_doc = None

    def flat_generator(gen, gen_doc=''):
        """return only values from generators
        if any generator yields another generator it is recursively called
        """
>       for item in gen:

/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/loader.py:26: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Nikola Site: 'Demo Site'>, name = 'render_site'
plugin_category = 'Task', doc = 'Group of tasks to render the site.'

    def gen_tasks(self, name, plugin_category, doc=''):
        """Generate tasks."""
        def flatten(task):
            """Flatten lists of tasks."""
            if isinstance(task, dict):
                yield task
            else:
                for t in task:
                    for ft in flatten(t):
                        yield ft
    
        task_dep = []
        for pluginInfo in self.plugin_manager.getPluginsOfCategory(plugin_category):
>           for task in flatten(pluginInfo.plugin_object.gen_tasks()):

/home/travis/build/getnikola/nikola/nikola/nikola.py:1958: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

task = <generator object gen_tasks at 0x7f6ea3e4a5a0>

    def flatten(task):
        """Flatten lists of tasks."""
        if isinstance(task, dict):
            yield task
        else:
>           for t in task:

/home/travis/build/getnikola/nikola/nikola/nikola.py:1952: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <yapsy_loaded_plugin_render_posts_43.RenderPosts object at 0x7f6ea3ea98d0>

    def gen_tasks(self):
        """Build HTML fragments from metadata and text."""
>       self.site.scan_posts()

/home/travis/build/getnikola/nikola/nikola/plugins/task/posts.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Nikola Site: 'Demo Site'>, really = False, ignore_quit = False
quiet = False

    def scan_posts(self, really=False, ignore_quit=False, quiet=False):
        """Scan all the posts.
    
            The `quiet` option is ignored.
            """
        if self._scanned and not really:
            return
    
        # Reset things
        self.posts = []
        self.all_posts = []
        self.posts_per_year = defaultdict(list)
        self.posts_per_month = defaultdict(list)
        self.posts_per_tag = defaultdict(list)
        self.posts_per_category = defaultdict(list)
        self.tags_per_language = defaultdict(list)
        self.category_hierarchy = {}
        self.post_per_file = {}
        self.post_per_input_file = {}
        self.timeline = []
        self.pages = []
    
        for p in sorted(self.plugin_manager.getPluginsOfCategory('PostScanner'), key=operator.attrgetter('name')):
            try:
>               timeline = p.plugin_object.scan()

/home/travis/build/getnikola/nikola/nikola/nikola.py:2077: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <yapsy_loaded_plugin_scan_posts_43.ScanPosts object at 0x7f6ea3ea9a20>

    def scan(self):
        """Create list of posts from POSTS and PAGES options."""
        seen = set([])
        if not self.site.quiet:
            print("Scanning posts", end='', file=sys.stderr)
    
        timeline = []
    
        for wildcard, destination, template_name, use_in_feeds in \
                self.site.config['post_pages']:
            if not self.site.quiet:
                print(".", end='', file=sys.stderr)
            destination_translatable = utils.TranslatableSetting('destination', destination, self.site.config['TRANSLATIONS'])
            dirname = os.path.dirname(wildcard)
            for dirpath, _, _ in os.walk(dirname, followlinks=True):
                rel_dest_dir = os.path.relpath(dirpath, dirname)
                # Get all the untranslated paths
                dir_glob = os.path.join(dirpath, os.path.basename(wildcard))  # posts/foo/*.rst
                untranslated = glob.glob(dir_glob)
                # And now get all the translated paths
                translated = set([])
                for lang in self.site.config['TRANSLATIONS'].keys():
                    if lang == self.site.config['DEFAULT_LANG']:
                        continue
                    lang_glob = utils.get_translation_candidate(self.site.config, dir_glob, lang)  # posts/foo/*.LANG.rst
                    translated = translated.union(set(glob.glob(lang_glob)))
                # untranslated globs like *.rst often match translated paths too, so remove them
                # and ensure x.rst is not in the translated set
                untranslated = set(untranslated) - translated
    
                # also remove from translated paths that are translations of
                # paths in untranslated_list, so x.es.rst is not in the untranslated set
                for p in untranslated:
                    translated = translated - set([utils.get_translation_candidate(self.site.config, p, l) for l in self.site.config['TRANSLATIONS'].keys()])
    
                full_list = list(translated) + list(untranslated)
                # We eliminate from the list the files inside any .ipynb folder
                full_list = [p for p in full_list
                             if not any([x.startswith('.')
                                         for x in p.split(os.sep)])]
    
                for base_path in full_list:
                    if base_path in seen:
                        continue
                    else:
                        seen.add(base_path)
                    try:
                        post = Post(
                            base_path,
                            self.site.config,
                            rel_dest_dir,
                            use_in_feeds,
                            self.site.MESSAGES,
                            template_name,
                            self.site.get_compiler(base_path),
                            destination_base=destination_translatable,
>                           metadata_extractors_by=self.site.metadata_extractors_by
                        )

/home/travis/build/getnikola/nikola/nikola/plugins/misc/scan_posts.py:101: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Post: 'pages/page0.txt' 2a268b78cdb7ca8728ce3df37ce9462f>
source_path = 'pages/page0.txt'
config = {'ADDITIONAL_METADATA': {}, 'ARCHIVES_ARE_INDEXES': False, 'ARCHIVE_FILENAME': 'archive.html', 'ARCHIVE_PATH': '', ...}
destination = '.', use_in_feeds = False
messages = defaultdict(<class 'dict'>, {'en': {'Posts for {month} {day}, {year}': 'Posts for {month} {day}, {year}', 'Posts for {...avigation', 'More posts about %s': 'More posts about %s', 'Newer posts': 'Newer posts', 'Older posts': 'Older posts'}})
template_name = 'page.tmpl'
compiler = <yapsy_loaded_plugin_rest_43.CompileRest object at 0x7f6ea3e75940>
destination_base = <TranslatableSetting: 'destination' = 'pages'>
metadata_extractors_by = {'all': [<nikola.metadata_extractors.NikolaMetadata object at 0x7f6eb02d8828>, <nikola.metadata_extractors.YAMLMetadat...xtractors.YAMLMetadata object at 0x7f6eb02cfa20>, <nikola.metadata_extractors.TOMLMetadata object at 0x7f6eb02d8860>]}}

    def __init__(
        self,
        source_path,
        config,
        destination,
        use_in_feeds,
        messages,
        template_name,
        compiler,
        destination_base=None,
        metadata_extractors_by=None
    ):
        """Initialize post.
    
            The source path is the user created post file. From it we calculate
            the meta file, as well as any translations available, and
            the .html fragment file path.
    
            destination_base must be None or a TranslatableSetting instance. If
            specified, it will be prepended to the destination path.
            """
        self.config = config
        self.compiler = compiler
        self.compiler_contexts = {}
        self.compile_html = self.compiler.compile
        self.demote_headers = self.compiler.demote_headers and self.config['DEMOTE_HEADERS']
        tzinfo = self.config['__tzinfo__']
        if self.config['FUTURE_IS_NOW']:
            self.current_time = None
        else:
            self.current_time = current_time(tzinfo)
        self.translated_to = set([])
        self._prev_post = None
        self._next_post = None
        self.base_url = self.config['BASE_URL']
        self.is_draft = False
        self.is_private = False
        self.strip_indexes = self.config['STRIP_INDEXES']
        self.index_file = self.config['INDEX_FILE']
        self.pretty_urls = self.config['PRETTY_URLS']
        self.source_path = source_path  # posts/blah.txt
        self.post_name = os.path.splitext(source_path)[0]  # posts/blah
        _relpath = os.path.relpath(self.post_name)
        if _relpath != self.post_name:
            self.post_name = _relpath.replace('..' + os.sep, '_..' + os.sep)
        # cache[\/]posts[\/]blah.html
        self.base_path = os.path.join(self.config['CACHE_FOLDER'], self.post_name + ".html")
        # cache/posts/blah.html
        self._base_path = self.base_path.replace('\\', '/')
        self.metadata_path = self.post_name + ".meta"  # posts/blah.meta
        self.folder_relative = destination
        self.folder_base = destination_base
        self.default_lang = self.config['DEFAULT_LANG']
        self.translations = self.config['TRANSLATIONS']
        self.messages = messages
        self.skip_untranslated = not self.config['SHOW_UNTRANSLATED_POSTS']
        self._template_name = template_name
        self.is_two_file = True
        self._reading_time = None
        self._remaining_reading_time = None
        self._paragraph_count = None
        self._remaining_paragraph_count = None
        self._dependency_file_fragment = defaultdict(list)
        self._dependency_file_page = defaultdict(list)
        self._dependency_uptodate_fragment = defaultdict(list)
        self._dependency_uptodate_page = defaultdict(list)
        self._depfile = defaultdict(list)
        if metadata_extractors_by is None:
            self.metadata_extractors_by = {'priority': {}, 'source': {}}
        else:
            self.metadata_extractors_by = metadata_extractors_by
    
        # Load internationalized metadata
        for lang in self.translations:
            if os.path.isfile(get_translation_candidate(self.config, self.source_path, lang)):
                self.translated_to.add(lang)
    
        default_metadata, default_used_extractor = get_meta(self, lang=None)
    
        self.meta = Functionary(lambda: None, self.default_lang)
        self.used_extractor = Functionary(lambda: None, self.default_lang)
        self.meta[self.default_lang] = default_metadata
        self.used_extractor[self.default_lang] = default_used_extractor
    
        for lang in self.translations:
            if lang != self.default_lang:
                meta = defaultdict(lambda: '')
                meta.update(default_metadata)
                _meta, _extractors = get_meta(self, lang)
                meta.update(_meta)
                self.meta[lang] = meta
                self.used_extractor[lang] = _extractors
    
        if not self.is_translation_available(self.default_lang):
            # Special case! (Issue #373)
            # Fill default_metadata with stuff from the other languages
            for lang in sorted(self.translated_to):
                default_metadata.update(self.meta[lang])
        # Compose paths
        if self.folder_base is not None:
            # Use translatable destination folders
            self.folders = {}
            for lang in self.config['TRANSLATIONS'].keys():
                if os.path.isabs(self.folder_base(lang)):  # Issue 2982
                    self.folder_base[lang] = os.path.relpath(self.folder_base(lang), '/')
                self.folders[lang] = os.path.normpath(os.path.join(self.folder_base(lang), self.folder_relative))
        else:
            # Old behavior (non-translatable destination path, normalized by scanner)
            self.folders = {lang: self.folder_relative for lang in self.config['TRANSLATIONS'].keys()}
        self.folder = self.folders[self.default_lang]
    
        # Load data field from metadata
        self.data = Functionary(lambda: None, self.default_lang)
        for lang in self.translations:
            if self.meta[lang].get('data') is not None:
                self.data[lang] = utils.load_data(self.meta[lang]['data'])
    
        if 'date' not in default_metadata and not use_in_feeds:
            # For pages we don't *really* need a date
            if self.config['__invariant__']:
                default_metadata['date'] = datetime.datetime(2013, 12, 31, 23, 59, 59, tzinfo=tzinfo)
            else:
                default_metadata['date'] = datetime.datetime.utcfromtimestamp(
                    os.stat(self.source_path).st_ctime).replace(tzinfo=dateutil.tz.tzutc()).astimezone(tzinfo)
    
        # If time zone is set, build localized datetime.
        try:
            self.date = to_datetime(self.meta[self.default_lang]['date'], tzinfo)
        except ValueError:
            if not self.meta[self.default_lang]['date']:
                msg = 'Missing date in file {}'.format(source_path)
            else:
                msg = "Invalid date '{0}' in file {1}".format(self.meta[self.default_lang]['date'], source_path)
            LOGGER.error(msg)
            raise ValueError(msg)
    
        if 'updated' not in default_metadata:
            default_metadata['updated'] = default_metadata.get('date', None)
    
        self.updated = to_datetime(default_metadata['updated'], tzinfo)
    
        if 'title' not in default_metadata or 'slug' not in default_metadata \
                or 'date' not in default_metadata:
            raise ValueError("You must set a title (found '{0}'), a slug (found '{1}') and a date (found '{2}')! "
                             "[in file {3}]".format(default_metadata.get('title', None),
                                                    default_metadata.get('slug', None),
                                                    default_metadata.get('date', None),
                                                    source_path))
    
        if 'type' not in default_metadata:
            # default value is 'text'
            default_metadata['type'] = 'text'
    
        for lang, meta in self.meta.items():
            # Migrate section to category
            # TODO: remove in v9
            if 'section' in meta:
                if 'category' in meta:
                    LOGGER.warn("Post {0} has both 'category' and 'section' metadata. Section will be ignored.".format(source_path))
                else:
                    meta['category'] = meta['section']
                    LOGGER.notice("Post {0} uses 'section' metadata, setting its value to 'category'".format(source_path))
    
            # Handle CATEGORY_DESTPATH_AS_DEFAULT
            if 'category' not in meta and self.config['CATEGORY_DESTPATH_AS_DEFAULT']:
                self.category_from_destpath = True
                if self.config['CATEGORY_DESTPATH_TRIM_PREFIX'] and self.folder_relative != '.':
                    category = self.folder_relative
                else:
                    category = self.folders[lang]
                category = category.replace(os.sep, '/')
                if self.config['CATEGORY_DESTPATH_FIRST_DIRECTORY_ONLY']:
                    category = category.split('/')[0]
>               meta['category'] = self.config['CATEGORY_DESTPATH_NAMES'](lang).get(category, category)
E               TypeError: 'dict' object is not callable

/home/travis/build/getnikola/nikola/nikola/post.py:260: TypeError

During handling of the above exception, another exception occurred:

cls = <class 'tests.test_integration.PageIndexPrettyUrlsTest'>

    @classmethod
    def setUpClass(cls):
        """Setup a demo site."""
        # for tests that need bilingual support override language_settings
        cls.language_settings()
        cls.startdir = os.getcwd()
        cls.tmpdir = tempfile.mkdtemp()
        cls.target_dir = os.path.join(cls.tmpdir, "target")
        cls.init_command = nikola.plugins.command.init.CommandInit()
        cls.fill_site()
        cls.patch_site()
>       cls.build()

/home/travis/build/getnikola/nikola/tests/test_integration.py:40: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/home/travis/build/getnikola/nikola/tests/test_integration.py:70: in build
    __main__.main(["build"])
/home/travis/build/getnikola/nikola/nikola/__main__.py:166: in main
    _ = DN.run(oargs)
/home/travis/build/getnikola/nikola/nikola/__main__.py:370: in run
    return super(DoitNikola, self).run(cmd_args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/doit_cmd.py:177: in run
    return command.parse_execute(args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/cmd_base.py:127: in parse_execute
    return self.execute(params, args)
/home/travis/virtualenv/python3.4.6/lib/python3.4/site-packages/doit/cmd_base.py:389: in execute
    self, params, args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <nikola.__main__.NikolaTaskLoader object at 0x7f6ea7633978>
cmd = <nikola.__main__.Build object at 0x7f6ea3e75240>
opt_values = {'pdb': None, 'verbosity': None, 'single': False, 'num_process': 0, 'failure_verbosity': 0, 'continue': False, 'strict...e': 'md5', 'backend': 'dbm', 'outfile': <_pytest.capture.EncodedFile object at 0x7f6eb2cb4a20>, 'dep_file': '.doit.db'}
pos_args = []

    def load_tasks(self, cmd, opt_values, pos_args):
        """Load Nikola tasks."""
        if self.quiet:
            DOIT_CONFIG = {
                'verbosity': 0,
                'reporter': 'zero',
            }
        else:
            DOIT_CONFIG = {
                'reporter': ExecutedOnlyReporter,
                'outfile': sys.stderr,
            }
        DOIT_CONFIG['default_tasks'] = ['render_site', 'post_render']
        DOIT_CONFIG.update(self.nikola._doit_config)
        try:
            tasks = generate_tasks(
                'render_site',
                self.nikola.gen_tasks('render_site', "Task", 'Group of tasks to render the site.'))
            latetasks = generate_tasks(
                'post_render',
                self.nikola.gen_tasks('post_render', "LateTask", 'Group of tasks to be executed after site is rendered.'))
            signal('initialized').send(self.nikola)
        except Exception:
            LOGGER.error('Error loading tasks. An unhandled exception occurred.')
            if self.nikola.debug or self.nikola.show_tracebacks:
                raise
            _print_exception()
>           sys.exit(3)
E           SystemExit: 3

/home/travis/build/getnikola/nikola/nikola/__main__.py:287: SystemExit
---------------------------- Captured stderr setup -----------------------------
[2018-05-03T20:55:34Z] WARNING: Nikola: The sections feature has been removed and its functionality has been merged into categories.
[2018-05-03T20:55:34Z] WARNING: Nikola: For more information on how to migrate, please read: TODO
[2018-05-03T20:55:34Z] INFO: Nikola: Setting CATEGORY_DESTPATH_AS_DEFAULT = True
Scanning posts.......[2018-05-03T20:55:35Z] ERROR: scan_posts: Error reading post pages/page0.txt
[2018-05-03T20:55:35Z] ERROR: Nikola: Error reading timeline
[2018-05-03T20:55:35Z] ERROR: Nikola: Error loading tasks. An unhandled exception occurred.
[2018-05-03T20:55:35Z] ERROR: Nikola: TypeError: 'dict' object is not callable
[2018-05-03T20:55:35Z] NOTICE: Nikola: To see more details, run Nikola in debug mode (set environment variable NIKOLA_DEBUG=1) or use NIKOLA_SHOW_TRACEBACKS=1
------------------------------ Captured log setup ------------------------------
PluginFileLocator.py       417 DEBUG    PluginFileLocator walks (recursively) into directory: /home/travis/build/getnikola/nikola/nikola/plugins
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    basic_import.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/auto.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/check.plugin
PluginFileLocator.py       426 DEBUG    check.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/console.plugin
PluginFileLocator.py       426 DEBUG    console.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/default_config.plugin
PluginFileLocator.py       426 DEBUG    default_config.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/deploy.plugin
PluginFileLocator.py       426 DEBUG    deploy.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/github_deploy.plugin
PluginFileLocator.py       426 DEBUG    github_deploy.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/import_wordpress.plugin
PluginFileLocator.py       426 DEBUG    import_wordpress.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/init.plugin
PluginFileLocator.py       426 DEBUG    init.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/new_page.plugin
PluginFileLocator.py       426 DEBUG    new_page.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/new_post.plugin
PluginFileLocator.py       426 DEBUG    new_post.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/orphans.plugin
PluginFileLocator.py       426 DEBUG    orphans.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/plugin.plugin
PluginFileLocator.py       426 DEBUG    plugin.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/rst2html.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/serve.plugin
PluginFileLocator.py       426 DEBUG    serve.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/status.plugin
PluginFileLocator.py       426 DEBUG    status.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/subtheme.plugin
PluginFileLocator.py       426 DEBUG    subtheme.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/theme.plugin
PluginFileLocator.py       426 DEBUG    theme.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/command/version.plugin
PluginFileLocator.py       426 DEBUG    version.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    livereload.js is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    rst2html.tmpl is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    import_wordpress.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    init.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    version.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    check.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    console.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    default_config.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    deploy.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    github_deploy.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    new_page.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    new_post.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    orphans.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    plugin.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    serve.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    status.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    subtheme.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    theme.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/html.plugin
PluginFileLocator.py       426 DEBUG    html.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/ipynb.plugin
PluginFileLocator.py       426 DEBUG    ipynb.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/pandoc.plugin
PluginFileLocator.py       426 DEBUG    pandoc.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/php.plugin
PluginFileLocator.py       426 DEBUG    php.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest.plugin
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_gist.plugin
PluginFileLocator.py       426 DEBUG    mdx_gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_nikola.plugin
PluginFileLocator.py       426 DEBUG    mdx_nikola.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/markdown/mdx_podcast.plugin
PluginFileLocator.py       426 DEBUG    mdx_podcast.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_nikola.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mdx_podcast.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/chart.plugin
PluginFileLocator.py       426 DEBUG    chart.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/doc.plugin
PluginFileLocator.py       426 DEBUG    doc.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/gist.plugin
PluginFileLocator.py       426 DEBUG    gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/listing.plugin
PluginFileLocator.py       426 DEBUG    listing.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/media.plugin
PluginFileLocator.py       426 DEBUG    media.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/post_list.plugin
PluginFileLocator.py       426 DEBUG    post_list.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/soundcloud.plugin
PluginFileLocator.py       426 DEBUG    soundcloud.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    template.txt is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/thumbnail.plugin
PluginFileLocator.py       426 DEBUG    thumbnail.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/vimeo.plugin
PluginFileLocator.py       426 DEBUG    vimeo.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/compile/rest/youtube.plugin
PluginFileLocator.py       426 DEBUG    youtube.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    vimeo.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listing.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    doc.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    chart.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    media.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    post_list.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    soundcloud.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    thumbnail.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    youtube.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    ipynb.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    html.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    pandoc.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    php.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/misc/scan_posts.plugin
PluginFileLocator.py       426 DEBUG    scan_posts.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/misc/taxonomies_classifier.plugin
PluginFileLocator.py       426 DEBUG    taxonomies_classifier.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    scan_posts.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    taxonomies_classifier.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/chart.plugin
PluginFileLocator.py       426 DEBUG    chart.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/emoji.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/gist.plugin
PluginFileLocator.py       426 DEBUG    gist.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/listing.plugin
PluginFileLocator.py       426 DEBUG    listing.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/post_list.plugin
PluginFileLocator.py       426 DEBUG    post_list.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/shortcode/thumbnail.plugin
PluginFileLocator.py       426 DEBUG    thumbnail.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Activity.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Flags.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Food.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    LICENSE is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Nature.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Objects.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    People.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Symbols.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    Travel.json is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    chart.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gist.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listing.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    post_list.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    thumbnail.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/archive.plugin
PluginFileLocator.py       426 DEBUG    archive.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/authors.plugin
PluginFileLocator.py       426 DEBUG    authors.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/bundles.plugin
PluginFileLocator.py       426 DEBUG    bundles.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/categories.plugin
PluginFileLocator.py       426 DEBUG    categories.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/copy_assets.plugin
PluginFileLocator.py       426 DEBUG    copy_assets.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/copy_files.plugin
PluginFileLocator.py       426 DEBUG    copy_files.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/galleries.plugin
PluginFileLocator.py       426 DEBUG    galleries.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/gzip.plugin
PluginFileLocator.py       426 DEBUG    gzip.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/indexes.plugin
PluginFileLocator.py       426 DEBUG    indexes.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/listings.plugin
PluginFileLocator.py       426 DEBUG    listings.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/page_index.plugin
PluginFileLocator.py       426 DEBUG    page_index.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/pages.plugin
PluginFileLocator.py       426 DEBUG    pages.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/posts.plugin
PluginFileLocator.py       426 DEBUG    posts.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/redirect.plugin
PluginFileLocator.py       426 DEBUG    redirect.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/robots.plugin
PluginFileLocator.py       426 DEBUG    robots.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/scale_images.plugin
PluginFileLocator.py       426 DEBUG    scale_images.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/sitemap.plugin
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/sources.plugin
PluginFileLocator.py       426 DEBUG    sources.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/tagcloud.plugin
PluginFileLocator.py       426 DEBUG    tagcloud.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/tags.plugin
PluginFileLocator.py       426 DEBUG    tags.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/task/taxonomies.plugin
PluginFileLocator.py       426 DEBUG    taxonomies.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    scale_images.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    galleries.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    archive.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    authors.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    bundles.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    categories.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    copy_assets.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    copy_files.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    gzip.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    indexes.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    listings.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    page_index.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    pages.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    posts.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    redirect.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    robots.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    sources.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    tagcloud.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    tags.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    taxonomies.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/template/jinja.plugin
PluginFileLocator.py       426 DEBUG    jinja.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       432 DEBUG    PluginFileLocator found a candidate:
    /home/travis/build/getnikola/nikola/nikola/plugins/template/mako.plugin
PluginFileLocator.py       426 DEBUG    mako.py is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    jinja.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    mako.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    __init__.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       426 DEBUG    basic_import.cpython-34.pyc is not a valid plugin for strategy info_ext
PluginFileLocator.py       408 DEBUG    PluginFileLocator skips /home/travis/.nikola/plugins (not a directory)
PluginFileLocator.py       408 DEBUG    PluginFileLocator skips /tmp/tmpmyx3eo7k/target/plugins (not a directory)
__init__.py                190 DEBUG    Successfully loaded extension "yapsy_loaded_plugin_mdx_nikola_32.NikolaExtension".
__init__.py                190 DEBUG    Successfully loaded extension "yapsy_loaded_plugin_mdx_gist_32.GistExtension".
__init__.py                190 DEBUG    Successfully loaded extension "yapsy_loaded_plugin_mdx_podcast_32.PodcastExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.fenced_code".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.codehilite".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.codehilite.CodeHiliteExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.extra".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.smart_strong".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.smart_strong.SmartEmphasisExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.fenced_code".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.footnotes".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.footnotes.FootnoteExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.attr_list".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.attr_list.AttrListExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.def_list".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.def_list.DefListExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.tables".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.tables.TableExtension".
__init__.py                233 DEBUG    Successfuly imported extension module "markdown.extensions.abbr".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.abbr.AbbrExtension".
__init__.py                190 DEBUG    Successfully loaded extension "markdown.extensions.extra.ExtraExtension".
=================================== FAILURES ===================================
____________ SectionPageCollisionTest.test_section_index_avoidance _____________

self = <tests.test_integration.SectionPageCollisionTest testMethod=test_section_index_avoidance>

    def test_section_index_avoidance(self):
        """Test section index."""
        sec1 = os.path.join(self.target_dir, "output", "sec1")
        foo = os.path.join(self.target_dir, "output", "sec1", "post0")
    
        # Do all files exist?
>       self.assertTrue(os.path.isfile(self._make_output_path(sec1, 'index')))
E       AssertionError: False is not true

/home/travis/build/getnikola/nikola/tests/test_integration.py:622: AssertionError
________________________ PageIndexTest.test_page_index _________________________

self = <tests.test_integration.PageIndexTest testMethod=test_page_index>

    def test_page_index(self):
        """Test PAGE_INDEX."""
        pages = os.path.join(self.target_dir, "output", "pages")
        subdir1 = os.path.join(self.target_dir, "output", "pages", "subdir1")
        subdir2 = os.path.join(self.target_dir, "output", "pages", "subdir2")
        subdir3 = os.path.join(self.target_dir, "output", "pages", "subdir3")
    
        # Do all files exist?
>       self.assertTrue(os.path.isfile(self._make_output_path(pages, 'page0')))
E       AssertionError: False is not true

/home/travis/build/getnikola/nikola/tests/test_integration.py:690: AssertionError
___________________ PageIndexPrettyUrlsTest.test_page_index ____________________

self = <tests.test_integration.PageIndexPrettyUrlsTest testMethod=test_page_index>

    def test_page_index(self):
        """Test PAGE_INDEX."""
        pages = os.path.join(self.target_dir, "output", "pages")
        subdir1 = os.path.join(self.target_dir, "output", "pages", "subdir1")
        subdir2 = os.path.join(self.target_dir, "output", "pages", "subdir2")
        subdir3 = os.path.join(self.target_dir, "output", "pages", "subdir3")
    
        # Do all files exist?
>       self.assertTrue(os.path.isfile(self._make_output_path(pages, 'page0')))
E       AssertionError: False is not true

/home/travis/build/getnikola/nikola/tests/test_integration.py:690: AssertionError
_____________________________ test_get_asset_path ______________________________

    def test_get_asset_path():
        assert get_asset_path('assets/css/nikola_rst.css',
                              get_theme_chain('bootstrap4', ['themes'])).replace(
            '\\', '/').endswith('nikola/data/themes/base/assets/css/nikola_rst.css')
        assert get_asset_path('assets/css/theme.css',
                              get_theme_chain('bootstrap4', ['themes'])).replace(
            '\\', '/').endswith(
            'nikola/data/themes/bootstrap4/assets/css/theme.css')
>       assert get_asset_path(
            'nikola.py', get_theme_chain('bootstrap4', ['themes']),
            {'nikola': ''}).replace(
            '\\', '/').endswith('nikola/nikola.py')
E       AttributeError: 'NoneType' object has no attribute 'replace'

/home/travis/build/getnikola/nikola/tests/test_utils.py:297: AttributeError

----------- coverage: platform linux, python 3.4.6-final-0 -----------
Name                                             Stmts   Miss  Cover   Missing
------------------------------------------------------------------------------
nikola/__init__.py                                  10      1    90%   37
nikola/__main__.py                                 238     99    58%   72, 77, 86-90, 95-97, 99-100, 121, 128-136, 139, 144-148, 154-155, 165, 169, 183-193, 240-244, 263, 285, 320-321, 324-335, 338, 340, 347-348, 350-362, 366-368, 372-376, 381, 391-409
nikola/filters.py                                  270    187    31%   73-77, 102-104, 122-142, 148-163, 169, 175, 181, 187, 193, 199, 205, 211, 217, 223-227, 233-243, 249-258, 264, 271-272, 285-291, 297-309, 317-326, 332-343, 349-359, 365-375, 381-382, 388-390, 397-398, 410-449, 456-501
nikola/hierarchy_utils.py                          124     28    77%   94, 98-101, 132, 184-199, 239-241, 252, 264, 272-274
nikola/image_processing.py                         136     79    42%   60-63, 68-92, 97-98, 103-104, 112, 124, 126, 128, 130, 138-147, 150-153, 157-195, 203-204, 211, 215-216
nikola/metadata_extractors.py                      144      0   100%
nikola/nikola.py                                  1391    411    70%   85, 340-344, 611-612, 630, 696-697, 704-705, 709-710, 714, 717-718, 721-722, 725-726, 729-731, 734-735, 749-750, 758-760, 773-776, 788-796, 799-806, 811-813, 820, 841-842, 848-851, 856-858, 862-864, 871-873, 915-917, 926-927, 982-987, 991-992, 1016-1018, 1044, 1052-1053, 1097-1110, 1126-1127, 1195-1199, 1232-1238, 1241-1244, 1258-1260, 1276, 1291-1293, 1320-1328, 1334-1335, 1369, 1375, 1378, 1391, 1399, 1414-1416, 1453, 1460, 1466-1475, 1482-1483, 1489, 1508-1510, 1537, 1544, 1600, 1606-1615, 1620-1621, 1637, 1647, 1680, 1691, 1701-1707, 1787-1789, 1794, 1797, 1818, 1846, 1849, 1859-1865, 1870, 1886, 1889, 1905, 1914, 1928, 1933-1936, 1960, 1969-1970, 1972, 1986-1990, 1997, 2097-2103, 2122-2126, 2128-2132, 2156, 2237, 2243, 2291, 2308-2447, 2495-2502, 2512-2516, 2520, 2522, 2525, 2528, 2534, 2544-2547, 2549-2557, 2559-2560, 2563-2564, 2568-2573, 2590-2592, 2616-2651, 2722, 2728-2733, 2766-2767, 2776-2779, 2786, 2793-2794, 2803, 2805, 2818-2820
nikola/plugin_categories.py                        264     23    91%   42-43, 88, 97, 101, 113, 145-146, 170-172, 262, 316, 340, 347-348, 353, 440, 534, 542, 827, 834, 895
nikola/plugins/__init__.py                           1      0   100%
nikola/plugins/basic_import.py                     102     37    64%   72-74, 91, 101-102, 122, 132-135, 144-153, 161-168, 173-178, 196-198, 203
nikola/plugins/command/__init__.py                   1      0   100%
nikola/plugins/command/auto/__init__.py            276    222    20%   61, 117-266, 273-287, 292-311, 318-321, 326, 331, 336-372, 377-393, 404-406, 411-413, 418-459, 464-467, 477-478, 483, 487, 495-497, 502-503
nikola/plugins/command/check.py                    279     93    67%   37, 51, 97, 160-161, 163, 172, 193, 204-205, 219-220, 224-229, 237, 251, 257, 261-263, 270-316, 332, 356, 366-370, 392-393, 396, 419-422, 429-453
nikola/plugins/command/console.py                   59     42    29%   86-97, 101-108, 112-129, 133-158
nikola/plugins/command/default_config.py            16      4    75%   49-52
nikola/plugins/command/deploy.py                    72     23    68%   63-71, 76-77, 80-86, 94, 102-104, 109-115
nikola/plugins/command/github_deploy.py             79     59    25%   42-43, 48-53, 83-104, 108-119, 123-168
nikola/plugins/command/import_wordpress.py         711    267    62%   46, 66-90, 228-238, 242-249, 260, 294-298, 305-306, 308, 311-312, 315-324, 334-347, 356, 363, 372, 381, 390, 392-393, 397-408, 417-423, 434, 458-459, 477, 492, 500-508, 520, 542, 565, 572-574, 601, 617, 646, 672-673, 708-715, 718-728, 732-735, 737, 743-748, 752-779, 785-804, 810, 812-824, 833, 840, 843-845, 850, 867, 870-871, 879-887, 898-901, 904, 921-922, 924-926, 928-930, 941, 948, 964-966, 969-970, 972-973, 981, 988-991, 993-1001, 1020, 1038-1046, 1050-1052, 1077, 1081-1082, 1122
nikola/plugins/command/init.py                     278    164    41%   140, 176-206, 228-231, 281-283, 294-482, 495-496, 510
nikola/plugins/command/new_page.py                  14      6    57%   106-113
nikola/plugins/command/new_post.py                 263    220    16%   52-61, 84, 96-97, 106, 109, 219-453, 463-494, 502-566
nikola/plugins/command/orphans.py                   11      2    82%   48-49
nikola/plugins/command/plugin.py                   207    178    14%   115-156, 160-165, 169-193, 197-223, 227-312, 316-335, 339-347
nikola/plugins/command/rst2html/__init__.py         33     21    36%   47-70
nikola/plugins/command/serve.py                    139    110    21%   37, 111-118, 122-177, 189-192, 214-286
nikola/plugins/command/status.py                    72     58    19%   90-158, 162-171
nikola/plugins/command/subtheme.py                  67     53    21%   41-44, 81-149
nikola/plugins/command/theme.py                    201    170    15%   145-183, 187-203, 207-245, 249-266, 270-275, 279-284, 288-296, 301-325, 329-371, 375-383
nikola/plugins/command/version.py                   21      6    71%   62-68
nikola/plugins/compile/__init__.py                   1      0   100%
nikola/plugins/compile/html.py                      70     35    50%   49-52, 56-69, 73-86, 100-105, 108, 113, 115
nikola/plugins/compile/ipynb.py                    102     66    35%   59-66, 70, 74, 78-80, 84-96, 116-158, 166-181
nikola/plugins/compile/markdown/__init__.py        102     23    77%   107, 109, 111, 120, 129-133, 137-151, 157, 159, 161, 170
nikola/plugins/compile/markdown/mdx_gist.py         68     32    53%   110-111, 124-130, 134-140, 144-173, 186
nikola/plugins/compile/markdown/mdx_nikola.py       25      0   100%
nikola/plugins/compile/markdown/mdx_podcast.py      28      1    96%   80
nikola/plugins/compile/pandoc.py                    43     30    30%   49-50, 54-70, 74, 78-91
nikola/plugins/compile/php.py                       36     23    36%   46-51, 55, 59-83, 87
nikola/plugins/compile/rest/__init__.py            160     30    81%   89-90, 100, 133, 140, 156, 165, 169-182, 240, 254, 295-299, 354, 364-365
nikola/plugins/compile/rest/chart.py                21      0   100%
nikola/plugins/compile/rest/doc.py                  55     18    67%   62-63, 67-69, 84-86, 91-95, 100-110
nikola/plugins/compile/rest/gist.py                 40      8    80%   45-46, 53-54, 59, 66-68
nikola/plugins/compile/rest/listing.py             111     18    84%   72, 74, 79, 85, 91-92, 95-100, 106, 175-176, 181, 185, 188, 210
nikola/plugins/compile/rest/media.py                27      7    74%   64-65, 69-73
nikola/plugins/compile/rest/post_list.py            37     22    41%   76-118
nikola/plugins/compile/rest/soundcloud.py           29      1    97%   64
nikola/plugins/compile/rest/thumbnail.py            32      6    81%   54, 58-61, 73, 78
nikola/plugins/compile/rest/vimeo.py                52     14    73%   96, 100, 113-126, 131
nikola/plugins/compile/rest/youtube.py              25      1    96%   84
nikola/plugins/misc/__init__.py                      1      1     0%   27
nikola/plugins/misc/scan_posts.py                   48      0   100%
nikola/plugins/misc/taxonomies_classifier.py       200     20    90%   72, 168, 174-175, 180-190, 194, 203, 236, 243, 245, 247, 249, 270, 306
nikola/plugins/shortcode/chart.py                   41      7    83%   49-51, 59, 61, 67-68, 74
nikola/plugins/shortcode/emoji/__init__.py          29     17    41%   19-28, 38-46
nikola/plugins/shortcode/gist.py                    27     19    30%   18-19, 23-27, 31-50
nikola/plugins/shortcode/listing.py                 31     18    42%   54-81
nikola/plugins/shortcode/post_list.py               85     73    14%   128-239
nikola/plugins/shortcode/thumbnail.py               28     22    21%   41-69
nikola/plugins/task/__init__.py                      1      0   100%
nikola/plugins/task/archive.py                     134     35    74%   70, 81, 152-153, 168, 179-201, 211-224
nikola/plugins/task/authors.py                      65      3    95%   82, 104, 148
nikola/plugins/task/bundles.py                      60     12    80%   50-53, 81-87, 139-141
nikola/plugins/task/categories.py                   96     18    81%   103-104, 117, 128-143, 187
nikola/plugins/task/copy_assets.py                  49      5    90%   72, 80, 85-87
nikola/plugins/task/copy_files.py                   17      0   100%
nikola/plugins/task/galleries.py                   311     47    85%   101-103, 121-126, 245-251, 260, 275, 447, 449, 453-477, 502, 647, 659, 678, 681-687, 711, 753
nikola/plugins/task/gzip.py                         34     21    38%   47-70, 75-80
nikola/plugins/task/indexes.py                      48      2    96%   89, 99
nikola/plugins/task/listings.py                    139     30    78%   74-76, 99, 118-126, 131-136, 175, 206, 227, 298-307
nikola/plugins/task/page_index.py                   47     20    57%   64-70, 74, 78, 82, 86, 90-102, 106-111
nikola/plugins/task/pages.py                        29      2    93%   61, 69
nikola/plugins/task/posts.py                        47      7    85%   80, 84-85, 115, 122-124
nikola/plugins/task/redirect.py                     13      0   100%
nikola/plugins/task/robots.py                       30      5    83%   68-69, 84-87
nikola/plugins/task/scale_images.py                 38      1    97%   51
nikola/plugins/task/sitemap/__init__.py            151     17    89%   35, 143, 173, 175, 207, 210, 216-220, 226-229, 277, 311
nikola/plugins/task/sources.py                      23      3    87%   55, 57, 63
nikola/plugins/task/tagcloud.py                     28     10    64%   50, 64-66, 69-78
nikola/plugins/task/tags.py                         56      2    96%   104-105
nikola/plugins/task/taxonomies.py                  257     15    94%   131, 182-183, 234, 241-246, 256, 260, 271, 287, 306, 388, 421
nikola/plugins/template/__init__.py                  1      1     0%   27
nikola/plugins/template/jinja.py                    80     35    56%   54, 59, 77-79, 93-101, 109-117, 121-123, 127-130, 134-138
nikola/plugins/template/mako.py                     80     10    88%   72, 92-94, 115-117, 143-144, 149
nikola/post.py                                     673    169    75%   115, 131, 191, 202, 207, 215-221, 230, 244-248, 254, 273, 283-294, 300-301, 303-304, 306-307, 309, 316-320, 323-327, 330, 373, 380, 390, 400, 418, 420, 436-440, 454-458, 478, 514, 516, 538, 542, 569-572, 576-578, 584, 592-593, 603, 608, 618, 626, 628, 649, 681, 711, 727, 752, 758, 761-766, 775-776, 782-802, 809-810, 826-836, 841-846, 851-868, 873-885, 910, 922, 938, 955, 967, 978, 981-986, 1018, 1038, 1067, 1093, 1100-1102, 1112, 1114, 1125
nikola/shortcodes.py                               219     17    92%   52-57, 100-101, 151, 189, 204, 249-250, 370, 384-388
nikola/state.py                                     37      6    84%   72-75, 79-80
nikola/utils.py                                   1066    363    66%   50-51, 152, 159-163, 187-212, 220-222, 228, 238, 244-247, 298, 337-340, 360, 368-371, 390, 396, 405, 413-417, 421-422, 429, 440, 444-447, 451-454, 481-482, 512-520, 524, 528, 563, 569, 576, 606, 610, 638-643, 656-663, 687-688, 692, 722, 731-732, 737, 740-741, 768, 773, 799-801, 809, 836, 879-880, 896-911, 925-926, 935, 959, 966-967, 972, 986, 1086, 1151, 1170, 1211-1214, 1252-1254, 1270, 1279-1281, 1288, 1354, 1360, 1363-1364, 1385, 1388, 1440, 1508-1516, 1521-1534, 1541-1542, 1545-1549, 1564-1591, 1594, 1598-1614, 1632-1635, 1654, 1656, 1673, 1680-1700, 1706-1716, 1721, 1726-1730, 1751-1767, 1772-1774, 1779-1790, 1798-1816, 1851-1869, 1880-1883, 1889, 1901-1908, 1913-1932, 1939-1945, 1955, 1965-1966, 1969-1970, 1999, 2003-2008, 2022-2024, 2036, 2073, 2076
------------------------------------------------------------------------------
TOTAL                                            10862   3931    64%

=============== 4 failed, 198 passed, 3 error in 161.67 seconds ================

travis_time:end:008e7cc0:start=1525380794444114359,finish=1525380958480620950,duration=164036506591[0K
[31;1mThe command "if [[ $NMODE == 'nikola' ]]; then py.test tests/; fi" exited with 1.[0m
travis_time:start:031bc582[0K$ if [[ $NMODE == 'nikola' ]]; then nikola; fi
Nikola is a tool to create static websites and blogs. For full documentation and more information, please visit https://getnikola.com/


Available commands:
  nikola auto                 builds and serves a site; automatically detects site changes, rebuilds, and optionally refreshes a browser
  nikola build                run tasks
  nikola check                check links and files in the generated site
  nikola clean                clean action / remove targets
  nikola console              start an interactive Python console with access to your site
  nikola default_config       Print the default Nikola configuration.
  nikola deploy               deploy the site
  nikola doit_auto            automatically execute tasks when a dependency changes
  nikola dumpdb               dump dependency DB
  nikola forget               clear successful run status from internal DB
  nikola github_deploy        deploy the site to GitHub Pages
  nikola help                 show help
  nikola ignore               ignore task (skip) on subsequent runs
  nikola import_wordpress     import a WordPress dump
  nikola info                 show info about a task
  nikola init                 create a Nikola site in the specified folder
  nikola list                 list tasks from dodo file
  nikola new_page             create a new page in the site
  nikola new_post             create a new blog post or site page
  nikola orphans              list all orphans
  nikola plugin               manage plugins
  nikola reset-dep            recompute and save the state of file dependencies without executing actions
  nikola rst2html             compile reStructuredText to HTML files
  nikola serve                start the test webserver
  nikola status               display site status
  nikola strace               use strace to list file_deps and targets
  nikola subtheme             given a swatch name from bootswatch.com or hackerthemes.com and a parent theme, creates a custom theme
  nikola tabcompletion        generate script for tab-completion
  nikola theme                manage themes
  nikola version              print the Nikola version number

  nikola help                 show help / reference
  nikola help <command>       show command usage
  nikola help <task-name>     show task usage

travis_time:end:031bc582:start=1525380958488036355,finish=1525380959363478176,duration=875441821[0K
[32;1mThe command "if [[ $NMODE == 'nikola' ]]; then nikola; fi" exited with 0.[0m
travis_time:start:16b21062[0K$ if [[ $NMODE == 'nikola' ]]; then nikola help; fi
Nikola is a tool to create static websites and blogs. For full documentation and more information, please visit https://getnikola.com/


Available commands:
  nikola auto                 builds and serves a site; automatically detects site changes, rebuilds, and optionally refreshes a browser
  nikola build                run tasks
  nikola check                check links and files in the generated site
  nikola clean                clean action / remove targets
  nikola console              start an interactive Python console with access to your site
  nikola default_config       Print the default Nikola configuration.
  nikola deploy               deploy the site
  nikola doit_auto            automatically execute tasks when a dependency changes
  nikola dumpdb               dump dependency DB
  nikola forget               clear successful run status from internal DB
  nikola github_deploy        deploy the site to GitHub Pages
  nikola help                 show help
  nikola ignore               ignore task (skip) on subsequent runs
  nikola import_wordpress     import a WordPress dump
  nikola info                 show info about a task
  nikola init                 create a Nikola site in the specified folder
  nikola list                 list tasks from dodo file
  nikola new_page             create a new page in the site
  nikola new_post             create a new blog post or site page
  nikola orphans              list all orphans
  nikola plugin               manage plugins
  nikola reset-dep            recompute and save the state of file dependencies without executing actions
  nikola rst2html             compile reStructuredText to HTML files
  nikola serve                start the test webserver
  nikola status               display site status
  nikola strace               use strace to list file_deps and targets
  nikola subtheme             given a swatch name from bootswatch.com or hackerthemes.com and a parent theme, creates a custom theme
  nikola tabcompletion        generate script for tab-completion
  nikola theme                manage themes
  nikola version              print the Nikola version number

  nikola help                 show help / reference
  nikola help <command>       show command usage
  nikola help <task-name>     show task usage

travis_time:end:16b21062:start=1525380959371245881,finish=1525380960355669517,duration=984423636[0K
[32;1mThe command "if [[ $NMODE == 'nikola' ]]; then nikola help; fi" exited with 0.[0m
travis_time:start:116165b0[0K$ if [[ $NMODE == 'nikola' ]]; then scripts/baseline.sh check; fi
[35m>> Version 3.4 does not support baseline testing.[0m

travis_time:end:116165b0:start=1525380960368305749,finish=1525380960396736936,duration=28431187[0K
[32;1mThe command "if [[ $NMODE == 'nikola' ]]; then scripts/baseline.sh check; fi" exited with 0.[0m
travis_time:start:1cb0c108[0K$ if [[ $NMODE == 'nikola' ]]; then scripts/codacy_coverage.sh; fi

travis_time:end:1cb0c108:start=1525380960403986837,finish=1525380960436087813,duration=32100976[0K
[32;1mThe command "if [[ $NMODE == 'nikola' ]]; then scripts/codacy_coverage.sh; fi" exited with 0.[0m
travis_time:start:160f6440[0K$ if [[ $NMODE == 'flake8' ]]; then flake8 nikola/ tests/; fi

travis_time:end:160f6440:start=1525380960443909264,finish=1525380960449436878,duration=5527614[0K
[32;1mThe command "if [[ $NMODE == 'flake8' ]]; then flake8 nikola/ tests/; fi" exited with 0.[0m
travis_time:start:0b3ed3be[0K$ if [[ $NMODE == 'flake8' ]]; then pydocstyle --count --match-dir='(?!^\\.)(?!data).*' nikola/; fi

travis_time:end:0b3ed3be:start=1525380960462146327,finish=1525380960468618223,duration=6471896[0K
[32;1mThe command "if [[ $NMODE == 'flake8' ]]; then pydocstyle --count --match-dir='(?!^\.)(?!data).*' nikola/; fi" exited with 0.[0m
travis_fold:start:cache.2[0Kstore build cache
travis_time:start:018a3229[0K
travis_time:end:018a3229:start=1525380960476025367,finish=1525380960482243826,duration=6218459[0Ktravis_time:start:221f7924[0K[32;1mchange detected (content changed, file is created, or file is deleted):
/home/travis/.cache/pip/http/0/1/a/b/3/01ab38ac63d82e82f212dd86d62de883eb0d7de6be8db88f70d14a62
/home/travis/.cache/pip/http/0/2/e/a/3/02ea3a40bec709fb2e3011abf56d9ff0e8a057e522b64b520bfc74fe
/home/travis/.cache/pip/http/0/4/1/8/c/0418c83b80f7f7bfaec2738bfbbee53d2c1562196c0781702f6eddc8
/home/travis/.cache/pip/http/0/4/e/0/1/04e017851dbfe81db92d092eaaf2526622c3950bcb8f2696e57143da
/home/travis/.cache/pip/http/0/6/a/1/0/06a10a01993b98a46b24126de4370c3ed430c734a40d6ac34065ddcf
/home/travis/.cache/pip/http/0/c/2/1/8/0c218d526767991766d9b365a4f3e4449ce3579fd8b0f96a707d5a52
/home/travis/.cache/pip/http/1/4/c/6/3/14c63b50a24bb0548c56737e59533098aa47df2bc2c67fbcce4c1a3a
/home/travis/.cache/pip/http/1/7/6/f/d/176fdcf78f489450c150cb19438896cbe4d6e0dec912fa8f1b2e2362
/home/travis/.cache/pip/http/1/8/e/f/f/18eff3d6878798b2f7e4ab95042397dc3c44be6ade2022562b24a737
/home/travis/.cache/pip/http/1/a/a/f/1/1aaf12502d9d2700532b5c7786558a9bfb4d409422398ffa270ae51d
/home/travis/.cache/pip/http/1/a/d/2/7/1a
[0m
[32;1m...
[0m
[32;1mchanges detected, packing new archive[0m
.
.
[32;1muploading archive[0m

travis_time:end:221f7924:start=1525380960490825375,finish=1525380976343808947,duration=15852983572[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 1.
