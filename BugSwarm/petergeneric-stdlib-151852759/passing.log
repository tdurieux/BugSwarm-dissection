Using worker: worker-linux-docker-eaa43a12.prod.travis-ci.org:travis-linux-15

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: 151855410
Job id: 151855411
travis-build version: 17f5a31fb
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:fix.CVE-2015-7547[0K$ export DEBIAN_FRONTEND=noninteractive
W: Size of file /var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise-backports_multiverse_source_Sources.gz is not what the server reported 5886 5888
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-amd64_Packages.gz is not what the server reported 33653 36677
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-i386_Packages.gz is not what the server reported 33699 36733
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  libc-bin libc-dev-bin libc6-dev
Suggested packages:
  glibc-doc
The following packages will be upgraded:
  libc-bin libc-dev-bin libc6 libc6-dev
4 upgraded, 0 newly installed, 0 to remove and 252 not upgraded.
Need to get 8,840 kB of archives.
After this operation, 14.3 kB disk space will be freed.
Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6-dev amd64 2.15-0ubuntu10.15 [2,943 kB]
Get:2 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-dev-bin amd64 2.15-0ubuntu10.15 [84.7 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-bin amd64 2.15-0ubuntu10.15 [1,177 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6 amd64 2.15-0ubuntu10.15 [4,636 kB]
Fetched 8,840 kB in 0s (20.6 MB/s)
Preconfiguring packages ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72019 files and directories currently installed.)
Preparing to replace libc6-dev 2.15-0ubuntu10.10 (using .../libc6-dev_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6-dev ...
Preparing to replace libc-dev-bin 2.15-0ubuntu10.10 (using .../libc-dev-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-dev-bin ...
Preparing to replace libc-bin 2.15-0ubuntu10.10 (using .../libc-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-bin ...
Processing triggers for man-db ...
Setting up libc-bin (2.15-0ubuntu10.15) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72018 files and directories currently installed.)
Preparing to replace libc6 2.15-0ubuntu10.10 (using .../libc6_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6 ...
Setting up libc6 (2.15-0ubuntu10.15) ...
Setting up libc-dev-bin (2.15-0ubuntu10.15) ...
Setting up libc6-dev (2.15-0ubuntu10.15) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
travis_fold:end:fix.CVE-2015-7547[0Kdepth=3 C = US, O = "Entrust, Inc.", OU = www.entrust.net/CPS is incorporated by reference, OU = "(c) 2006 Entrust, Inc.", CN = Entrust Root Certification Authority
verify error:num=19:self signed certificate in certificate chain
verify return:0
DONE
travis_fold:start:git.checkout[0Ktravis_time:start:20bb0828[0K$ git clone --depth=50 --branch=master https://github.com/petergeneric/stdlib.git petergeneric/stdlib
Cloning into 'petergeneric/stdlib'...
remote: Counting objects: 2880, done.[K
remote: Compressing objects:   0% (1/1712)   [Kremote: Compressing objects:   1% (18/1712)   [Kremote: Compressing objects:   2% (35/1712)   [Kremote: Compressing objects:   3% (52/1712)   [Kremote: Compressing objects:   4% (69/1712)   [Kremote: Compressing objects:   5% (86/1712)   [Kremote: Compressing objects:   6% (103/1712)   [Kremote: Compressing objects:   7% (120/1712)   [Kremote: Compressing objects:   8% (137/1712)   [Kremote: Compressing objects:   9% (155/1712)   [Kremote: Compressing objects:  10% (172/1712)   [Kremote: Compressing objects:  11% (189/1712)   [Kremote: Compressing objects:  12% (206/1712)   [Kremote: Compressing objects:  13% (223/1712)   [Kremote: Compressing objects:  14% (240/1712)   [Kremote: Compressing objects:  15% (257/1712)   [Kremote: Compressing objects:  16% (274/1712)   [Kremote: Compressing objects:  17% (292/1712)   [Kremote: Compressing objects:  18% (309/1712)   [Kremote: Compressing objects:  19% (326/1712)   [Kremote: Compressing objects:  20% (343/1712)   [Kremote: Compressing objects:  21% (360/1712)   [Kremote: Compressing objects:  22% (377/1712)   [Kremote: Compressing objects:  23% (394/1712)   [Kremote: Compressing objects:  24% (411/1712)   [Kremote: Compressing objects:  25% (428/1712)   [Kremote: Compressing objects:  26% (446/1712)   [Kremote: Compressing objects:  27% (463/1712)   [Kremote: Compressing objects:  28% (480/1712)   [Kremote: Compressing objects:  29% (497/1712)   [Kremote: Compressing objects:  30% (514/1712)   [Kremote: Compressing objects:  31% (531/1712)   [Kremote: Compressing objects:  32% (548/1712)   [Kremote: Compressing objects:  33% (565/1712)   [Kremote: Compressing objects:  34% (583/1712)   [Kremote: Compressing objects:  35% (600/1712)   [Kremote: Compressing objects:  36% (617/1712)   [Kremote: Compressing objects:  37% (634/1712)   [Kremote: Compressing objects:  38% (651/1712)   [Kremote: Compressing objects:  39% (668/1712)   [Kremote: Compressing objects:  40% (685/1712)   [Kremote: Compressing objects:  41% (702/1712)   [Kremote: Compressing objects:  42% (720/1712)   [Kremote: Compressing objects:  43% (737/1712)   [Kremote: Compressing objects:  44% (754/1712)   [Kremote: Compressing objects:  45% (771/1712)   [Kremote: Compressing objects:  46% (788/1712)   [Kremote: Compressing objects:  47% (805/1712)   [Kremote: Compressing objects:  48% (822/1712)   [Kremote: Compressing objects:  49% (839/1712)   [Kremote: Compressing objects:  50% (856/1712)   [Kremote: Compressing objects:  51% (874/1712)   [Kremote: Compressing objects:  52% (891/1712)   [Kremote: Compressing objects:  53% (908/1712)   [Kremote: Compressing objects:  54% (925/1712)   [Kremote: Compressing objects:  55% (942/1712)   [Kremote: Compressing objects:  56% (959/1712)   [Kremote: Compressing objects:  57% (976/1712)   [Kremote: Compressing objects:  58% (993/1712)   [Kremote: Compressing objects:  59% (1011/1712)   [Kremote: Compressing objects:  60% (1028/1712)   [Kremote: Compressing objects:  61% (1045/1712)   [Kremote: Compressing objects:  62% (1062/1712)   [Kremote: Compressing objects:  63% (1079/1712)   [Kremote: Compressing objects:  64% (1096/1712)   [Kremote: Compressing objects:  65% (1113/1712)   [Kremote: Compressing objects:  66% (1130/1712)   [Kremote: Compressing objects:  67% (1148/1712)   [Kremote: Compressing objects:  68% (1165/1712)   [Kremote: Compressing objects:  69% (1182/1712)   [Kremote: Compressing objects:  70% (1199/1712)   [Kremote: Compressing objects:  71% (1216/1712)   [Kremote: Compressing objects:  72% (1233/1712)   [Kremote: Compressing objects:  73% (1250/1712)   [Kremote: Compressing objects:  74% (1267/1712)   [Kremote: Compressing objects:  75% (1284/1712)   [Kremote: Compressing objects:  76% (1302/1712)   [Kremote: Compressing objects:  77% (1319/1712)   [Kremote: Compressing objects:  78% (1336/1712)   [Kremote: Compressing objects:  79% (1353/1712)   [Kremote: Compressing objects:  80% (1370/1712)   [Kremote: Compressing objects:  81% (1387/1712)   [Kremote: Compressing objects:  82% (1404/1712)   [Kremote: Compressing objects:  83% (1421/1712)   [Kremote: Compressing objects:  84% (1439/1712)   [Kremote: Compressing objects:  85% (1456/1712)   [Kremote: Compressing objects:  86% (1473/1712)   [Kremote: Compressing objects:  87% (1490/1712)   [Kremote: Compressing objects:  88% (1507/1712)   [Kremote: Compressing objects:  89% (1524/1712)   [Kremote: Compressing objects:  90% (1541/1712)   [Kremote: Compressing objects:  91% (1558/1712)   [Kremote: Compressing objects:  92% (1576/1712)   [Kremote: Compressing objects:  93% (1593/1712)   [Kremote: Compressing objects:  94% (1610/1712)   [Kremote: Compressing objects:  95% (1627/1712)   [Kremote: Compressing objects:  96% (1644/1712)   [Kremote: Compressing objects:  97% (1661/1712)   [Kremote: Compressing objects:  98% (1678/1712)   [Kremote: Compressing objects:  99% (1695/1712)   [Kremote: Compressing objects: 100% (1712/1712)   [Kremote: Compressing objects: 100% (1712/1712), done.[K
Receiving objects:   0% (1/2880)   Receiving objects:   1% (29/2880)   Receiving objects:   2% (58/2880)   Receiving objects:   3% (87/2880)   Receiving objects:   4% (116/2880)   Receiving objects:   5% (144/2880)   Receiving objects:   6% (173/2880)   Receiving objects:   7% (202/2880)   Receiving objects:   8% (231/2880)   Receiving objects:   9% (260/2880)   Receiving objects:  10% (288/2880)   Receiving objects:  11% (317/2880)   Receiving objects:  12% (346/2880)   Receiving objects:  13% (375/2880)   Receiving objects:  14% (404/2880)   Receiving objects:  15% (432/2880)   Receiving objects:  16% (461/2880)   Receiving objects:  17% (490/2880)   Receiving objects:  18% (519/2880)   Receiving objects:  19% (548/2880)   Receiving objects:  20% (576/2880)   Receiving objects:  21% (605/2880)   Receiving objects:  22% (634/2880)   Receiving objects:  23% (663/2880)   Receiving objects:  24% (692/2880)   Receiving objects:  25% (720/2880)   Receiving objects:  26% (749/2880)   Receiving objects:  27% (778/2880)   Receiving objects:  28% (807/2880)   Receiving objects:  29% (836/2880)   Receiving objects:  30% (864/2880)   Receiving objects:  31% (893/2880)   Receiving objects:  32% (922/2880)   Receiving objects:  33% (951/2880)   Receiving objects:  34% (980/2880)   Receiving objects:  35% (1008/2880)   Receiving objects:  36% (1037/2880)   Receiving objects:  37% (1066/2880)   Receiving objects:  38% (1095/2880)   Receiving objects:  39% (1124/2880)   Receiving objects:  40% (1152/2880)   Receiving objects:  41% (1181/2880)   Receiving objects:  42% (1210/2880)   Receiving objects:  43% (1239/2880)   Receiving objects:  44% (1268/2880)   Receiving objects:  45% (1296/2880)   Receiving objects:  46% (1325/2880)   Receiving objects:  47% (1354/2880)   Receiving objects:  48% (1383/2880)   Receiving objects:  49% (1412/2880)   Receiving objects:  50% (1440/2880)   Receiving objects:  51% (1469/2880)   Receiving objects:  52% (1498/2880)   Receiving objects:  53% (1527/2880)   Receiving objects:  54% (1556/2880)   Receiving objects:  55% (1584/2880)   Receiving objects:  56% (1613/2880)   Receiving objects:  57% (1642/2880)   Receiving objects:  58% (1671/2880)   Receiving objects:  59% (1700/2880)   Receiving objects:  60% (1728/2880)   Receiving objects:  61% (1757/2880)   Receiving objects:  62% (1786/2880)   Receiving objects:  63% (1815/2880)   Receiving objects:  64% (1844/2880)   Receiving objects:  65% (1872/2880)   Receiving objects:  66% (1901/2880)   Receiving objects:  67% (1930/2880)   Receiving objects:  68% (1959/2880)   Receiving objects:  69% (1988/2880)   Receiving objects:  70% (2016/2880)   Receiving objects:  71% (2045/2880)   Receiving objects:  72% (2074/2880)   Receiving objects:  73% (2103/2880)   Receiving objects:  74% (2132/2880)   Receiving objects:  75% (2160/2880)   Receiving objects:  76% (2189/2880)   Receiving objects:  77% (2218/2880)   Receiving objects:  78% (2247/2880)   Receiving objects:  79% (2276/2880)   Receiving objects:  80% (2304/2880)   Receiving objects:  81% (2333/2880)   Receiving objects:  82% (2362/2880)   Receiving objects:  83% (2391/2880)   Receiving objects:  84% (2420/2880)   Receiving objects:  85% (2448/2880)   Receiving objects:  86% (2477/2880)   Receiving objects:  87% (2506/2880)   Receiving objects:  88% (2535/2880)   Receiving objects:  89% (2564/2880)   Receiving objects:  90% (2592/2880)   Receiving objects:  91% (2621/2880)   Receiving objects:  92% (2650/2880)   Receiving objects:  93% (2679/2880)   Receiving objects:  94% (2708/2880)   Receiving objects:  95% (2736/2880)   Receiving objects:  96% (2765/2880)   Receiving objects:  97% (2794/2880)   Receiving objects:  98% (2823/2880)   remote: Total 2880 (delta 813), reused 2274 (delta 560), pack-reused 0[K
Receiving objects:  99% (2852/2880)   Receiving objects: 100% (2880/2880)   Receiving objects: 100% (2880/2880), 943.20 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/813)   Resolving deltas:   1% (10/813)   Resolving deltas:   3% (32/813)   Resolving deltas:   4% (34/813)   Resolving deltas:   5% (43/813)   Resolving deltas:   6% (49/813)   Resolving deltas:   8% (69/813)   Resolving deltas:   9% (75/813)   Resolving deltas:  10% (82/813)   Resolving deltas:  11% (90/813)   Resolving deltas:  16% (131/813)   Resolving deltas:  17% (139/813)   Resolving deltas:  18% (147/813)   Resolving deltas:  19% (156/813)   Resolving deltas:  20% (163/813)   Resolving deltas:  21% (171/813)   Resolving deltas:  22% (179/813)   Resolving deltas:  23% (193/813)   Resolving deltas:  24% (197/813)   Resolving deltas:  25% (204/813)   Resolving deltas:  26% (215/813)   Resolving deltas:  27% (220/813)   Resolving deltas:  28% (229/813)   Resolving deltas:  29% (239/813)   Resolving deltas:  30% (244/813)   Resolving deltas:  31% (256/813)   Resolving deltas:  33% (271/813)   Resolving deltas:  34% (279/813)   Resolving deltas:  35% (285/813)   Resolving deltas:  52% (423/813)   Resolving deltas:  53% (432/813)   Resolving deltas:  54% (440/813)   Resolving deltas:  55% (448/813)   Resolving deltas:  56% (457/813)   Resolving deltas:  57% (464/813)   Resolving deltas:  58% (477/813)   Resolving deltas:  59% (480/813)   Resolving deltas:  60% (488/813)   Resolving deltas:  61% (496/813)   Resolving deltas:  63% (513/813)   Resolving deltas:  64% (522/813)   Resolving deltas:  65% (532/813)   Resolving deltas:  66% (540/813)   Resolving deltas:  67% (545/813)   Resolving deltas:  74% (602/813)   Resolving deltas:  75% (612/813)   Resolving deltas:  76% (620/813)   Resolving deltas:  77% (632/813)   Resolving deltas:  78% (635/813)   Resolving deltas:  79% (643/813)   Resolving deltas:  80% (651/813)   Resolving deltas:  83% (682/813)   Resolving deltas:  84% (683/813)   Resolving deltas:  85% (693/813)   Resolving deltas:  86% (700/813)   Resolving deltas:  87% (708/813)   Resolving deltas:  88% (716/813)   Resolving deltas:  89% (724/813)   Resolving deltas:  90% (732/813)   Resolving deltas:  91% (746/813)   Resolving deltas:  92% (749/813)   Resolving deltas:  93% (759/813)   Resolving deltas:  94% (765/813)   Resolving deltas:  95% (773/813)   Resolving deltas:  96% (781/813)   Resolving deltas:  97% (789/813)   Resolving deltas:  98% (797/813)   Resolving deltas:  99% (805/813)   Resolving deltas: 100% (813/813)   Resolving deltas: 100% (813/813), done.
Checking connectivity... done.

travis_time:end:20bb0828:start=1471019929734622956,finish=1471019930344935913,duration=610312957[0K$ cd petergeneric/stdlib
$ git checkout -qf 26f261a15c1768a7bf56b0001363d2a0776375f1
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee https://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0c64b848[0K$ Installing caching utilities

travis_time:end:0c64b848:start=1471019933999191612,finish=1471019934048288004,duration=49096392[0Ktravis_time:start:02a6f0e8[0K
travis_time:end:02a6f0e8:start=1471019934053183231,finish=1471019934056524826,duration=3341595[0Ktravis_time:start:046c65da[0K[32;1mattempting to download cache archive[0m
[32;1mfetching master/cache-linux-precise-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--jdk-oraclejdk8.tgz[0m
[32;1mfound cache[0m

travis_time:end:046c65da:start=1471019934060268481,finish=1471019941512046347,duration=7451777866[0Ktravis_time:start:1c7b590f[0K
travis_time:end:1c7b590f:start=1471019941516095945,finish=1471019941519487207,duration=3391262[0Ktravis_time:start:099f9a14[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:099f9a14:start=1471019941523688194,finish=1471019947104883119,duration=5581194925[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:15602d90[0K$ mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "3.13.0-40-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: 26f261a15c1768a7bf56b0001363d2a0776375f1 at timestamp: 1471019953051
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.1.2-SNAPSHOT/stdlib-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 82 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 13 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/test-classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.2-SNAPSHOT/stdlib-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.2-SNAPSHOT/stdlib-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.1.2-SNAPSHOT/stdlib-guice-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 121 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: Some input files use or override a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 12 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.2-SNAPSHOT/stdlib-guice-common-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.2-SNAPSHOT/stdlib-guice-common-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.1.2-SNAPSHOT/user-manager-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/user-manager/api/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.2-SNAPSHOT/user-manager-api-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.2-SNAPSHOT/user-manager-api-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 80 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.2-SNAPSHOT/stdlib-guice-webapp-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.2-SNAPSHOT/stdlib-guice-webapp-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 20 source files to /home/travis/build/petergeneric/stdlib/guice/metrics/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.2-SNAPSHOT/stdlib-guice-metrics-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.2-SNAPSHOT/stdlib-guice-metrics-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/guice/freemarker/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.2-SNAPSHOT/stdlib-guice-freemarker-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.2-SNAPSHOT/stdlib-guice-freemarker-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 15 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.2-SNAPSHOT/stdlib-guice-testing-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.2-SNAPSHOT/stdlib-guice-testing-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 61 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Some input files use or override a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 32 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.2-SNAPSHOT/stdlib-guice-hibernate-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.2-SNAPSHOT/stdlib-guice-hibernate-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.2-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.2-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 7 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.2-SNAPSHOT/stdlib-guice-liquibase-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.2-SNAPSHOT/stdlib-guice-liquibase-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 28 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.2-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.2-SNAPSHOT/carbon-client-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.2-SNAPSHOT/carbon-client-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ config-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.2-SNAPSHOT/config-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 10 source files to /home/travis/build/petergeneric/stdlib/configuration/configuration/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/configuration/configuration/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.2-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/configuration/configuration/src/main/webapp]
[INFO] Webapp assembled in [360 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.2-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.2-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/configuration-9.1.2-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/configuration/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/configuration-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 36 source files to /home/travis/build/petergeneric/stdlib/user-manager/service/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.2-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [160 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.2-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.2-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.2-SNAPSHOT/user-manager-9.1.2-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.2-SNAPSHOT/user-manager-9.1.2-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.393 s]
[INFO] stdlib ............................................. SUCCESS [ 13.501 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.200 s]
[INFO] stdlib guice common ................................ SUCCESS [  6.401 s]
[INFO] user-manager ....................................... SUCCESS [  0.034 s]
[INFO] user manager rest api .............................. SUCCESS [  0.482 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  3.889 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.664 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.363 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.965 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  2.689 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  0.747 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.402 s]
[INFO] carbon client ...................................... SUCCESS [  0.464 s]
[INFO] configuration ...................................... SUCCESS [  0.026 s]
[INFO] Configuration Service .............................. SUCCESS [  3.373 s]
[INFO] user manager service ............................... SUCCESS [  3.147 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 41.101 s
[INFO] Finished at: 2016-08-12T16:39:50+00:00
[INFO] Final Memory: 54M/320M
[INFO] ------------------------------------------------------------------------

travis_time:end:15602d90:start=1471019947703152741,finish=1471019993054282752,duration=45351130011[0Ktravis_fold:end:install[0Kcoverity_scan:start$ export PROJECT_NAME=petergeneric/stdlib
coverity_scan:endtravis_time:start:0e701dbf[0K$ mvn test -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: 26f261a15c1768a7bf56b0001363d2a0776375f1 at timestamp: 1471019998473
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.429 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.059 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.115 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 sec - in com.peterphi.std.io.PropertyFileTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.common.retry.retry.RetryManager).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.071 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.754 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.215 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.108 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.474 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.04 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.237 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2016-08-12 16:40:12,621 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,621 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,626 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,636 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,636 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,637 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,638 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,638 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,638 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,641 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,641 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,641 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,644 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,644 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,645 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,693 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,693 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,694 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,697 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,697 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,697 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,699 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,699 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,700 TRACE [PropertyFile] {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2016-08-12 16:40:12,718 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,720 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-12 16:40:12,720 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-12 16:40:12,731  INFO Trying to create Guice Injector...
2016-08-12 16:40:12,733 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@22f71333
2016-08-12 16:40:12,733 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@13969fbe
2016-08-12 16:40:12,770 TRACE [PropertyFile] {set} key=travis_tag; value=
2016-08-12 16:40:12,771 TRACE [PropertyFile] {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2016-08-12 16:40:12,771 TRACE [PropertyFile] {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2016-08-12 16:40:12,771 TRACE [PropertyFile] {set} key=casher_dir; value=/home/travis/.casher
2016-08-12 16:40:12,775 TRACE [PropertyFile] {set} key=travis_job_id; value=151855411
2016-08-12 16:40:12,791 TRACE [PropertyFile] {set} key=travis_jdk_version; value=oraclejdk8
2016-08-12 16:40:12,791 TRACE [PropertyFile] {set} key=travis_os_name; value=linux
2016-08-12 16:40:12,792 TRACE [PropertyFile] {set} key=ps4; value=+
2016-08-12 16:40:12,792 TRACE [PropertyFile] {set} key=rvm_silence_path_mismatch_check_flag; value=1
2016-08-12 16:40:12,792 TRACE [PropertyFile] {set} key=mail; value=/var/mail/travis
2016-08-12 16:40:12,792 TRACE [PropertyFile] {set} key=logname; value=travis
2016-08-12 16:40:12,792 TRACE [PropertyFile] {set} key=rvm_version; value=1.26.8 (1.26.8)
2016-08-12 16:40:12,793 TRACE [PropertyFile] {set} key=travis_event_type; value=push
2016-08-12 16:40:12,793 TRACE [PropertyFile] {set} key=pwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-08-12 16:40:12,793 TRACE [PropertyFile] {set} key=git_askpass; value=echo
2016-08-12 16:40:12,793 TRACE [PropertyFile] {set} key=rails_env; value=test
2016-08-12 16:40:12,793 TRACE [PropertyFile] {set} key=has_antares_three_little_fronzies_badge; value=true
2016-08-12 16:40:12,793 TRACE [PropertyFile] {set} key=shell; value=/bin/bash
2016-08-12 16:40:12,794 TRACE [PropertyFile] {set} key=composer_no_interaction; value=1
2016-08-12 16:40:12,794 TRACE [PropertyFile] {set} key=travis_secure_env_vars; value=true
2016-08-12 16:40:12,794 TRACE [PropertyFile] {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2016-08-12 16:40:12,794 TRACE [PropertyFile] {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2016-08-12 16:40:12,794 TRACE [PropertyFile] {set} key=oldpwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-08-12 16:40:12,795 TRACE [PropertyFile] {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2016-08-12 16:40:12,795 TRACE [PropertyFile] {set} key=coverity_scan_branch; value=0
2016-08-12 16:40:12,795 TRACE [PropertyFile] {set} key=rvm_path; value=/home/travis/.rvm
2016-08-12 16:40:12,795 TRACE [PropertyFile] {set} key=coverity_scan_token; value=[secure]
2016-08-12 16:40:12,796 TRACE [PropertyFile] {set} key=continuous_integration; value=true
2016-08-12 16:40:12,796 TRACE [PropertyFile] {set} key=ruby_version; value=ruby-1.9.3-p551
2016-08-12 16:40:12,796 TRACE [PropertyFile] {set} key=debian_frontend; value=noninteractive
2016-08-12 16:40:12,796 TRACE [PropertyFile] {set} key=_system_name; value=Ubuntu
2016-08-12 16:40:12,796 TRACE [PropertyFile] {set} key=lc_all; value=en_US.UTF-8
2016-08-12 16:40:12,797 TRACE [PropertyFile] {set} key=m2_home; value=/usr/local/maven
2016-08-12 16:40:12,797 TRACE [PropertyFile] {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2016-08-12 16:40:12,797 TRACE [PropertyFile] {set} key=rvm_autoupdate_flag; value=0
2016-08-12 16:40:12,797 TRACE [PropertyFile] {set} key=travis_build_number; value=525
2016-08-12 16:40:12,797 TRACE [PropertyFile] {set} key=lc_ctype; value=en_US.UTF-8
2016-08-12 16:40:12,798 TRACE [PropertyFile] {set} key=shlvl; value=3
2016-08-12 16:40:12,798 TRACE [PropertyFile] {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2016-08-12 16:40:12,798 TRACE [PropertyFile] {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2016-08-12 16:40:12,798 TRACE [PropertyFile] {set} key=_system_arch; value=x86_64
2016-08-12 16:40:12,798 TRACE [PropertyFile] {set} key=has_josh_k_seal_of_approval; value=true
2016-08-12 16:40:12,799 TRACE [PropertyFile] {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2016-08-12 16:40:12,799 TRACE [PropertyFile] {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2016-08-12 16:40:12,799 TRACE [PropertyFile] {set} key=travis_build_id; value=151855410
2016-08-12 16:40:12,799 TRACE [PropertyFile] {set} key=term; value=xterm
2016-08-12 16:40:12,799 TRACE [PropertyFile] {set} key=rvm_prefix; value=/home/travis
2016-08-12 16:40:12,800 TRACE [PropertyFile] {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2016-08-12 16:40:12,800 TRACE [PropertyFile] {set} key=lang; value=en_US.UTF-8
2016-08-12 16:40:12,800 TRACE [PropertyFile] {set} key=travis_job_number; value=525.1
2016-08-12 16:40:12,800 TRACE [PropertyFile] {set} key=travis_pull_request; value=false
2016-08-12 16:40:12,800 TRACE [PropertyFile] {set} key=project_name; value=petergeneric/stdlib
2016-08-12 16:40:12,800 TRACE [PropertyFile] {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2016-08-12 16:40:12,801 TRACE [PropertyFile] {set} key=merb_env; value=test
2016-08-12 16:40:12,801 TRACE [PropertyFile] {set} key=rack_env; value=test
2016-08-12 16:40:12,801 TRACE [PropertyFile] {set} key=travis_language; value=java
2016-08-12 16:40:12,801 TRACE [PropertyFile] {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2016-08-12 16:40:12,801 TRACE [PropertyFile] {set} key=travis_branch; value=master
2016-08-12 16:40:12,801 TRACE [PropertyFile] {set} key=maven_cmd_line_args; value=test -B
2016-08-12 16:40:12,802 TRACE [PropertyFile] {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2016-08-12 16:40:12,802 TRACE [PropertyFile] {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2016-08-12 16:40:12,802 TRACE [PropertyFile] {set} key=nvm_dir; value=/home/travis/.nvm
2016-08-12 16:40:12,802 TRACE [PropertyFile] {set} key=travis; value=true
2016-08-12 16:40:12,802 TRACE [PropertyFile] {set} key=ci; value=true
2016-08-12 16:40:12,803 TRACE [PropertyFile] {set} key=_system_type; value=Linux
2016-08-12 16:40:12,803 TRACE [PropertyFile] {set} key=travis_build_dir; value=/home/travis/build/petergeneric/stdlib
2016-08-12 16:40:12,805 TRACE [PropertyFile] {set} key=ssh_tty; value=/dev/pts/1
2016-08-12 16:40:12,805 TRACE [PropertyFile] {set} key=ssh_client; value=172.17.42.1 35054 22
2016-08-12 16:40:12,805 TRACE [PropertyFile] {set} key=_system_version; value=12.04
2016-08-12 16:40:12,806 TRACE [PropertyFile] {set} key=travis_commit_range; value=95dd3932ab7f...26f261a15c17
2016-08-12 16:40:12,806 TRACE [PropertyFile] {set} key=user; value=travis
2016-08-12 16:40:12,806 TRACE [PropertyFile] {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2016-08-12 16:40:12,806 TRACE [PropertyFile] {set} key=travis_commit; value=26f261a15c1768a7bf56b0001363d2a0776375f1
2016-08-12 16:40:12,806 TRACE [PropertyFile] {set} key=travis_repo_slug; value=petergeneric/stdlib
2016-08-12 16:40:12,807 TRACE [PropertyFile] {set} key=ssh_connection; value=172.17.42.1 35054 172.17.5.168 22
2016-08-12 16:40:12,807 TRACE [PropertyFile] {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2016-08-12 16:40:12,807 TRACE [PropertyFile] {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2016-08-12 16:40:12,807 TRACE [PropertyFile] {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2016-08-12 16:40:12,807 TRACE [PropertyFile] {set} key=home; value=/home/travis
2016-08-12 16:40:12,808 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@6aaa5eb0
2016-08-12 16:40:12,808 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@3498ed
2016-08-12 16:40:12,809 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@22f71333
2016-08-12 16:40:12,809 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@13969fbe
2016-08-12 16:40:12,908 TRACE Search for config files with name: environment.properties
2016-08-12 16:40:12,909 TRACE Search for config files with name: service.properties
2016-08-12 16:40:12,910 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@482f8f11
2016-08-12 16:40:12,936  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/webquery/
2016-08-12 16:40:12,952  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/std/guice/hibernate/webquery/
2016-08-12 16:40:13,029 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2016-08-12 16:40:13,041 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@a67c67e, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@3327bd23, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@4e1d422d, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@66480dd7, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@52a86356, com.peterphi.std.guice.common.metrics.CoreMetricsModule@5ce81285, com.peterphi.std.guice.common.cached.module.CacheModule@78c03f1f, com.peterphi.std.guice.common.retry.module.RetryModule@5ec0a365, com.peterphi.std.guice.common.JAXBModule@4fe3c938, com.peterphi.std.guice.common.Log4JModule@5383967b, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@2ac273d3]
2016-08-12 16:40:13,901 DEBUG Discovered new property: guice.bootstrap.class
2016-08-12 16:40:13,901 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,901 DEBUG Discovered new property: scan.packages
2016-08-12 16:40:13,902 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: override-properties.file
2016-08-12 16:40:13,902 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: mode
2016-08-12 16:40:13,902 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: log4j.properties
2016-08-12 16:40:13,902 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: guice.jaxb.moxy
2016-08-12 16:40:13,902 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: unit-test
2016-08-12 16:40:13,902 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: service.config.endpoint
2016-08-12 16:40:13,902 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: service.config.path
2016-08-12 16:40:13,902 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: service.config.instance-id
2016-08-12 16:40:13,902 TRACE Discovered new binding for property service.config.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: service.config.last-revision
2016-08-12 16:40:13,902 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: restutils.allow-restart
2016-08-12 16:40:13,902 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: restutils.show-serviceprops
2016-08-12 16:40:13,902 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: restutils.allow-reconfigure
2016-08-12 16:40:13,902 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,902 DEBUG Discovered new property: restutils.show-bound-values
2016-08-12 16:40:13,902 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: local.restservices.endpoint
2016-08-12 16:40:13,903 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: local.restservices.prefix
2016-08-12 16:40:13,903 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: servlet.context-name
2016-08-12 16:40:13,903 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: context-name
2016-08-12 16:40:13,903 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: role.jaxrs-server.auto
2016-08-12 16:40:13,903 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-08-12 16:40:13,903 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: local.webapp.endpoint
2016-08-12 16:40:13,903 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: local.container.endpoint
2016-08-12 16:40:13,903 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: local.webapp.context-path
2016-08-12 16:40:13,903 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-08-12 16:40:13,903 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-08-12 16:40:13,903 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: framework.webauth.provider
2016-08-12 16:40:13,903 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,903 DEBUG Discovered new property: framework.webauth.enabled
2016-08-12 16:40:13,903 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,904 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-08-12 16:40:13,904 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,904 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-08-12 16:40:13,904 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,904 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-08-12 16:40:13,904 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,904 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-08-12 16:40:13,904 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,904 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-08-12 16:40:13,904 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,904 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-08-12 16:40:13,904 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-08-12 16:40:13,905 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-08-12 16:40:13,905 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: service.oauth2.endpoint
2016-08-12 16:40:13,905 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: service.oauth2.client_id
2016-08-12 16:40:13,905 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: service.oauth2.client_secret
2016-08-12 16:40:13,905 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-08-12 16:40:13,905 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: hibernate.properties
2016-08-12 16:40:13,905 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-08-12 16:40:13,905 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: role.hibernate.auto
2016-08-12 16:40:13,905 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: role.thymeleaf.auto
2016-08-12 16:40:13,905 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-08-12 16:40:13,905 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-08-12 16:40:13,905 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: role.dbunit.auto
2016-08-12 16:40:13,905 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: liquibase.action
2016-08-12 16:40:13,905 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,905 DEBUG Discovered new property: liquibase.changelog
2016-08-12 16:40:13,906 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,906 DEBUG Discovered new property: liquibase.contexts
2016-08-12 16:40:13,906 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,906 DEBUG Discovered new property: liquibase.labels
2016-08-12 16:40:13,906 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,906 DEBUG Discovered new property: liquibase.parameter.
2016-08-12 16:40:13,906 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-12 16:40:13,987 DEBUG Loading log4j configuration from embedded
2016-08-12 16:40:14,077 TRACE [PropertyFile] {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2016-08-12 16:40:14,078 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2016-08-12 16:40:14,078 TRACE [PropertyFile] {set} key=log4j.rootCategory; value=WARN, logconsole
2016-08-12 16:40:14,078 TRACE [PropertyFile] {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2016-08-12 16:40:14,078 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2016-08-12 16:40:14,078 TRACE [PropertyFile] {set} key=log4j.properties; value=embedded
2016-08-12 16:40:14,972 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:14,976 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:14,977 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:14,987 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:14,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:14,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:14,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:14,993 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:15,142  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-08-12 16:40:17,477 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-08-12 16:40:17,477 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-08-12 16:40:17,478 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-08-12 16:40:17,478 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-08-12 16:40:17,487 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-08-12 16:40:17,488 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-08-12 16:40:17,490 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-08-12 16:40:17,490 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:17,548 TRACE Hibernate Setup Complete.
2016-08-12 16:40:17,549 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:17,549 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:17,551 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:17,554 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:17,554 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:17,555 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:17,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:17,573 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:17,574 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:17,574 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:17,574 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:17,574 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:17,575 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:17,852 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:17,896 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:18,076 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:18,081 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@387bf2d9
2016-08-12 16:40:18,093 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:18,093 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:18,122  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:18,123 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:18,136 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@62891fc8
2016-08-12 16:40:19,033 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:19,033 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:19,034 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:19,034 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:19,034 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:19,034 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:19,035 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:19,037 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:19,072  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:19,289 TRACE Hibernate Setup Complete.
2016-08-12 16:40:19,289 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:19,289 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:19,289 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:19,289 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:19,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:19,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:19,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:19,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:19,291 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:19,291 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:19,291 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:19,291 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:19,291 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:19,294 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:19,295 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:19,304 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:19,323 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@332bcab0
2016-08-12 16:40:19,324 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-08-12 16:40:19,332 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:19,332 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-08-12 16:40:19,363 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@41ad373
2016-08-12 16:40:19,363  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:19,363 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:19,363 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@177c41d7
2016-08-12 16:40:19,979 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:19,983 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:19,983 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:19,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:19,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:19,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:19,984 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:19,985 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:20,036  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:20,165 TRACE Hibernate Setup Complete.
2016-08-12 16:40:20,166 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:20,166 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:20,166 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:20,166 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:20,167 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:20,167 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:20,167 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:20,167 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:20,167 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:20,168 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:20,180 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:20,181 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:20,181 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:20,185 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:20,186 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:20,188 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:20,190 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@25b38203
2016-08-12 16:40:20,190 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:20,191 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=otherobjec2_.obj_name limit ?
2016-08-12 16:40:20,195 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@16d07cf3
2016-08-12 16:40:20,195 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:20,196 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name<=otherobjec2_.obj_name limit ?
2016-08-12 16:40:20,197 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@d325518
2016-08-12 16:40:20,198  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:20,198 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:20,198 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2233cac0
2016-08-12 16:40:20,677 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:20,683 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:20,684 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:20,684 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:20,684 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:20,684 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:20,685 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:20,687 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:20,690  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:20,969 TRACE Hibernate Setup Complete.
2016-08-12 16:40:20,970 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:20,970 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:20,970 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:20,975 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:20,976 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:20,976 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:20,976 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:20,976 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:20,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:20,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:20,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:20,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:20,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:20,982 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:20,983 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:20,987 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:21,002 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a316f6b
2016-08-12 16:40:21,006 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:21,081 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@687eb455
2016-08-12 16:40:21,100 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:21,104 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b8a144e
2016-08-12 16:40:21,108 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:21,108 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-08-12 16:40:21,131 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3f866f50
2016-08-12 16:40:21,132 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:21,133 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-08-12 16:40:21,160 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5618fc1f
2016-08-12 16:40:21,161  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:21,162 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:21,162 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@374c3975
2016-08-12 16:40:21,541 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:21,541 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:21,541 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:21,541 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:21,542 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:21,542 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:21,542 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:21,543 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:21,545  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:21,712 TRACE Hibernate Setup Complete.
2016-08-12 16:40:21,712 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:21,712 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:21,713 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:21,713 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:21,713 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:21,713 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:21,713 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:21,714 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:21,714 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:21,714 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:21,714 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:21,714 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:21,715 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:21,716 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:21,717 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:21,720 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:21,740 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@16391278
2016-08-12 16:40:21,741 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:21,743 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@38ef1a0a
2016-08-12 16:40:21,744 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:21,746 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2016-08-12 16:40:21,753 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6fbe4800
2016-08-12 16:40:21,754  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:21,754 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:21,754 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1179fc8c
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:22,109 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:22,111 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:22,126  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:22,216 TRACE Hibernate Setup Complete.
2016-08-12 16:40:22,216 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:22,216 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:22,216 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:22,216 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:22,217 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:22,217 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:22,217 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:22,217 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:22,217 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:22,217 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:22,217 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:22,217 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:22,217 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:22,218 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:22,218 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:22,219 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:22,220 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@12421766
2016-08-12 16:40:22,220 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-08-12 16:40:22,220 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:22,223 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2016-08-12 16:40:22,227 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@16944b58
2016-08-12 16:40:22,243  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:22,244 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:22,244 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@62b42406
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:22,512 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:22,513 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:22,534  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:22,715 TRACE Hibernate Setup Complete.
2016-08-12 16:40:22,715 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:22,715 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:22,716 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:22,728 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:22,728 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:22,728 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:22,729 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:22,729 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:22,729 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:22,854 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:22,854 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:22,854 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:22,854 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:22,854 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:22,855 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:22,856 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:22,857 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@69cc49ec
2016-08-12 16:40:22,857 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:22,858 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1b556a88
2016-08-12 16:40:22,859 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:22,892 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@62c6db99
2016-08-12 16:40:22,893 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2016-08-12 16:40:22,900 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-08-12 16:40:22,903 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2954c429
2016-08-12 16:40:22,903  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:22,903 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:22,904 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4742466e
2016-08-12 16:40:23,133 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,133 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,133 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:23,133 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,134 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,134 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,134 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,135 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:23,157  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:23,282 TRACE Hibernate Setup Complete.
2016-08-12 16:40:23,282 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:23,283 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,283 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,283 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,283 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,284 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,284 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,284 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,284 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,284 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,284 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,285 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,285 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,285 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:23,286 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:23,287 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:23,288 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3adbd038
2016-08-12 16:40:23,289 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:23,292 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d0333c8
2016-08-12 16:40:23,293 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:23,295 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3673e211
2016-08-12 16:40:23,295 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-08-12 16:40:23,296 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@638d624a
2016-08-12 16:40:23,297 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-08-12 16:40:23,298 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@bb38c49
2016-08-12 16:40:23,299 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:23,299 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-08-12 16:40:23,301 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5186c801
2016-08-12 16:40:23,301 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:23,302 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2016-08-12 16:40:23,305 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a7e469d
2016-08-12 16:40:23,306 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:23,306 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2016-08-12 16:40:23,312 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5cc152f9
2016-08-12 16:40:23,313  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:23,313 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:23,313 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4b86a656
2016-08-12 16:40:23,478 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,491 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,491 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:23,492 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,492 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,492 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,493 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,494 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:23,498  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:23,587 TRACE Hibernate Setup Complete.
2016-08-12 16:40:23,588 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:23,588 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,588 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,588 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,589 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,589 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,589 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,589 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,589 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,589 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,589 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,591 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:23,591 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:23,598 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:23,600 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4505015b
2016-08-12 16:40:23,601 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:23,605 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@733345f5
2016-08-12 16:40:23,612 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:23,624 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@75d0cac6
2016-08-12 16:40:23,634 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:23,635 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2016-08-12 16:40:23,639 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7c919e1e
2016-08-12 16:40:23,639  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:23,640 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:23,640 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1c7fd2e0
2016-08-12 16:40:23,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:23,936 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:23,936 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:23,936 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:23,936 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:23,936 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:23,936 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:23,937 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:23,942  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:24,052 TRACE Hibernate Setup Complete.
2016-08-12 16:40:24,052 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:24,052 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,053 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,053 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,053 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,057 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,057 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,057 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,057 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,057 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,058 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,058 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,058 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,059 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:24,059 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,062 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,063 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@268f126f
2016-08-12 16:40:24,065 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:24,065 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2016-08-12 16:40:24,068 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3749c6ac
2016-08-12 16:40:24,068  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:24,069 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:24,069 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3bede349
2016-08-12 16:40:24,197 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:24,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,198 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,199 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:24,203  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:24,341 TRACE Hibernate Setup Complete.
2016-08-12 16:40:24,341 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:24,341 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,341 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,342 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,360 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,360 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,360 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,360 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,361 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,361 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,361 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,361 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,361 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,362 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:24,362 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,366 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,370 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@194a653d
2016-08-12 16:40:24,372 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-08-12 16:40:24,373 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@46bbcb82
2016-08-12 16:40:24,380 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:24,384 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@354ff4f6
2016-08-12 16:40:24,385 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:24,385 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2016-08-12 16:40:24,408 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a10e65b
2016-08-12 16:40:24,409 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:24,409 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2016-08-12 16:40:24,410 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2e640411
2016-08-12 16:40:24,410  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:24,410 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:24,410 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5fe19d0e
2016-08-12 16:40:24,584 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:24,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,600 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,600 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,600 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,600 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:24,602  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:24,650 TRACE Hibernate Setup Complete.
2016-08-12 16:40:24,650 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:24,650 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,651 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,651 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,651 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,651 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,651 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,651 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,652 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,652 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,652 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,652 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,652 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,652 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:24,653 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,654 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,668 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@31620971
2016-08-12 16:40:24,668 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:24,669 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2016-08-12 16:40:24,670 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e512d7f
2016-08-12 16:40:24,671  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:24,671 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:24,671 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5f160341
2016-08-12 16:40:24,838 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,838 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,838 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:24,851 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,851 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,851 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,851 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,852 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:24,854  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:24,911 TRACE Hibernate Setup Complete.
2016-08-12 16:40:24,912 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:24,912 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,912 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,912 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:24,912 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:24,912 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,912 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:24,912 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,912 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:24,912 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,913 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:24,913 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,913 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:24,914 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:24,914 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,917 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:24,919 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a6c33a0
2016-08-12 16:40:24,920 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:24,920 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2016-08-12 16:40:24,935 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3c9e82a6
2016-08-12 16:40:24,936  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:24,936 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:24,936 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4ed096cc
2016-08-12 16:40:25,111 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,114 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,114 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:25,114 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,114 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,114 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,114 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,115 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:25,122  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:25,206 TRACE Hibernate Setup Complete.
2016-08-12 16:40:25,206 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:25,206 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,206 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,206 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,206 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,206 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,206 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,206 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,206 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,206 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,207 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,207 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,207 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,207 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:25,207 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:25,209 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:25,220 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@39b752f4
2016-08-12 16:40:25,220 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:25,220 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-08-12 16:40:25,222 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@22a10b71
2016-08-12 16:40:25,222  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:25,222 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:25,222 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4fc28b23
2016-08-12 16:40:25,476 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,482 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,482 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:25,482 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,482 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,482 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,482 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,482 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:25,484  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:25,543 TRACE Hibernate Setup Complete.
2016-08-12 16:40:25,543 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:25,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,544 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:25,544 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:25,545 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:25,546 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2cf88ae1
2016-08-12 16:40:25,546 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-08-12 16:40:25,546 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:25,546 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2016-08-12 16:40:25,547 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@48c8c722
2016-08-12 16:40:25,549  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:25,549 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:25,549 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@14eaab92
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,680 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:25,683  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:25,788 TRACE Hibernate Setup Complete.
2016-08-12 16:40:25,788 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:25,788 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,789 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,790 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,790 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,790 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,791 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,791 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,791 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,791 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,791 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,791 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,791 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,792 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:25,792 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:25,795 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:25,812 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@38b7b02f
2016-08-12 16:40:25,813 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:25,813 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:25,814 DEBUG IllegalArgumentException causes rollback
2016-08-12 16:40:25,814  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:25,814 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:25,815 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@346e62d7
2016-08-12 16:40:25,979 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:25,979 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:25,980 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:25,980 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:25,980 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:25,980 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:25,980 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:25,980 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:25,983  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:26,104 TRACE Hibernate Setup Complete.
2016-08-12 16:40:26,104 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:26,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:26,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:26,105 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:26,105 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:26,105 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:26,105 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:26,105 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:26,105 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:26,105 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,105 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,105 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,105 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,106 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:26,106 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:26,126 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:26,128 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@50e9b5f4
2016-08-12 16:40:26,128 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:26,130 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f6a3391
2016-08-12 16:40:26,140 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-12 16:40:26,152 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@75931d62
2016-08-12 16:40:26,152 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:26,154 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2016-08-12 16:40:26,156 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3a2227e8
2016-08-12 16:40:26,157  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:26,157 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:26,157 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3ec457ec
2016-08-12 16:40:26,315 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:26,327 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,327 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:26,327 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,327 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:26,327 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:26,327 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:26,328 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:26,330  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:26,428 TRACE Hibernate Setup Complete.
2016-08-12 16:40:26,428 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:26,428 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:26,428 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:26,428 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-12 16:40:26,428 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-12 16:40:26,428 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:26,428 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-12 16:40:26,428 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:26,428 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:26,428 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,429 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,429 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,429 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,429 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-12 16:40:26,429 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:26,430 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-12 16:40:26,440 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7a9794bd
2016-08-12 16:40:26,458 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:26,459 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2016-08-12 16:40:26,467 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@63813085
2016-08-12 16:40:26,467  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:26,467 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:26,467 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5a3783e4
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.757 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2016-08-12 16:40:26,615 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,615 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:26,615 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,616 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:26,618  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:26,642 TRACE Hibernate Setup Complete.
2016-08-12 16:40:26,642 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:26,642 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,642 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,642 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,642 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,643 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-08-12 16:40:26,648 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3d862f5c
2016-08-12 16:40:26,648 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-08-12 16:40:26,649 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@29abba49
2016-08-12 16:40:26,651 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:26,651 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:26,651 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:26,651 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_one this_1_ on this_.id=this_1_.id left outer join inherit_two this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2016-08-12 16:40:26,655 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2bd9722
2016-08-12 16:40:26,655  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:26,656 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:26,656 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b50cfa7
2016-08-12 16:40:26,748 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,748 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-12 16:40:26,748 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,749 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:26,751  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-12 16:40:26,766 TRACE Hibernate Setup Complete.
2016-08-12 16:40:26,766 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-12 16:40:26,766 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,767 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-12 16:40:26,767 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,767 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-12 16:40:26,767 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-08-12 16:40:26,768 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@23d45f7d
2016-08-12 16:40:26,769 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-08-12 16:40:26,769 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@74213bb4
2016-08-12 16:40:26,771 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-08-12 16:40:26,775 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2fce34e4
2016-08-12 16:40:26,775 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-08-12 16:40:26,777 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2f357394
2016-08-12 16:40:26,777  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:26,777 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:26,777 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@36a7c96f
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.275 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2016-08-12 16:40:27,015 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,028 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:27,043  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-08-12 16:40:27,063 TRACE Hibernate Setup Complete.
2016-08-12 16:40:27,066 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-08-12 16:40:27,079 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,081 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:27,081 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2016-08-12 16:40:27,082 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1c37b2b
2016-08-12 16:40:27,083  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:27,083 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:27,083 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3c83bde0
2016-08-12 16:40:27,278 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,279 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:27,281  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-08-12 16:40:27,307 TRACE Hibernate Setup Complete.
2016-08-12 16:40:27,307 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-08-12 16:40:27,307 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,307 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,313 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:27,313 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2016-08-12 16:40:27,316 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4b9a2df7
2016-08-12 16:40:27,316  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:27,317 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:27,317 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6797120c
2016-08-12 16:40:27,493 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,508 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:27,510  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-08-12 16:40:27,531 TRACE Hibernate Setup Complete.
2016-08-12 16:40:27,531 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-08-12 16:40:27,531 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,531 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-12 16:40:27,532 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2016-08-12 16:40:27,535 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@30062296
2016-08-12 16:40:27,535  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:27,535 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:27,535 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@77e11820
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.773 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.03 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2016-08-12 16:40:27,870 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-08-12 16:40:27,884 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:27,886  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2016-08-12 16:40:27,916 TRACE Hibernate Setup Complete.
2016-08-12 16:40:27,916 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2016-08-12 16:40:27,916 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-08-12 16:40:27,916 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-08-12 16:40:27,917 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2016-08-12 16:40:27,918 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@df31866
2016-08-12 16:40:27,919 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2016-08-12 16:40:27,920 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7690c06a
2016-08-12 16:40:27,920 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-08-12 16:40:27,921 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@71bfe3a0
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2016-08-12 16:40:27,928  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:27,928 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:27,928 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2032ad89
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.337 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2016-08-12 16:40:28,164 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-08-12 16:40:28,197 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:28,200  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2016-08-12 16:40:28,227 TRACE Hibernate Setup Complete.
2016-08-12 16:40:28,227 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2016-08-12 16:40:28,227 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-08-12 16:40:28,227 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-08-12 16:40:28,228 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2016-08-12 16:40:28,228 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@57084740
2016-08-12 16:40:28,229 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2016-08-12 16:40:28,229 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4ced30b9
2016-08-12 16:40:28,230 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-08-12 16:40:28,232 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6291cdb4
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2016-08-12 16:40:28,233  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:28,233 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:28,233 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1561e62e
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.314 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2016-08-12 16:40:28,602 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-12 16:40:28,603 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-12 16:40:28,603 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:28,605  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-08-12 16:40:28,628 TRACE Hibernate Setup Complete.
2016-08-12 16:40:28,628 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-08-12 16:40:28,628 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-12 16:40:28,628 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-12 16:40:28,628 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-12 16:40:28,635 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-12 16:40:28,636 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2016-08-12 16:40:28,638 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-12 16:40:28,640 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-12 16:40:28,643 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-12 16:40:28,643 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-12 16:40:28,645 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-12 16:40:28,645 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2016-08-12 16:40:28,660 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:28,660 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2016-08-12 16:40:28,664 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2a50f04f
2016-08-12 16:40:28,665  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:28,666 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:28,666 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@69c51a7b
2016-08-12 16:40:28,791 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-12 16:40:28,791 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-12 16:40:28,792 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:28,793  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-08-12 16:40:28,823 TRACE Hibernate Setup Complete.
2016-08-12 16:40:28,823 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-08-12 16:40:28,823 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-12 16:40:28,823 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-12 16:40:28,823 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-12 16:40:28,824 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-12 16:40:28,824 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2016-08-12 16:40:28,824 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-12 16:40:28,826 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-12 16:40:28,826 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-12 16:40:28,826 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-12 16:40:28,827 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-12 16:40:28,827 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-12 16:40:28,827 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2016-08-12 16:40:28,839 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c962ec8
2016-08-12 16:40:28,842  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:28,842 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:28,842 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5342c626
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.587 sec - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2016-08-12 16:40:29,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-08-12 16:40:29,076 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:29,077  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-08-12 16:40:29,106 TRACE Hibernate Setup Complete.
2016-08-12 16:40:29,106 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-08-12 16:40:29,118 DEBUG KillTransaction causes rollback
2016-08-12 16:40:29,124  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:29,124 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:29,124 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@55455a81
2016-08-12 16:40:29,317 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-08-12 16:40:29,317 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:29,319  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-08-12 16:40:29,351 TRACE Hibernate Setup Complete.
2016-08-12 16:40:29,352 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-08-12 16:40:29,352 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6b144bd8
2016-08-12 16:40:29,352  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:29,353 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:29,353 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2a561840
2016-08-12 16:40:29,624 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-08-12 16:40:29,625 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:29,627  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-08-12 16:40:29,643 TRACE Hibernate Setup Complete.
2016-08-12 16:40:29,643  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:29,644 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:29,644 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@8785f98
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.81 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2016-08-12 16:40:30,008 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-12 16:40:30,009 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-12 16:40:30,009 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:30,011  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-08-12 16:40:30,063 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-08-12 16:40:30,073 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-08-12 16:40:30,075 TRACE Hibernate Setup Complete.
2016-08-12 16:40:30,075 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-08-12 16:40:30,075 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-12 16:40:30,076 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-12 16:40:30,076 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-12 16:40:30,076 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-12 16:40:30,076 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2016-08-12 16:40:30,316 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@76cc6c28
2016-08-12 16:40:30,317  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:30,317 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:30,317 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d7b5971
2016-08-12 16:40:30,646 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-12 16:40:30,646 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-12 16:40:30,647 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-12 16:40:30,666  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-08-12 16:40:30,732 TRACE Hibernate Setup Complete.
2016-08-12 16:40:30,732 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-08-12 16:40:30,732 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-12 16:40:30,732 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-12 16:40:30,732 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-12 16:40:30,732 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-12 16:40:30,764 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2016-08-12 16:40:30,792 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6a964c56
2016-08-12 16:40:30,793 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2016-08-12 16:40:30,794 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3e94ff8a
2016-08-12 16:40:30,795 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-08-12 16:40:30,817 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@247e309f
2016-08-12 16:40:30,818 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-08-12 16:40:30,819 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@28ff7c5c
2016-08-12 16:40:30,820 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-08-12 16:40:30,821 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4b05a635
2016-08-12 16:40:30,822 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-08-12 16:40:30,823 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@680fd480
2016-08-12 16:40:30,823 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-08-12 16:40:30,825 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6a556ae0
2016-08-12 16:40:30,825 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-08-12 16:40:30,857 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4907d3e5
2016-08-12 16:40:30,858 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2016-08-12 16:40:30,904 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3a63d87e
2016-08-12 16:40:30,904  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:30,905 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-12 16:40:30,905 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@49329ce9
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.251 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest

Results :

Tests run: 55, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.hibernatetest.DbunitModuleTest
2016-08-12 16:40:33,740  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-08-12 16:40:35,570 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-08-12 16:40:35,571 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-08-12 16:40:35,571 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-08-12 16:40:35,571 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: drop table GroupEntity if exists
Hibernate: drop table SimpleEntity if exists
Hibernate: drop table simple_entity_join_table if exists
Hibernate: create table GroupEntity (id bigint not null, primary key (id))
Hibernate: create table SimpleEntity (id bigint not null, name varchar(255), primary key (id))
Hibernate: create table simple_entity_join_table (simple_id bigint not null, group_id bigint not null, primary key (simple_id, group_id))
Hibernate: alter table simple_entity_join_table add constraint FK_immmw5r3yntht63c24psmno0m foreign key (group_id) references GroupEntity
Hibernate: alter table simple_entity_join_table add constraint FK_f2ec0exlk361s4ww77hdync48 foreign key (simple_id) references SimpleEntity
Aug 12, 2016 4:40:35 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 12, 2016 4:40:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 12, 2016 4:40:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Aug 12, 2016 4:40:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 12, 2016 4:40:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 12, 2016 4:40:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.453 sec - in com.peterphi.std.guice.hibernatetest.DbunitModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
INFO 8/12/16 4:40 PM: liquibase: Successfully acquired change log lock
INFO 8/12/16 4:40 PM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 8/12/16 4:40 PM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: Sequence hibernate_sequence created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::nobody ran successfully in 1ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: Table something created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: ChangeSet ./000-Original.xml::original_tables::nobody ran successfully in 7ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: Data deleted from something
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: ChangeSet ./000-Original.xml::meaningless_delete::nobody ran successfully in 1ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: New row inserted into something
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: ChangeSet ./000-Original.xml::original_data::nobody ran successfully in 1ms
INFO 8/12/16 4:40 PM: liquibase: Successfully released change log lock
2016-08-12 16:40:44,034  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: select this_.id as id1_0_0_, this_.name as name2_0_0_ from something this_
Hibernate: select someentity0_.id as id1_0_0_, someentity0_.name as name2_0_0_ from something someentity0_ where someentity0_.id=?
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.516 sec - in com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
Running com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.02 sec - in com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.carbon.util.mediainfo.MediaInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.278 sec - in com.peterphi.carbon.util.mediainfo.MediaInfoTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.configuration.service.git.RepoHelperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.376 sec - in com.peterphi.configuration.service.git.RepoHelperTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest
2016-08-12 16:40:49,100  INFO Trying to create Guice Injector...
2016-08-12 16:40:49,217  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes/com/peterphi/
2016-08-12 16:40:49,218  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/com/peterphi/
2016-08-12 16:40:49,218  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes/com/peterphi/
2016-08-12 16:40:49,218  INFO Found source: file:/home/travis/build/petergeneric/stdlib/stdlib/target/classes/com/peterphi/
2016-08-12 16:40:49,218  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/common/target/classes/com/peterphi/
2016-08-12 16:40:49,218  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes/com/peterphi/
2016-08-12 16:40:49,218  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/
2016-08-12 16:40:49,219  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes/com/peterphi/
2016-08-12 16:40:49,219  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes/com/peterphi/
2016-08-12 16:40:49,219  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes/com/peterphi/
2016-08-12 16:40:49,219  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes/com/peterphi/
2016-08-12 16:40:50,323 DEBUG Discovered new property: dbunit.schema
2016-08-12 16:40:50,426 DEBUG Injector for (app) created in 1249 ms
2016-08-12 16:40:50,426 DEBUG Class scanner stats: insts=1 cached createTime=254, scanTime=0
2016-08-12 16:40:50,489 DEBUG Discovered new property: hibernate.perform-separate-id-query-for-large-tables
2016-08-12 16:40:50,651 DEBUG Logging Provider: org.jboss.logging.Log4jLoggerProvider
2016-08-12 16:40:50,667 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@5cbe877d
2016-08-12 16:40:50,668 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@5cbe877d
2016-08-12 16:40:50,668 DEBUG Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@5cbe877d
2016-08-12 16:40:50,669 DEBUG Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@4218500f
2016-08-12 16:40:50,670 DEBUG Adding type registration true_false -> org.hibernate.type.TrueFalseType@61ce23ac
2016-08-12 16:40:50,671 DEBUG Adding type registration yes_no -> org.hibernate.type.YesNoType@6f2cfcc2
2016-08-12 16:40:50,673 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@7c1e2a2d
2016-08-12 16:40:50,673 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@7c1e2a2d
2016-08-12 16:40:50,673 DEBUG Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@7c1e2a2d
2016-08-12 16:40:50,674 DEBUG Adding type registration character -> org.hibernate.type.CharacterType@710b18a6
2016-08-12 16:40:50,674 DEBUG Adding type registration char -> org.hibernate.type.CharacterType@710b18a6
2016-08-12 16:40:50,674 DEBUG Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@710b18a6
2016-08-12 16:40:50,677 DEBUG Adding type registration short -> org.hibernate.type.ShortType@55562aa9
2016-08-12 16:40:50,678 DEBUG Adding type registration short -> org.hibernate.type.ShortType@55562aa9
2016-08-12 16:40:50,678 DEBUG Adding type registration java.lang.Short -> org.hibernate.type.ShortType@55562aa9
2016-08-12 16:40:50,680 DEBUG Adding type registration integer -> org.hibernate.type.IntegerType@4233e892
2016-08-12 16:40:50,681 DEBUG Adding type registration int -> org.hibernate.type.IntegerType@4233e892
2016-08-12 16:40:50,681 DEBUG Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@4233e892
2016-08-12 16:40:50,682 DEBUG Adding type registration long -> org.hibernate.type.LongType@1a9c38eb
2016-08-12 16:40:50,683 DEBUG Adding type registration long -> org.hibernate.type.LongType@1a9c38eb
2016-08-12 16:40:50,683 DEBUG Adding type registration java.lang.Long -> org.hibernate.type.LongType@1a9c38eb
2016-08-12 16:40:50,684 DEBUG Adding type registration float -> org.hibernate.type.FloatType@3569fc08
2016-08-12 16:40:50,685 DEBUG Adding type registration float -> org.hibernate.type.FloatType@3569fc08
2016-08-12 16:40:50,685 DEBUG Adding type registration java.lang.Float -> org.hibernate.type.FloatType@3569fc08
2016-08-12 16:40:50,686 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@522a32b1
2016-08-12 16:40:50,687 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@522a32b1
2016-08-12 16:40:50,687 DEBUG Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@522a32b1
2016-08-12 16:40:50,689 DEBUG Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@37ddb69a
2016-08-12 16:40:50,690 DEBUG Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@37ddb69a
2016-08-12 16:40:50,692 DEBUG Adding type registration big_integer -> org.hibernate.type.BigIntegerType@6955cb39
2016-08-12 16:40:50,693 DEBUG Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@6955cb39
2016-08-12 16:40:50,694 DEBUG Adding type registration string -> org.hibernate.type.StringType@6b7906b3
2016-08-12 16:40:50,694 DEBUG Adding type registration java.lang.String -> org.hibernate.type.StringType@6b7906b3
2016-08-12 16:40:50,695 DEBUG Adding type registration nstring -> org.hibernate.type.StringNVarcharType@52d239ba
2016-08-12 16:40:50,696 DEBUG Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@640f11a1
2016-08-12 16:40:50,696 DEBUG Adding type registration url -> org.hibernate.type.UrlType@3f6db3fb
2016-08-12 16:40:50,697 DEBUG Adding type registration java.net.URL -> org.hibernate.type.UrlType@3f6db3fb
2016-08-12 16:40:50,701 DEBUG Adding type registration date -> org.hibernate.type.DateType@1755e85b
2016-08-12 16:40:50,701 DEBUG Adding type registration java.sql.Date -> org.hibernate.type.DateType@1755e85b
2016-08-12 16:40:50,703 DEBUG Adding type registration time -> org.hibernate.type.TimeType@1af687fe
2016-08-12 16:40:50,703 DEBUG Adding type registration java.sql.Time -> org.hibernate.type.TimeType@1af687fe
2016-08-12 16:40:50,704 DEBUG Adding type registration timestamp -> org.hibernate.type.TimestampType@1506f20f
2016-08-12 16:40:50,704 DEBUG Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@1506f20f
2016-08-12 16:40:50,705 DEBUG Adding type registration java.util.Date -> org.hibernate.type.TimestampType@1506f20f
2016-08-12 16:40:50,707 DEBUG Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@1a45193b
2016-08-12 16:40:50,708 DEBUG Adding type registration calendar -> org.hibernate.type.CalendarType@85e6769
2016-08-12 16:40:50,709 DEBUG Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@85e6769
2016-08-12 16:40:50,710 DEBUG Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@85e6769
2016-08-12 16:40:50,711 DEBUG Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@bf1ec20
2016-08-12 16:40:50,713 DEBUG Adding type registration locale -> org.hibernate.type.LocaleType@4e70a728
2016-08-12 16:40:50,713 DEBUG Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@4e70a728
2016-08-12 16:40:50,714 DEBUG Adding type registration currency -> org.hibernate.type.CurrencyType@47a86fbb
2016-08-12 16:40:50,715 DEBUG Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@47a86fbb
2016-08-12 16:40:50,716 DEBUG Adding type registration timezone -> org.hibernate.type.TimeZoneType@7ce97ee5
2016-08-12 16:40:50,717 DEBUG Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@7ce97ee5
2016-08-12 16:40:50,718 DEBUG Adding type registration class -> org.hibernate.type.ClassType@4795ded0
2016-08-12 16:40:50,718 DEBUG Adding type registration java.lang.Class -> org.hibernate.type.ClassType@4795ded0
2016-08-12 16:40:50,721 DEBUG Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@4bd1f8dd
2016-08-12 16:40:50,721 DEBUG Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@4bd1f8dd
2016-08-12 16:40:50,722 DEBUG Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@3c989952
2016-08-12 16:40:50,723 DEBUG Adding type registration pg-uuid -> org.hibernate.type.PostgresUUIDType@793138bd
2016-08-12 16:40:50,725 DEBUG Adding type registration binary -> org.hibernate.type.BinaryType@4ba302e0
2016-08-12 16:40:50,725 DEBUG Adding type registration byte[] -> org.hibernate.type.BinaryType@4ba302e0
2016-08-12 16:40:50,725 DEBUG Adding type registration [B -> org.hibernate.type.BinaryType@4ba302e0
2016-08-12 16:40:50,727 DEBUG Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@18cebaa5
2016-08-12 16:40:50,727 DEBUG Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@18cebaa5
2016-08-12 16:40:50,727 DEBUG Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@18cebaa5
2016-08-12 16:40:50,728 DEBUG Adding type registration image -> org.hibernate.type.ImageType@13f17eb4
2016-08-12 16:40:50,729 DEBUG Adding type registration characters -> org.hibernate.type.CharArrayType@2a7686a7
2016-08-12 16:40:50,730 DEBUG Adding type registration char[] -> org.hibernate.type.CharArrayType@2a7686a7
2016-08-12 16:40:50,730 DEBUG Adding type registration [C -> org.hibernate.type.CharArrayType@2a7686a7
2016-08-12 16:40:50,732 DEBUG Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@5644dc81
2016-08-12 16:40:50,732 DEBUG Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@5644dc81
2016-08-12 16:40:50,732 DEBUG Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@5644dc81
2016-08-12 16:40:50,733 DEBUG Adding type registration text -> org.hibernate.type.TextType@6bea52d4
2016-08-12 16:40:50,734 DEBUG Adding type registration ntext -> org.hibernate.type.NTextType@aeab9a1
2016-08-12 16:40:50,740 DEBUG Adding type registration blob -> org.hibernate.type.BlobType@3eeb318f
2016-08-12 16:40:50,741 DEBUG Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@3eeb318f
2016-08-12 16:40:50,741 DEBUG Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@6da00fb9
2016-08-12 16:40:50,747 DEBUG Adding type registration clob -> org.hibernate.type.ClobType@6f0b0a5e
2016-08-12 16:40:50,747 DEBUG Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@6f0b0a5e
2016-08-12 16:40:50,752 DEBUG Adding type registration nclob -> org.hibernate.type.NClobType@1cbf6e72
2016-08-12 16:40:50,752 DEBUG Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@1cbf6e72
2016-08-12 16:40:50,754 DEBUG Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@4da602fc
2016-08-12 16:40:50,755 DEBUG Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@72758afa
2016-08-12 16:40:50,756 DEBUG Adding type registration serializable -> org.hibernate.type.SerializableType@60a2630a
2016-08-12 16:40:50,760 DEBUG Adding type registration object -> org.hibernate.type.ObjectType@2313052e
2016-08-12 16:40:50,761 DEBUG Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@2313052e
2016-08-12 16:40:50,761 DEBUG Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@57fd91c9
2016-08-12 16:40:50,761 DEBUG Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@6cfcd46d
2016-08-12 16:40:50,762 DEBUG Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@52045dbe
2016-08-12 16:40:50,762 DEBUG Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@674658f7
2016-08-12 16:40:50,762 DEBUG Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@5c8eee0f
2016-08-12 16:40:50,762 DEBUG Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@565b064f
2016-08-12 16:40:50,763 DEBUG Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@26425897
2016-08-12 16:40:50,763 DEBUG Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@73163d48
2016-08-12 16:40:50,788  INFO HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-08-12 16:40:50,797  INFO HHH000412: Hibernate Core {4.3.8.Final}
2016-08-12 16:40:50,801  INFO HHH000206: hibernate.properties not found
2016-08-12 16:40:50,803  INFO HHH000021: Bytecode provider name : javassist
2016-08-12 16:40:50,819 DEBUG Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2016-08-12 16:40:50,820 DEBUG Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2016-08-12 16:40:50,821 DEBUG Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2016-08-12 16:40:50,821 DEBUG Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2016-08-12 16:40:50,829 DEBUG Registering IdentifierGenerator strategy [hilo] -> [org.hibernate.id.TableHiLoGenerator]
2016-08-12 16:40:50,830 DEBUG Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2016-08-12 16:40:50,832 DEBUG Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2016-08-12 16:40:50,833 DEBUG Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2016-08-12 16:40:50,833 DEBUG Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.SequenceGenerator]
2016-08-12 16:40:50,834 DEBUG Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2016-08-12 16:40:50,835 DEBUG Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2016-08-12 16:40:50,835 DEBUG Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2016-08-12 16:40:50,836 DEBUG Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2016-08-12 16:40:50,837 DEBUG Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2016-08-12 16:40:50,838 DEBUG Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2016-08-12 16:40:50,857 DEBUG Adding type registration java.util.Date -> org.hibernate.type.CustomType@6cbcf243
2016-08-12 16:40:50,858  INFO HHH000270: Type registration [java.util.Date] overrides previous : org.hibernate.type.TimestampType@1506f20f
2016-08-12 16:40:50,860 DEBUG Adding type registration org.joda.time.DateTime -> org.hibernate.type.CustomType@29e6eb25
2016-08-12 16:40:50,860 DEBUG Adding type registration com.peterphi.std.types.Timecode -> org.hibernate.type.CustomType@62435e70
2016-08-12 16:40:50,861 DEBUG Adding type registration com.peterphi.std.types.SampleCount -> org.hibernate.type.CustomType@339bf286
2016-08-12 16:40:50,862 DEBUG Adding type registration org.joda.time.LocalDate -> org.hibernate.type.CustomType@38be305c
2016-08-12 16:40:50,869 DEBUG Execute called: UPDATE
2016-08-12 16:40:50,882 DEBUG Create JDBC Connection directly: jdbc:hsqldb:mem:testdb
2016-08-12 16:40:52,876 DEBUG Execute liquibase action: UPDATE
INFO 8/12/16 4:40 PM: liquibase: Successfully acquired change log lock
INFO 8/12/16 4:40 PM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 8/12/16 4:40 PM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: Sequence hibernate_sequence created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com ran successfully in 17ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Table user_account created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Unique constraint added to user_account(email)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: ChangeSet ./000-Original.xml::create_user_account::peter@peterphi.com ran successfully in 10ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table role_definition created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table user_has_role created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (user_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (role_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Primary key added to user_has_role (user_id, role_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: ChangeSet ./000-Original.xml::add_role_definition_table::peter@peterphi.com ran successfully in 13ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_service created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session_context created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session created
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_tables::peter@peterphi.com ran successfully in 6ms
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_service (owner_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (service_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (user_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session (context_id)
INFO 8/12/16 4:40 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_constraints::peter@peterphi.com ran successfully in 12ms
INFO 8/12/16 4:40 PM: liquibase: Successfully released change log lock
2016-08-12 16:40:55,181 DEBUG Register for shutdown: com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@213bd3d5
2016-08-12 16:40:55,206 DEBUG Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2016-08-12 16:40:55,209 DEBUG Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2016-08-12 16:40:55,210 DEBUG Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2016-08-12 16:40:55,226 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5] -> [org.hibernate.dialect.MySQL5Dialect] (replacing [org.hibernate.dialect.MySQL5Dialect])
2016-08-12 16:40:55,226 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5InnoDB] -> [org.hibernate.dialect.MySQL5InnoDBDialect] (replacing [org.hibernate.dialect.MySQL5InnoDBDialect])
2016-08-12 16:40:55,275 DEBUG Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2016-08-12 16:40:55,275 DEBUG Preparing to build session factory with filters : {}
2016-08-12 16:40:55,284  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
2016-08-12 16:40:55,286  INFO HHH000401: using driver [org.hsqldb.jdbcDriver] at URL [jdbc:hsqldb:mem:testdb]
2016-08-12 16:40:55,286  INFO HHH000046: Connection properties: {user=sa, password=, readOnly=false}
2016-08-12 16:40:55,286  INFO HHH000006: Autocommit mode: false
2016-08-12 16:40:55,287  INFO HHH000115: Hibernate connection pool size: 20 (min=1)
2016-08-12 16:40:55,288 DEBUG Initializing Connection pool with 1 Connections
2016-08-12 16:40:55,295 DEBUG Database ->
       name : HSQL Database Engine
    version : 2.3.2
      major : 2
      minor : 3
2016-08-12 16:40:55,295 DEBUG Driver ->
       name : HSQL Database Engine Driver
    version : 2.3.2
      major : 2
      minor : 3
2016-08-12 16:40:55,295 DEBUG JDBC version : 4.0
2016-08-12 16:40:55,297 DEBUG Unexpected error trying to gauge level of JDBC REF_CURSOR support : null
2016-08-12 16:40:55,314  INFO HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2016-08-12 16:40:55,379 DEBUG Processing hbm.xml files
2016-08-12 16:40:55,395 DEBUG Process annotated classes
2016-08-12 16:40:55,399 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-12 16:40:55,441 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-12 16:40:55,443 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-12 16:40:55,449 DEBUG Import with entity name oauth_session
2016-08-12 16:40:55,468 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionEntity on table oauth_session
2016-08-12 16:40:55,531 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,536 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-12 16:40:55,542 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:id]
2016-08-12 16:40:55,557 DEBUG building SimpleValue for id
2016-08-12 16:40:55,570 DEBUG Building property id
2016-08-12 16:40:55,574 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,577 DEBUG MetadataSourceProcessor property alive with lazy=false
2016-08-12 16:40:55,577 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:alive]
2016-08-12 16:40:55,577 DEBUG building SimpleValue for alive
2016-08-12 16:40:55,577 DEBUG Building property alive
2016-08-12 16:40:55,577 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=authorisation_code, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,589 DEBUG MetadataSourceProcessor property authorisationCode with lazy=false
2016-08-12 16:40:55,590 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:authorisationCode]
2016-08-12 16:40:55,590 DEBUG building SimpleValue for authorisationCode
2016-08-12 16:40:55,590 DEBUG Building property authorisationCode
2016-08-12 16:40:55,591 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='context_id', referencedColumn='', mappedBy=''}
2016-08-12 16:40:55,593 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=context, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,597 DEBUG Building property context
2016-08-12 16:40:55,598 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,598 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-12 16:40:55,598 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:created]
2016-08-12 16:40:55,598 DEBUG building SimpleValue for created
2016-08-12 16:40:55,599 DEBUG Building property created
2016-08-12 16:40:55,599 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=expires_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,599 DEBUG MetadataSourceProcessor property expires with lazy=false
2016-08-12 16:40:55,599 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:expires]
2016-08-12 16:40:55,599 DEBUG building SimpleValue for expires
2016-08-12 16:40:55,600 DEBUG Building property expires
2016-08-12 16:40:55,600 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=initiator_detail, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,600 DEBUG MetadataSourceProcessor property initiator with lazy=false
2016-08-12 16:40:55,600 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:initiator]
2016-08-12 16:40:55,600 DEBUG building SimpleValue for initiator
2016-08-12 16:40:55,601 DEBUG Building property initiator
2016-08-12 16:40:55,601 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=current_token, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,601 DEBUG MetadataSourceProcessor property token with lazy=false
2016-08-12 16:40:55,601 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:token]
2016-08-12 16:40:55,601 DEBUG building SimpleValue for token
2016-08-12 16:40:55,602 DEBUG Building property token
2016-08-12 16:40:55,602 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,602 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-08-12 16:40:55,602 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:updated]
2016-08-12 16:40:55,602 DEBUG building SimpleValue for updated
2016-08-12 16:40:55,603 DEBUG Building property updated
2016-08-12 16:40:55,605 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.RoleEntity
2016-08-12 16:40:55,605 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-12 16:40:55,605 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-12 16:40:55,605 DEBUG Import with entity name role_definition
2016-08-12 16:40:55,606 DEBUG Bind entity com.peterphi.usermanager.db.entity.RoleEntity on table role_definition
2016-08-12 16:40:55,612 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,625 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-12 16:40:55,625 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:id]
2016-08-12 16:40:55,625 DEBUG building SimpleValue for id
2016-08-12 16:40:55,625 DEBUG Building property id
2016-08-12 16:40:55,625 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=caption, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,626 DEBUG MetadataSourceProcessor property caption with lazy=false
2016-08-12 16:40:55,626 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:caption]
2016-08-12 16:40:55,626 DEBUG building SimpleValue for caption
2016-08-12 16:40:55,627 DEBUG Building property caption
2016-08-12 16:40:55,628 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,638 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,639 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=members_KEY, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,641 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='members_KEY', referencedColumn='null', mappedBy='null'}
2016-08-12 16:40:55,642 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='role_id', referencedColumn='id', mappedBy=''}
2016-08-12 16:40:55,642 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='id', mappedBy=''}
2016-08-12 16:40:55,643 DEBUG Collection role: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-12 16:40:55,646 DEBUG Building property members
2016-08-12 16:40:55,647 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-12 16:40:55,648 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-12 16:40:55,648 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-12 16:40:55,648 DEBUG Import with entity name oauth_service
2016-08-12 16:40:55,648 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthServiceEntity on table oauth_service
2016-08-12 16:40:55,652 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,652 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-12 16:40:55,653 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:id]
2016-08-12 16:40:55,653 DEBUG building SimpleValue for id
2016-08-12 16:40:55,653 DEBUG Building property id
2016-08-12 16:40:55,653 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_secret, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,653 DEBUG MetadataSourceProcessor property clientSecret with lazy=false
2016-08-12 16:40:55,654 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:clientSecret]
2016-08-12 16:40:55,654 DEBUG building SimpleValue for clientSecret
2016-08-12 16:40:55,654 DEBUG Building property clientSecret
2016-08-12 16:40:55,654 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,655 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-12 16:40:55,655 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:created]
2016-08-12 16:40:55,656 DEBUG building SimpleValue for created
2016-08-12 16:40:55,656 DEBUG Building property created
2016-08-12 16:40:55,656 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=is_enabled, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,656 DEBUG MetadataSourceProcessor property enabled with lazy=false
2016-08-12 16:40:55,657 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:enabled]
2016-08-12 16:40:55,669 DEBUG building SimpleValue for enabled
2016-08-12 16:40:55,669 DEBUG Building property enabled
2016-08-12 16:40:55,669 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_endpoints, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,669 DEBUG MetadataSourceProcessor property endpoints with lazy=false
2016-08-12 16:40:55,670 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:endpoints]
2016-08-12 16:40:55,670 DEBUG building SimpleValue for endpoints
2016-08-12 16:40:55,670 DEBUG Building property endpoints
2016-08-12 16:40:55,670 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_name, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,670 DEBUG MetadataSourceProcessor property name with lazy=false
2016-08-12 16:40:55,671 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:name]
2016-08-12 16:40:55,671 DEBUG building SimpleValue for name
2016-08-12 16:40:55,671 DEBUG Building property name
2016-08-12 16:40:55,672 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='owner_id', referencedColumn='', mappedBy=''}
2016-08-12 16:40:55,672 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=owner, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,672 DEBUG Building property owner
2016-08-12 16:40:55,673 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,673 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-08-12 16:40:55,673 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:updated]
2016-08-12 16:40:55,673 DEBUG building SimpleValue for updated
2016-08-12 16:40:55,674 DEBUG Building property updated
2016-08-12 16:40:55,674 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:55,674 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-12 16:40:55,674 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-12 16:40:55,675 DEBUG Import with entity name user_account
2016-08-12 16:40:55,675 DEBUG Bind entity com.peterphi.usermanager.db.entity.UserEntity on table user_account
2016-08-12 16:40:55,683 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,687 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-12 16:40:55,687 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:id]
2016-08-12 16:40:55,692 DEBUG building SimpleValue for id
2016-08-12 16:40:55,694 DEBUG Building property id
2016-08-12 16:40:55,695 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,695 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-12 16:40:55,695 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:created]
2016-08-12 16:40:55,695 DEBUG building SimpleValue for created
2016-08-12 16:40:55,695 DEBUG Building property created
2016-08-12 16:40:55,695 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_format, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,695 DEBUG MetadataSourceProcessor property dateFormat with lazy=false
2016-08-12 16:40:55,695 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:dateFormat]
2016-08-12 16:40:55,695 DEBUG building SimpleValue for dateFormat
2016-08-12 16:40:55,696 DEBUG Building property dateFormat
2016-08-12 16:40:55,696 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=email, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,696 DEBUG MetadataSourceProcessor property email with lazy=false
2016-08-12 16:40:55,696 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:email]
2016-08-12 16:40:55,696 DEBUG building SimpleValue for email
2016-08-12 16:40:55,696 DEBUG Building property email
2016-08-12 16:40:55,698 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=last_login_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,698 DEBUG MetadataSourceProcessor property lastLogin with lazy=false
2016-08-12 16:40:55,698 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:lastLogin]
2016-08-12 16:40:55,698 DEBUG building SimpleValue for lastLogin
2016-08-12 16:40:55,698 DEBUG Building property lastLogin
2016-08-12 16:40:55,698 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=name, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,698 DEBUG MetadataSourceProcessor property name with lazy=false
2016-08-12 16:40:55,698 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:name]
2016-08-12 16:40:55,698 DEBUG building SimpleValue for name
2016-08-12 16:40:55,699 DEBUG Building property name
2016-08-12 16:40:55,699 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=password, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,699 DEBUG MetadataSourceProcessor property password with lazy=false
2016-08-12 16:40:55,699 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:password]
2016-08-12 16:40:55,699 DEBUG building SimpleValue for password
2016-08-12 16:40:55,699 DEBUG Building property password
2016-08-12 16:40:55,699 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,711 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,711 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=roles_KEY, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,712 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='roles_KEY', referencedColumn='null', mappedBy='null'}
2016-08-12 16:40:55,712 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-08-12 16:40:55,712 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-08-12 16:40:55,712 DEBUG Collection role: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-12 16:40:55,712 DEBUG Building property roles
2016-08-12 16:40:55,712 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=local_session_id, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,712 DEBUG MetadataSourceProcessor property sessionReconnectKey with lazy=false
2016-08-12 16:40:55,712 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:sessionReconnectKey]
2016-08-12 16:40:55,712 DEBUG building SimpleValue for sessionReconnectKey
2016-08-12 16:40:55,712 DEBUG Building property sessionReconnectKey
2016-08-12 16:40:55,713 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_timezone, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,713 DEBUG MetadataSourceProcessor property timeZone with lazy=false
2016-08-12 16:40:55,713 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:timeZone]
2016-08-12 16:40:55,713 DEBUG building SimpleValue for timeZone
2016-08-12 16:40:55,713 DEBUG Building property timeZone
2016-08-12 16:40:55,713 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-12 16:40:55,713 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-12 16:40:55,713 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-12 16:40:55,713 DEBUG Import with entity name oauth_session_context
2016-08-12 16:40:55,713 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity on table oauth_session_context
2016-08-12 16:40:55,714 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,715 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-12 16:40:55,715 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:id]
2016-08-12 16:40:55,715 DEBUG building SimpleValue for id
2016-08-12 16:40:55,715 DEBUG Building property id
2016-08-12 16:40:55,715 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,729 DEBUG MetadataSourceProcessor property active with lazy=false
2016-08-12 16:40:55,739 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:active]
2016-08-12 16:40:55,739 DEBUG building SimpleValue for active
2016-08-12 16:40:55,739 DEBUG Building property active
2016-08-12 16:40:55,740 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,740 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-12 16:40:55,740 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:created]
2016-08-12 16:40:55,740 DEBUG building SimpleValue for created
2016-08-12 16:40:55,740 DEBUG Building property created
2016-08-12 16:40:55,740 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=approved_scope, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,740 DEBUG MetadataSourceProcessor property scope with lazy=false
2016-08-12 16:40:55,741 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:scope]
2016-08-12 16:40:55,741 DEBUG building SimpleValue for scope
2016-08-12 16:40:55,741 DEBUG Building property scope
2016-08-12 16:40:55,741 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='service_id', referencedColumn='', mappedBy=''}
2016-08-12 16:40:55,741 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=service, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,741 DEBUG Building property service
2016-08-12 16:40:55,741 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,741 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-08-12 16:40:55,742 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:updated]
2016-08-12 16:40:55,742 DEBUG building SimpleValue for updated
2016-08-12 16:40:55,742 DEBUG Building property updated
2016-08-12 16:40:55,742 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='', mappedBy=''}
2016-08-12 16:40:55,742 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=user, insertable=true, updatable=true, unique=false}
2016-08-12 16:40:55,744 DEBUG Building property user
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for id
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for alive
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for authorisationCode
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for created
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for expires
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for initiator
2016-08-12 16:40:55,745 DEBUG Starting fillSimpleValue for token
2016-08-12 16:40:55,759 DEBUG Starting fillSimpleValue for updated
2016-08-12 16:40:55,759 DEBUG Starting fillSimpleValue for id
2016-08-12 16:40:55,759 DEBUG Starting fillSimpleValue for caption
2016-08-12 16:40:55,759 DEBUG Starting fillSimpleValue for id
2016-08-12 16:40:55,759 DEBUG Starting fillSimpleValue for clientSecret
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for created
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for enabled
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for endpoints
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for name
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for updated
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for id
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for created
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for dateFormat
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for email
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for lastLogin
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for name
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for password
2016-08-12 16:40:55,760 DEBUG Starting fillSimpleValue for sessionReconnectKey
2016-08-12 16:40:55,761 DEBUG Starting fillSimpleValue for timeZone
2016-08-12 16:40:55,761 DEBUG Starting fillSimpleValue for id
2016-08-12 16:40:55,761 DEBUG Starting fillSimpleValue for active
2016-08-12 16:40:55,761 DEBUG Starting fillSimpleValue for created
2016-08-12 16:40:55,761 DEBUG Starting fillSimpleValue for scope
2016-08-12 16:40:55,761 DEBUG Starting fillSimpleValue for updated
2016-08-12 16:40:55,762 DEBUG Processing fk mappings (*ToOne and JoinedSubclass)
2016-08-12 16:40:55,772 DEBUG Processing extends queue
2016-08-12 16:40:55,772 DEBUG Processing extends queue
2016-08-12 16:40:55,772 DEBUG Processing collection mappings
2016-08-12 16:40:55,772 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-12 16:40:55,772 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-12 16:40:55,777 DEBUG Mapped collection key: role_id, element: user_id
2016-08-12 16:40:55,777 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-12 16:40:55,778 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-12 16:40:55,778 DEBUG Retrieving property com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-12 16:40:55,779 DEBUG Mapped collection key: user_id, element: role_id
2016-08-12 16:40:55,779 DEBUG Processing native query and ResultSetMapping mappings
2016-08-12 16:40:55,779 DEBUG Processing association property references
2016-08-12 16:40:55,779 DEBUG Creating tables' unique integer identifiers
2016-08-12 16:40:55,779 DEBUG Processing foreign key constraints
2016-08-12 16:40:55,779 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:55,779 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-12 16:40:55,779 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-12 16:40:55,779 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:55,779 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:55,780 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.RoleEntity
2016-08-12 16:40:55,797 DEBUG No JtaPlatform was specified, checking resolver
2016-08-12 16:40:55,797 DEBUG No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]
2016-08-12 16:40:55,813 DEBUG Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2016-08-12 16:40:55,816 DEBUG Automatic flush during beforeCompletion(): disabled
2016-08-12 16:40:55,819 DEBUG Automatic session close at end of transaction: disabled
2016-08-12 16:40:55,820 DEBUG JDBC batch size: 15
2016-08-12 16:40:55,820 DEBUG JDBC batch updates for versioned data: disabled
2016-08-12 16:40:55,820 DEBUG Scrollable result sets: enabled
2016-08-12 16:40:55,820 DEBUG Wrap result sets: disabled
2016-08-12 16:40:55,820 DEBUG JDBC3 getGeneratedKeys(): enabled
2016-08-12 16:40:55,820 DEBUG multi-tenancy strategy : NONE
2016-08-12 16:40:55,821 DEBUG Connection release mode: auto
2016-08-12 16:40:55,821  INFO HHH000399: Using default transaction strategy (direct JDBC transactions)
2016-08-12 16:40:55,823 DEBUG Using BatchFetchStyle : LEGACY
2016-08-12 16:40:55,835 DEBUG Default batch fetch size: 1
2016-08-12 16:40:55,836 DEBUG Generate SQL with comments: disabled
2016-08-12 16:40:55,847 DEBUG Order SQL updates by primary key: disabled
2016-08-12 16:40:55,847 DEBUG Order SQL inserts for batching: disabled
2016-08-12 16:40:55,848 DEBUG Default null ordering: none
2016-08-12 16:40:55,848 DEBUG Query translator: org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory
2016-08-12 16:40:55,850  INFO HHH000397: Using ASTQueryTranslatorFactory
2016-08-12 16:40:55,850 DEBUG Query language substitutions: {}
2016-08-12 16:40:55,851 DEBUG JPA-QL strict compliance: disabled
2016-08-12 16:40:55,851 DEBUG Second-level cache: enabled
2016-08-12 16:40:55,851 DEBUG Query cache: disabled
2016-08-12 16:40:55,852 DEBUG Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2016-08-12 16:40:55,854 DEBUG Optimize cache for minimal puts: disabled
2016-08-12 16:40:55,854 DEBUG Structured second-level cache entries: disabled
2016-08-12 16:40:55,855 DEBUG Second-level cache direct-reference entries: disabled
2016-08-12 16:40:55,855 DEBUG Automatic eviction of collection cache: disabled
2016-08-12 16:40:55,855 DEBUG Statistics: disabled
2016-08-12 16:40:55,855 DEBUG Deleted entity synthetic identifier rollback: disabled
2016-08-12 16:40:55,855 DEBUG Default entity-mode: pojo
2016-08-12 16:40:55,855 DEBUG Named query checking : enabled
2016-08-12 16:40:55,856 DEBUG Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2016-08-12 16:40:55,856 DEBUG Allow initialization of lazy state outside session : : disabled
2016-08-12 16:40:55,856 DEBUG JTA Track by Thread: enabled
2016-08-12 16:40:55,864 DEBUG Building session factory
2016-08-12 16:40:55,899 DEBUG Session factory constructed with filter configurations : {}
2016-08-12 16:40:55,899 DEBUG Instantiating session factory with properties: {file.encoding.pkg=sun.io, rvm_version=1.26.8 (1.26.8), hibernate.connection.username=sa, nvm_dir=/home/travis/.nvm, java.home=/usr/lib/jvm/java-8-oracle/jre, rvm_bin_path=/home/travis/.rvm/bin, composer_no_interaction=1, nvm_bin=/home/travis/.nvm/v0.10.36/bin, lc_ctype=en_US.UTF-8, framework.webauth.provider=user-manager, java.endorsed.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/endorsed, travis_job_number=525.1, pwd=/home/travis/build/petergeneric/stdlib/user-manager/service, lc_all=en_US.UTF-8, sun.os.patch.level=unknown, hibernate.connection.readOnly=false, java.vendor.url=http://java.oracle.com/, authentication.allowAnonymousRegistration=true, java.version=1.8.0_31, goroot=/home/travis/.gimme/versions/go1.4.1.linux.amd64, log4j.appender.logconsole.layout=org.apache.log4j.PatternLayout, travis_event_type=push, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, guice.bootstrap.class=com.peterphi.usermanager.guice.UserManagerSetup, unit-test=true, user.name=travis, hibernate.allow-hbm2ddl-create=true, rvm_path=/home/travis/.rvm, sun.io.unicode.encoding=UnicodeLittle, nlspath=/usr/dt/lib/nls/msg/%L/%N.cat, sun.jnu.encoding=UTF-8, java.runtime.name=Java(TM) SE Runtime Environment, ui.simpleexceptions.enabled=true, travis_tag=, debian_frontend=noninteractive, nvm_iojs_org_mirror=https://iojs.org/dist, term=xterm, xfilesearchpath=/usr/dt/app-defaults/%L/Dt, surefire.test.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, ssh_connection=172.17.42.1 35054 172.17.5.168 22, java_home=/usr/lib/jvm/java-8-oracle, java.specification.name=Java Platform API Specification, path=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, user.timezone=Etc/UTC, ssh_client=172.17.42.1 35054 22, merb_env=test, path.separator=:, _system_type=Linux, file.encoding=UTF-8, gem_path=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global, travis_branch=master, rvm_prefix=/home/travis, sun.java.command=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter4643842701533876084.jar /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire7100387809101043023tmp /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire_97865747676408301608tmp, nvm_iojs_org_version_listing=https://iojs.org/dist/index.tab, coverity_scan_branch=0, shlvl=3, git_askpass=echo, hibernate.connection.url=jdbc:hsqldb:mem:testdb, java.io.tmpdir=/tmp, rails_env=test, user.language=en, line.separator=
, user=travis, _system_version=12.04, travis_os_name=linux, java.vm.info=mixed mode, jruby_opts=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false, java.vm.specification.name=Java Virtual Machine Specification, localRepository=/home/travis/.m2/repository, casher_dir=/home/travis/.casher, travis_commit_range=95dd3932ab7f...26f261a15c17, _system_name=Ubuntu, nvm_nodejs_org_mirror=https://nodejs.org/dist, has_antares_three_little_fronzies_badge=true, ruby_version=ruby-1.9.3-p551, project_name=petergeneric/stdlib, log4j.rootCategory=WARN\, logconsole, maven_cmd_line_args=test -B, travis_pull_request=false, rack_env=test, java.awt.printerjob=sun.print.PSPrinterJob, mail=/var/mail/travis, logname=travis, ui.hero.enabled=true, log4j.appender.logconsole=org.apache.log4j.ConsoleAppender, liquibase.changelog=/liquibase/changelog.xml, hibernate.properties=embedded, travis_secure_env_vars=true, log4j.properties=embedded, ssh_tty=/dev/pts/1, os.name=Linux, java.specification.vendor=Oracle Corporation, my_ruby_home=/home/travis/.rvm/rubies/ruby-1.9.3-p551, ps4=+, maven_opts=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib, travis_job_id=151855411, continuous_integration=true, basedir=/home/travis/build/petergeneric/stdlib/user-manager/service, rvm_autoupdate_flag=0, java.class.version=52.0, log4j.appender.logconsole.layout.ConversionPattern=%d{ISO8601} %5p %m%n, travis_build_number=525, m2_home=/usr/local/maven, travis_repo_slug=petergeneric/stdlib, sun.boot.library.path=/usr/lib/jvm/java-8-oracle/jre/lib/amd64, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, scan.packages=com.peterphi.usermanager, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, travis_jdk_version=oraclejdk8, shell=/bin/bash, java.vm.specification.version=1.8, ci=true, irbrc=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc, hibernate.bytecode.use_reflection_optimizer=false, awt.toolkit=sun.awt.X11.XToolkit, hibernate.connection.password=, sun.cpu.isalist=, _system_arch=x86_64, hibernate.show_sql=false, java.ext.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/ext:/usr/java/packages/lib/ext, manpath=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man, os.version=3.13.0-40-generic, user.home=/home/travis, _=/usr/local/maven-3.2.5/bin/mvn, java.vm.vendor=Oracle Corporation, user.dir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.dialect=org.hibernate.dialect.HSQLDialect, sun.cpu.endian=little, java.vm.version=25.31-b07, travis_build_dir=/home/travis/build/petergeneric/stdlib, java.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, lang=en_US.UTF-8, os.arch=amd64, travis_language=java, rvm_silence_path_mismatch_check_flag=1, sun.java.launcher=SUN_STANDARD, travis_build_id=151855410, java.vm.specification.vendor=Oracle Corporation, travis=true, file.separator=/, hibernate.current_session_context_class=thread, java.runtime.version=1.8.0_31-b13, liquibase.action=UPDATE, sun.boot.class.path=/usr/lib/jvm/java-8-oracle/jre/lib/resources.jar:/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar:/usr/lib/jvm/java-8-oracle/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jsse.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jce.jar:/usr/lib/jvm/java-8-oracle/jre/lib/charsets.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jfr.jar:/usr/lib/jvm/java-8-oracle/jre/classes, oldpwd=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, coverity_scan_token=[secure], surefire.real.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter4643842701533876084.jar, home=/home/travis, user.country=US, travis_commit=26f261a15c1768a7bf56b0001363d2a0776375f1, nvm_path=/home/travis/.nvm/v0.10.36/lib/node, java.vendor=Oracle Corporation, gem_home=/home/travis/.rvm/gems/ruby-1.9.3-p551, has_josh_k_seal_of_approval=true, java.specification.version=1.8, sun.arch.data.model=64}
2016-08-12 16:40:55,970 DEBUG Unable to acquire Bean Validation ValidatorFactory, skipping activation
2016-08-12 16:40:55,991 DEBUG Skipping JACC integration as it was not enabled
2016-08-12 16:40:55,992 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-12 16:40:56,003 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-12 16:40:56,003 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-12 16:40:56,004 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-12 16:40:56,004 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-12 16:40:56,398 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-12 16:40:56,398 DEBUG  Row insert: insert into user_has_role (user_id, role_id) values (?, ?)
2016-08-12 16:40:56,398 DEBUG  Row update: update user_has_role set role_id=? where user_id=? and role_id=?
2016-08-12 16:40:56,398 DEBUG  Row delete: delete from user_has_role where user_id=? and role_id=?
2016-08-12 16:40:56,399 DEBUG  One-shot delete: delete from user_has_role where user_id=?
2016-08-12 16:40:56,399 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-12 16:40:56,399 DEBUG  Row insert: insert into user_has_role (role_id, user_id) values (?, ?)
2016-08-12 16:40:56,399 DEBUG  Row update: update user_has_role set user_id=? where role_id=? and user_id=?
2016-08-12 16:40:56,399 DEBUG  Row delete: delete from user_has_role where role_id=? and user_id=?
2016-08-12 16:40:56,400 DEBUG  One-shot delete: delete from user_has_role where role_id=?
2016-08-12 16:40:56,496 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:56,496 DEBUG  Version select: select id from user_account where id =?
2016-08-12 16:40:56,496 DEBUG  Snapshot select: select userentity_.id, userentity_.created_ts as created_2_4_, userentity_.date_format as date_for3_4_, userentity_.email as email4_4_, userentity_.last_login_ts as last_log5_4_, userentity_.name as name6_4_, userentity_.password as password7_4_, userentity_.local_session_id as local_se8_4_, userentity_.date_timezone as date_tim9_4_ from user_account userentity_ where userentity_.id=?
2016-08-12 16:40:56,502 DEBUG  Insert 0: insert into user_account (created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-08-12 16:40:56,508 DEBUG  Update 0: update user_account set created_ts=?, date_format=?, email=?, last_login_ts=?, name=?, password=?, local_session_id=?, date_timezone=? where id=?
2016-08-12 16:40:56,509 DEBUG  Delete 0: delete from user_account where id=?
2016-08-12 16:40:56,509 DEBUG  Identity insert: insert into user_account (id, created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone) values (default, ?, ?, ?, ?, ?, ?, ?, ?)
2016-08-12 16:40:56,575 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3902bd2c]
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,576 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,582 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,583 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,583 DEBUG Building LoadPlan...
2016-08-12 16:40:56,634 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,640 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,643 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [NONE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-12 16:40:56,644 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@57c00115]
2016-08-12 16:40:56,644 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,645 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,645 DEBUG Building LoadPlan...
2016-08-12 16:40:56,649 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,655 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,655 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-12 16:40:56,655 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4fe533ff]
2016-08-12 16:40:56,655 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,655 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,655 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,656 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,656 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,656 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,656 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,656 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,656 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,656 DEBUG Building LoadPlan...
2016-08-12 16:40:56,656 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,657 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,670 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,670 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4e83a98]
2016-08-12 16:40:56,670 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,670 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,671 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,671 DEBUG Building LoadPlan...
2016-08-12 16:40:56,671 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,672 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,672 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_NOWAIT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,672 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@71b639d0]
2016-08-12 16:40:56,672 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,672 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,672 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,672 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,683 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,683 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,683 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,683 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,683 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,683 DEBUG Building LoadPlan...
2016-08-12 16:40:56,684 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,684 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,684 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_SKIPLOCKED]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,684 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d5b9ecb]
2016-08-12 16:40:56,684 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,684 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,684 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,685 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,685 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,685 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,685 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,685 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,685 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,685 DEBUG Building LoadPlan...
2016-08-12 16:40:56,685 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,686 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,686 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [FORCE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,686 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5e5aafc6]
2016-08-12 16:40:56,686 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,686 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,686 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,686 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,686 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,687 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,687 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,687 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,688 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,688 DEBUG Building LoadPlan...
2016-08-12 16:40:56,688 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,688 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,688 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,688 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5583098b]
2016-08-12 16:40:56,688 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,688 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,689 DEBUG Building LoadPlan...
2016-08-12 16:40:56,689 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,689 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,689 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_WRITE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,689 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53a84ff4]
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,689 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,689 DEBUG Building LoadPlan...
2016-08-12 16:40:56,689 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,690 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,690 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-12 16:40:56,690 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@316acbb5]
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,690 DEBUG Building LoadPlan...
2016-08-12 16:40:56,690 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,690 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,690 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-12 16:40:56,690 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47311277]
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : email
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : password
2016-08-12 16:40:56,690 DEBUG Visiting attribute path : roles
2016-08-12 16:40:56,691 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:56,691 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:56,691 DEBUG Building LoadPlan...
2016-08-12 16:40:56,691 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,691 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-12 16:40:56,692 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-12 16:40:56,747 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-12 16:40:56,748 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-12 16:40:56,748 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-12 16:40:56,748 DEBUG  Version select: select updated_ts from oauth_session_context where id =?
2016-08-12 16:40:56,748 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_2_, oauthsessi_.created_ts as created_3_2_, oauthsessi_.approved_scope as approved4_2_, oauthsessi_.service_id as service_6_2_, oauthsessi_.updated_ts as updated_5_2_, oauthsessi_.user_id as user_id7_2_ from oauth_session_context oauthsessi_ where oauthsessi_.id=?
2016-08-12 16:40:56,748 DEBUG  Insert 0: insert into oauth_session_context (is_active, created_ts, approved_scope, service_id, updated_ts, user_id, id) values (?, ?, ?, ?, ?, ?, ?)
2016-08-12 16:40:56,748 DEBUG  Update 0: update oauth_session_context set is_active=?, created_ts=?, approved_scope=?, service_id=?, updated_ts=?, user_id=? where id=? and updated_ts=?
2016-08-12 16:40:56,748 DEBUG  Delete 0: delete from oauth_session_context where id=? and updated_ts=?
2016-08-12 16:40:56,748 DEBUG  Identity insert: insert into oauth_session_context (id, is_active, created_ts, approved_scope, service_id, updated_ts, user_id) values (default, ?, ?, ?, ?, ?, ?)
2016-08-12 16:40:56,748 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3468ee6e]
2016-08-12 16:40:56,748 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,748 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,749 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,749 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,750 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4232b34a]
2016-08-12 16:40:56,752 DEBUG Visiting attribute path : service.clientSecret
2016-08-12 16:40:56,763 DEBUG Visiting attribute path : service.created
2016-08-12 16:40:56,763 DEBUG Visiting attribute path : service.enabled
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.endpoints
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.name
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner
2016-08-12 16:40:56,764 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@109f8c7e]
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.created
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.dateFormat
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.email
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.lastLogin
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.name
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.password
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.roles
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.owner.timeZone
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : service.updated
2016-08-12 16:40:56,764 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,765 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,765 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@16a5eb6d]
2016-08-12 16:40:56,765 DEBUG Visiting attribute path : user.created
2016-08-12 16:40:56,765 DEBUG Visiting attribute path : user.dateFormat
2016-08-12 16:40:56,765 DEBUG Visiting attribute path : user.email
2016-08-12 16:40:56,765 DEBUG Visiting attribute path : user.lastLogin
2016-08-12 16:40:56,766 DEBUG Visiting attribute path : user.name
2016-08-12 16:40:56,766 DEBUG Visiting attribute path : user.password
2016-08-12 16:40:56,766 DEBUG Visiting attribute path : user.roles
2016-08-12 16:40:56,766 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-08-12 16:40:56,766 DEBUG Visiting attribute path : user.timeZone
2016-08-12 16:40:56,766 DEBUG Building LoadPlan...
2016-08-12 16:40:56,766 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,768 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-08-12 16:40:56,773 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [NONE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-08-12 16:40:56,774 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@234cff57]
2016-08-12 16:40:56,774 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,774 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,774 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,774 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,774 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4bcaa195]
2016-08-12 16:40:56,774 DEBUG Visiting attribute path : service.clientSecret
2016-08-12 16:40:56,774 DEBUG Visiting attribute path : service.created
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.enabled
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.endpoints
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.name
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner
2016-08-12 16:40:56,775 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49fa1d74]
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner.created
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner.dateFormat
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner.email
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner.lastLogin
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner.name
2016-08-12 16:40:56,775 DEBUG Visiting attribute path : service.owner.password
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : service.owner.roles
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : service.owner.timeZone
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : service.updated
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,776 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@21eee94f]
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : user.created
2016-08-12 16:40:56,776 DEBUG Visiting attribute path : user.dateFormat
2016-08-12 16:40:56,777 DEBUG Visiting attribute path : user.email
2016-08-12 16:40:56,777 DEBUG Visiting attribute path : user.lastLogin
2016-08-12 16:40:56,777 DEBUG Visiting attribute path : user.name
2016-08-12 16:40:56,777 DEBUG Visiting attribute path : user.password
2016-08-12 16:40:56,777 DEBUG Visiting attribute path : user.roles
2016-08-12 16:40:56,782 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-08-12 16:40:56,782 DEBUG Visiting attribute path : user.timeZone
2016-08-12 16:40:56,783 DEBUG Building LoadPlan...
2016-08-12 16:40:56,783 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,784 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-08-12 16:40:56,785 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-08-12 16:40:56,795 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@724aefc3]
2016-08-12 16:40:56,796 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,796 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,796 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,796 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,796 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2a097d77]
2016-08-12 16:40:56,796 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,797 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,797 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53c1179a]
2016-08-12 16:40:56,797 DEBUG Building LoadPlan...
2016-08-12 16:40:56,797 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,798 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,798 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,798 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7650ded6]
2016-08-12 16:40:56,798 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,798 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,798 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,798 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,799 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@31b7d869]
2016-08-12 16:40:56,799 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,799 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,799 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a916402]
2016-08-12 16:40:56,810 DEBUG Building LoadPlan...
2016-08-12 16:40:56,810 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,810 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,811 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,813 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a47a1e8]
2016-08-12 16:40:56,813 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,813 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,813 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,814 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,814 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@62d1dc3c]
2016-08-12 16:40:56,814 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,814 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,814 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3811510]
2016-08-12 16:40:56,815 DEBUG Building LoadPlan...
2016-08-12 16:40:56,815 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,815 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,816 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,816 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18539cb1]
2016-08-12 16:40:56,816 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,816 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,816 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,816 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,816 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f2d31af]
2016-08-12 16:40:56,817 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,817 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,817 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e7157c7]
2016-08-12 16:40:56,817 DEBUG Building LoadPlan...
2016-08-12 16:40:56,817 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,818 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,818 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [FORCE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,818 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2a43e0ac]
2016-08-12 16:40:56,818 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,818 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,818 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,819 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,819 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@346f41a9]
2016-08-12 16:40:56,819 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,819 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,819 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1084f78c]
2016-08-12 16:40:56,819 DEBUG Building LoadPlan...
2016-08-12 16:40:56,820 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,820 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,820 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,820 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@25f723b0]
2016-08-12 16:40:56,820 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,821 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,821 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,821 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,821 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40d60f2]
2016-08-12 16:40:56,821 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,821 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,821 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3382cf68]
2016-08-12 16:40:56,822 DEBUG Building LoadPlan...
2016-08-12 16:40:56,822 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,822 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,822 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,822 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2f74900b]
2016-08-12 16:40:56,823 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,823 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,824 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,824 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,824 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e26173]
2016-08-12 16:40:56,824 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,824 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,824 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27be17c8]
2016-08-12 16:40:56,824 DEBUG Building LoadPlan...
2016-08-12 16:40:56,825 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,825 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,825 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,825 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c413ffc]
2016-08-12 16:40:56,825 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,826 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,826 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,826 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,826 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6cd98a05]
2016-08-12 16:40:56,826 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,826 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,826 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3b8ec001]
2016-08-12 16:40:56,827 DEBUG Building LoadPlan...
2016-08-12 16:40:56,827 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,827 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,827 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,827 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e95b653]
2016-08-12 16:40:56,828 DEBUG Visiting attribute path : active
2016-08-12 16:40:56,828 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,828 DEBUG Visiting attribute path : scope
2016-08-12 16:40:56,828 DEBUG Visiting attribute path : service
2016-08-12 16:40:56,828 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4fc5563d]
2016-08-12 16:40:56,828 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,828 DEBUG Visiting attribute path : user
2016-08-12 16:40:56,839 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@286090c]
2016-08-12 16:40:56,840 DEBUG Building LoadPlan...
2016-08-12 16:40:56,840 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,840 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-12 16:40:56,840 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,841 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,841 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,841 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-12 16:40:56,842 DEBUG  Version select: select updated_ts from oauth_service where id =?
2016-08-12 16:40:56,842 DEBUG  Snapshot select: select oauthservi_.id, oauthservi_.client_secret as client_s2_0_, oauthservi_.created_ts as created_3_0_, oauthservi_.is_enabled as is_enabl4_0_, oauthservi_.client_endpoints as client_e5_0_, oauthservi_.client_name as client_n6_0_, oauthservi_.owner_id as owner_id8_0_, oauthservi_.updated_ts as updated_7_0_ from oauth_service oauthservi_ where oauthservi_.id=?
2016-08-12 16:40:56,851 DEBUG  Insert 0: insert into oauth_service (client_secret, created_ts, is_enabled, client_endpoints, client_name, owner_id, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2016-08-12 16:40:56,851 DEBUG  Update 0: update oauth_service set client_secret=?, created_ts=?, is_enabled=?, client_endpoints=?, client_name=?, owner_id=?, updated_ts=? where id=? and updated_ts=?
2016-08-12 16:40:56,852 DEBUG  Delete 0: delete from oauth_service where id=? and updated_ts=?
2016-08-12 16:40:56,852 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@31120021]
2016-08-12 16:40:56,852 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,852 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,852 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,852 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,853 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58606c91]
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : owner.created
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : owner.dateFormat
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : owner.email
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : owner.lastLogin
2016-08-12 16:40:56,853 DEBUG Visiting attribute path : owner.name
2016-08-12 16:40:56,854 DEBUG Visiting attribute path : owner.password
2016-08-12 16:40:56,854 DEBUG Visiting attribute path : owner.roles
2016-08-12 16:40:56,854 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-08-12 16:40:56,854 DEBUG Visiting attribute path : owner.timeZone
2016-08-12 16:40:56,854 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,854 DEBUG Building LoadPlan...
2016-08-12 16:40:56,855 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,856 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-08-12 16:40:56,856 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [NONE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-08-12 16:40:56,856 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4baed682]
2016-08-12 16:40:56,856 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,857 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@203d1d93]
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : owner.created
2016-08-12 16:40:56,857 DEBUG Visiting attribute path : owner.dateFormat
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.email
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.lastLogin
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.name
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.password
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.roles
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : owner.timeZone
2016-08-12 16:40:56,858 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,863 DEBUG Building LoadPlan...
2016-08-12 16:40:56,863 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,864 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-08-12 16:40:56,864 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-08-12 16:40:56,864 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@118dcbbd]
2016-08-12 16:40:56,865 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,865 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,865 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,865 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,865 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,865 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,865 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@350ec690]
2016-08-12 16:40:56,866 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,866 DEBUG Building LoadPlan...
2016-08-12 16:40:56,866 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,866 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,866 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,867 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49cb1baf]
2016-08-12 16:40:56,867 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,867 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,873 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,873 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,873 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,873 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,874 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@77dba4cd]
2016-08-12 16:40:56,874 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,874 DEBUG Building LoadPlan...
2016-08-12 16:40:56,875 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,875 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,876 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_NOWAIT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,876 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34a2d6e0]
2016-08-12 16:40:56,876 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,876 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,876 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,876 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,877 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,877 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,877 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3458eca5]
2016-08-12 16:40:56,885 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,886 DEBUG Building LoadPlan...
2016-08-12 16:40:56,886 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,886 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,887 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_SKIPLOCKED]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,887 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e0fdb2f]
2016-08-12 16:40:56,887 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,887 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,890 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,890 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,890 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,890 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,890 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34b87182]
2016-08-12 16:40:56,891 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,891 DEBUG Building LoadPlan...
2016-08-12 16:40:56,891 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,891 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,892 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [FORCE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,892 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47768e74]
2016-08-12 16:40:56,892 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,892 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,892 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,892 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,892 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,892 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,892 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b5a4aed]
2016-08-12 16:40:56,893 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,893 DEBUG Building LoadPlan...
2016-08-12 16:40:56,893 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,893 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,894 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,894 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c991465]
2016-08-12 16:40:56,894 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,894 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,894 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,894 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,894 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,894 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,895 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f973a14]
2016-08-12 16:40:56,895 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,895 DEBUG Building LoadPlan...
2016-08-12 16:40:56,895 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,895 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,896 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_WRITE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,896 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76130a29]
2016-08-12 16:40:56,896 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,896 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,896 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,896 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,896 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,897 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,897 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3451f01d]
2016-08-12 16:40:56,897 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,897 DEBUG Building LoadPlan...
2016-08-12 16:40:56,897 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,897 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,898 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-12 16:40:56,898 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@72503b19]
2016-08-12 16:40:56,898 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,901 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,901 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,902 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,902 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,902 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,902 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@66deec87]
2016-08-12 16:40:56,902 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,902 DEBUG Building LoadPlan...
2016-08-12 16:40:56,902 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,903 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,903 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-12 16:40:56,903 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d342959]
2016-08-12 16:40:56,903 DEBUG Visiting attribute path : clientSecret
2016-08-12 16:40:56,903 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,904 DEBUG Visiting attribute path : enabled
2016-08-12 16:40:56,904 DEBUG Visiting attribute path : endpoints
2016-08-12 16:40:56,904 DEBUG Visiting attribute path : name
2016-08-12 16:40:56,904 DEBUG Visiting attribute path : owner
2016-08-12 16:40:56,904 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53e76c11]
2016-08-12 16:40:56,904 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,904 DEBUG Building LoadPlan...
2016-08-12 16:40:56,904 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,905 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-12 16:40:56,905 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-12 16:40:56,905 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-12 16:40:56,905 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-12 16:40:56,906 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.RoleEntity
2016-08-12 16:40:56,906 DEBUG  Version select: select id from role_definition where id =?
2016-08-12 16:40:56,906 DEBUG  Snapshot select: select roleentity_.id, roleentity_.caption as caption2_3_ from role_definition roleentity_ where roleentity_.id=?
2016-08-12 16:40:56,906 DEBUG  Insert 0: insert into role_definition (caption, id) values (?, ?)
2016-08-12 16:40:56,906 DEBUG  Update 0: update role_definition set caption=? where id=?
2016-08-12 16:40:56,906 DEBUG  Delete 0: delete from role_definition where id=?
2016-08-12 16:40:56,906 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@42cc183e]
2016-08-12 16:40:56,906 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,907 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,907 DEBUG Building LoadPlan...
2016-08-12 16:40:56,919 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,931 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,932 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [NONE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-12 16:40:56,932 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a1d6ef2]
2016-08-12 16:40:56,932 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,932 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,932 DEBUG Building LoadPlan...
2016-08-12 16:40:56,933 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,933 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,933 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-12 16:40:56,933 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@205df5dc]
2016-08-12 16:40:56,934 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,934 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,934 DEBUG Building LoadPlan...
2016-08-12 16:40:56,934 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,936 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,936 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,936 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bcc3f27]
2016-08-12 16:40:56,936 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,936 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,936 DEBUG Building LoadPlan...
2016-08-12 16:40:56,937 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,938 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,938 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_NOWAIT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,938 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@36920bd6]
2016-08-12 16:40:56,938 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,938 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,938 DEBUG Building LoadPlan...
2016-08-12 16:40:56,939 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,939 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,939 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_SKIPLOCKED]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,939 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bee793f]
2016-08-12 16:40:56,939 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,939 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,940 DEBUG Building LoadPlan...
2016-08-12 16:40:56,940 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,940 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,940 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [FORCE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,941 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43b5021c]
2016-08-12 16:40:56,941 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,942 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,942 DEBUG Building LoadPlan...
2016-08-12 16:40:56,942 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,943 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,944 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,944 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@30893e08]
2016-08-12 16:40:56,944 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,944 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,944 DEBUG Building LoadPlan...
2016-08-12 16:40:56,945 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,945 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,945 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_WRITE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,946 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4548d254]
2016-08-12 16:40:56,946 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,946 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,946 DEBUG Building LoadPlan...
2016-08-12 16:40:56,946 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,947 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,947 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-12 16:40:56,947 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@208f0007]
2016-08-12 16:40:56,948 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,948 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,948 DEBUG Building LoadPlan...
2016-08-12 16:40:56,948 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,951 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,951 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-12 16:40:56,951 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@39c96e48]
2016-08-12 16:40:56,951 DEBUG Visiting attribute path : caption
2016-08-12 16:40:56,951 DEBUG Visiting attribute path : members
2016-08-12 16:40:56,952 DEBUG Building LoadPlan...
2016-08-12 16:40:56,952 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,952 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-12 16:40:56,952 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-12 16:40:56,957 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-08-12 16:40:56,957 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-08-12 16:40:56,958 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-12 16:40:56,958 DEBUG  Version select: select updated_ts from oauth_session where id =?
2016-08-12 16:40:56,958 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_1_, oauthsessi_.authorisation_code as authoris3_1_, oauthsessi_.context_id as context_9_1_, oauthsessi_.created_ts as created_4_1_, oauthsessi_.expires_ts as expires_5_1_, oauthsessi_.initiator_detail as initiato6_1_, oauthsessi_.current_token as current_7_1_, oauthsessi_.updated_ts as updated_8_1_ from oauth_session oauthsessi_ where oauthsessi_.id=?
2016-08-12 16:40:56,958 DEBUG  Insert 0: insert into oauth_session (is_active, authorisation_code, context_id, created_ts, expires_ts, initiator_detail, current_token, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-08-12 16:40:56,958 DEBUG  Update 0: update oauth_session set is_active=?, authorisation_code=?, context_id=?, created_ts=?, expires_ts=?, initiator_detail=?, current_token=?, updated_ts=? where id=? and updated_ts=?
2016-08-12 16:40:56,959 DEBUG  Delete 0: delete from oauth_session where id=? and updated_ts=?
2016-08-12 16:40:56,959 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3c6c4689]
2016-08-12 16:40:56,959 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,959 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,959 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,959 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@594d9f07]
2016-08-12 16:40:56,960 DEBUG Visiting attribute path : context.active
2016-08-12 16:40:56,960 DEBUG Visiting attribute path : context.created
2016-08-12 16:40:56,960 DEBUG Visiting attribute path : context.scope
2016-08-12 16:40:56,960 DEBUG Visiting attribute path : context.service
2016-08-12 16:40:56,960 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5e9f73b]
2016-08-12 16:40:56,960 DEBUG Visiting attribute path : context.service.clientSecret
2016-08-12 16:40:56,960 DEBUG Visiting attribute path : context.service.created
2016-08-12 16:40:56,961 DEBUG Visiting attribute path : context.service.enabled
2016-08-12 16:40:56,961 DEBUG Visiting attribute path : context.service.endpoints
2016-08-12 16:40:56,961 DEBUG Visiting attribute path : context.service.name
2016-08-12 16:40:56,961 DEBUG Visiting attribute path : context.service.owner
2016-08-12 16:40:56,961 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2fd64b11]
2016-08-12 16:40:56,961 DEBUG Visiting attribute path : context.service.owner.created
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.email
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.name
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.password
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.roles
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-08-12 16:40:56,962 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-08-12 16:40:56,963 DEBUG Visiting attribute path : context.service.updated
2016-08-12 16:40:56,963 DEBUG Visiting attribute path : context.updated
2016-08-12 16:40:56,963 DEBUG Visiting attribute path : context.user
2016-08-12 16:40:56,963 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43d3aba5]
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.created
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.dateFormat
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.email
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.lastLogin
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.name
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.password
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.roles
2016-08-12 16:40:56,964 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-08-12 16:40:56,965 DEBUG Visiting attribute path : context.user.timeZone
2016-08-12 16:40:56,965 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,965 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,965 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,965 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,965 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,965 DEBUG Building LoadPlan...
2016-08-12 16:40:56,966 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,968 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-08-12 16:40:56,968 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [NONE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-08-12 16:40:56,968 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76e9f00b]
2016-08-12 16:40:56,969 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,969 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,969 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,970 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f1b8544]
2016-08-12 16:40:56,970 DEBUG Visiting attribute path : context.active
2016-08-12 16:40:56,970 DEBUG Visiting attribute path : context.created
2016-08-12 16:40:56,970 DEBUG Visiting attribute path : context.scope
2016-08-12 16:40:56,970 DEBUG Visiting attribute path : context.service
2016-08-12 16:40:56,970 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@688a2c09]
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.clientSecret
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.created
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.enabled
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.endpoints
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.name
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner
2016-08-12 16:40:56,983 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@365cdacf]
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner.created
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner.email
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner.name
2016-08-12 16:40:56,983 DEBUG Visiting attribute path : context.service.owner.password
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.service.owner.roles
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.service.updated
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.updated
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user
2016-08-12 16:40:56,984 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@9efcd90]
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.created
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.dateFormat
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.email
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.lastLogin
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.name
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.password
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.roles
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : context.user.timeZone
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,984 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,984 DEBUG Building LoadPlan...
2016-08-12 16:40:56,984 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,985 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-08-12 16:40:56,985 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-08-12 16:40:56,985 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2ee83775]
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,985 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@b5de58f]
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,985 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,985 DEBUG Building LoadPlan...
2016-08-12 16:40:56,985 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,985 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,985 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,986 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6587305a]
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,986 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f81621c]
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,986 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,986 DEBUG Building LoadPlan...
2016-08-12 16:40:56,986 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,987 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,987 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,987 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b9499fe]
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,987 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@52a33c3f]
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,987 DEBUG Building LoadPlan...
2016-08-12 16:40:56,987 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,987 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,987 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,987 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@668625f5]
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,987 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@75babb67]
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,987 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,987 DEBUG Building LoadPlan...
2016-08-12 16:40:56,988 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,988 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,988 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [FORCE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,988 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3eb3232b]
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,988 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@60bb7995]
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,988 DEBUG Building LoadPlan...
2016-08-12 16:40:56,988 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,988 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,988 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,988 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40fa8766]
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,988 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@663f237a]
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,988 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,989 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,989 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,989 DEBUG Building LoadPlan...
2016-08-12 16:40:56,989 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,989 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,990 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,990 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d7399f9]
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,990 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@14fded9d]
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,990 DEBUG Building LoadPlan...
2016-08-12 16:40:56,990 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,990 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,990 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-12 16:40:56,990 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@bc6288b]
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,990 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34c70b5e]
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,990 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,990 DEBUG Building LoadPlan...
2016-08-12 16:40:56,990 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,991 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,991 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,991 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4f2d995e]
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : alive
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : authorisationCode
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : context
2016-08-12 16:40:56,991 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6198e9b5]
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : created
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : expires
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : initiator
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : token
2016-08-12 16:40:56,991 DEBUG Visiting attribute path : updated
2016-08-12 16:40:56,991 DEBUG Building LoadPlan...
2016-08-12 16:40:56,991 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:56,991 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-12 16:40:56,991 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,991 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:56,991 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-12 16:40:57,023 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@3e8b3b79]
2016-08-12 16:40:57,023 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d257579]
2016-08-12 16:40:57,025 DEBUG Visiting attribute path : caption
2016-08-12 16:40:57,025 DEBUG Visiting attribute path : members
2016-08-12 16:40:57,025 DEBUG Property path deemed to be circular : members
2016-08-12 16:40:57,035 DEBUG Building LoadPlan...
2016-08-12 16:40:57,038 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:57,038 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.UserEntity.roles, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
          - SQL table alias mapping - roles0_
          - alias suffix - 0_
          - suffixed key columns - {user_id2_4_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_3_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
                - SQL table alias mapping - roleentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_3_1_}

2016-08-12 16:40:57,038 DEBUG Static select for collection com.peterphi.usermanager.db.entity.UserEntity.roles: select roles0_.user_id as user_id2_4_0_, roles0_.role_id as role_id1_5_0_, roleentity1_.id as id1_3_1_, roleentity1_.caption as caption2_3_1_ from user_has_role roles0_ inner join role_definition roleentity1_ on roles0_.role_id=roleentity1_.id where roles0_.user_id=?
2016-08-12 16:40:57,039 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@7102ac3e]
2016-08-12 16:40:57,039 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f598450]
2016-08-12 16:40:57,039 DEBUG Visiting attribute path : created
2016-08-12 16:40:57,039 DEBUG Visiting attribute path : dateFormat
2016-08-12 16:40:57,039 DEBUG Visiting attribute path : email
2016-08-12 16:40:57,039 DEBUG Visiting attribute path : lastLogin
2016-08-12 16:40:57,040 DEBUG Visiting attribute path : name
2016-08-12 16:40:57,040 DEBUG Visiting attribute path : password
2016-08-12 16:40:57,040 DEBUG Visiting attribute path : roles
2016-08-12 16:40:57,040 DEBUG Property path deemed to be circular : roles
2016-08-12 16:40:57,040 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-12 16:40:57,040 DEBUG Visiting attribute path : timeZone
2016-08-12 16:40:57,040 DEBUG Building LoadPlan...
2016-08-12 16:40:57,040 DEBUG processing queryspace <gen:0>
2016-08-12 16:40:57,041 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.RoleEntity.members, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
          - SQL table alias mapping - members0_
          - alias suffix - 0_
          - suffixed key columns - {role_id1_3_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_4_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-08-12 16:40:57,041 DEBUG Static select for collection com.peterphi.usermanager.db.entity.RoleEntity.members: select members0_.role_id as role_id1_3_0_, members0_.user_id as user_id2_5_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from user_has_role members0_ inner join user_account userentity1_ on members0_.user_id=userentity1_.id where members0_.role_id=? order by userentity1_.id desc
2016-08-12 16:40:57,044 DEBUG Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@56dd6efa
2016-08-12 16:40:57,069 DEBUG Registering SessionFactory: f928be1f-3cae-4f81-8a28-6bc39805397f (<unnamed>)
2016-08-12 16:40:57,069 DEBUG Not binding SessionFactory to JNDI, no JNDI name configured
2016-08-12 16:40:57,069 DEBUG Instantiated session factory
2016-08-12 16:40:57,072 DEBUG Checking 0 named HQL queries
2016-08-12 16:40:57,072 DEBUG Checking 0 named SQL queries
2016-08-12 16:40:57,078 DEBUG Statistics initialized [enabled=false]
2016-08-12 16:40:57,093 DEBUG Known entities: [com.peterphi.usermanager.db.entity.UserEntity, com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, com.peterphi.usermanager.db.entity.OAuthServiceEntity, com.peterphi.usermanager.db.entity.RoleEntity, com.peterphi.usermanager.db.entity.OAuthSessionEntity]
2016-08-12 16:40:57,093 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:57,099 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-08-12 16:40:57,122 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-08-12 16:40:57,123 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-08-12 16:40:57,123 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-12 16:40:57,123 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-12 16:40:57,123 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-12 16:40:57,123 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-12 16:40:57,123 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-12 16:40:57,124 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-12 16:40:57,972 DEBUG begin
2016-08-12 16:40:57,972 DEBUG Obtaining JDBC connection
2016-08-12 16:40:57,972 DEBUG Obtained JDBC connection
2016-08-12 16:40:57,973 DEBUG initial autocommit status: false
2016-08-12 16:40:58,105 DEBUG select this_.id as id1_4_0_, this_.created_ts as created_2_4_0_, this_.date_format as date_for3_4_0_, this_.email as email4_4_0_, this_.last_login_ts as last_log5_4_0_, this_.name as name6_4_0_, this_.password as password7_4_0_, this_.local_session_id as local_se8_4_0_, this_.date_timezone as date_tim9_4_0_ from user_account this_
2016-08-12 16:40:58,113 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-12 16:40:58,113 DEBUG rolling back
2016-08-12 16:40:58,114 DEBUG rolled JDBC Connection
2016-08-12 16:40:58,115 DEBUG Releasing JDBC connection
2016-08-12 16:40:58,115 DEBUG Released JDBC connection
2016-08-12 16:40:58,132 DEBUG begin
2016-08-12 16:40:58,132 DEBUG Obtaining JDBC connection
2016-08-12 16:40:58,132 DEBUG Obtained JDBC connection
2016-08-12 16:40:58,132 DEBUG initial autocommit status: false
2016-08-12 16:40:58,133 DEBUG select this_.id as id1_3_0_, this_.caption as caption2_3_0_ from role_definition this_
2016-08-12 16:40:58,133 DEBUG Result set row: 0
2016-08-12 16:40:58,135 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-08-12 16:40:58,140 DEBUG Result set row: 1
2016-08-12 16:40:58,140 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-08-12 16:40:58,140 DEBUG Result set row: 2
2016-08-12 16:40:58,140 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-08-12 16:40:58,140 DEBUG Result set row: 3
2016-08-12 16:40:58,140 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-08-12 16:40:58,140 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-08-12 16:40:58,147 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-08-12 16:40:58,155 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-08-12 16:40:58,155 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-08-12 16:40:58,155 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-08-12 16:40:58,156 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-08-12 16:40:58,156 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-08-12 16:40:58,156 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-08-12 16:40:58,157 DEBUG Transformed: 4 rows to: 4 distinct results
2016-08-12 16:40:58,157 DEBUG rolling back
2016-08-12 16:40:58,157 DEBUG rolled JDBC Connection
2016-08-12 16:40:58,157 DEBUG Releasing JDBC connection
2016-08-12 16:40:58,157 DEBUG Released JDBC connection
2016-08-12 16:40:58,158 DEBUG begin
2016-08-12 16:40:58,158 DEBUG Obtaining JDBC connection
2016-08-12 16:40:58,158 DEBUG Obtained JDBC connection
2016-08-12 16:40:58,158 DEBUG initial autocommit status: false
2016-08-12 16:40:58,159 DEBUG select this_.id as id1_0_1_, this_.client_secret as client_s2_0_1_, this_.created_ts as created_3_0_1_, this_.is_enabled as is_enabl4_0_1_, this_.client_endpoints as client_e5_0_1_, this_.client_name as client_n6_0_1_, this_.owner_id as owner_id8_0_1_, this_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from oauth_service this_ inner join user_account userentity2_ on this_.owner_id=userentity2_.id
2016-08-12 16:40:58,183 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-12 16:40:58,183 DEBUG rolling back
2016-08-12 16:40:58,183 DEBUG rolled JDBC Connection
2016-08-12 16:40:58,183 DEBUG Releasing JDBC connection
2016-08-12 16:40:58,183 DEBUG Released JDBC connection
2016-08-12 16:40:58,184 DEBUG begin
2016-08-12 16:40:58,184 DEBUG Obtaining JDBC connection
2016-08-12 16:40:58,184 DEBUG Obtained JDBC connection
2016-08-12 16:40:58,184 DEBUG initial autocommit status: false
2016-08-12 16:40:58,186 DEBUG select this_.id as id1_1_4_, this_.is_active as is_activ2_1_4_, this_.authorisation_code as authoris3_1_4_, this_.context_id as context_9_1_4_, this_.created_ts as created_4_1_4_, this_.expires_ts as expires_5_1_4_, this_.initiator_detail as initiato6_1_4_, this_.current_token as current_7_1_4_, this_.updated_ts as updated_8_1_4_, oauthsessi2_.id as id1_2_0_, oauthsessi2_.is_active as is_activ2_2_0_, oauthsessi2_.created_ts as created_3_2_0_, oauthsessi2_.approved_scope as approved4_2_0_, oauthsessi2_.service_id as service_6_2_0_, oauthsessi2_.updated_ts as updated_5_2_0_, oauthsessi2_.user_id as user_id7_2_0_, oauthservi3_.id as id1_0_1_, oauthservi3_.client_secret as client_s2_0_1_, oauthservi3_.created_ts as created_3_0_1_, oauthservi3_.is_enabled as is_enabl4_0_1_, oauthservi3_.client_endpoints as client_e5_0_1_, oauthservi3_.client_name as client_n6_0_1_, oauthservi3_.owner_id as owner_id8_0_1_, oauthservi3_.updated_ts as updated_7_0_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_, userentity5_.id as id1_4_3_, userentity5_.created_ts as created_2_4_3_, userentity5_.date_format as date_for3_4_3_, userentity5_.email as email4_4_3_, userentity5_.last_login_ts as last_log5_4_3_, userentity5_.name as name6_4_3_, userentity5_.password as password7_4_3_, userentity5_.local_session_id as local_se8_4_3_, userentity5_.date_timezone as date_tim9_4_3_ from oauth_session this_ inner join oauth_session_context oauthsessi2_ on this_.context_id=oauthsessi2_.id left outer join oauth_service oauthservi3_ on oauthsessi2_.service_id=oauthservi3_.id left outer join user_account userentity4_ on oauthservi3_.owner_id=userentity4_.id left outer join user_account userentity5_ on oauthsessi2_.user_id=userentity5_.id
2016-08-12 16:40:58,206 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-12 16:40:58,206 DEBUG rolling back
2016-08-12 16:40:58,206 DEBUG rolled JDBC Connection
2016-08-12 16:40:58,207 DEBUG Releasing JDBC connection
2016-08-12 16:40:58,207 DEBUG Released JDBC connection
2016-08-12 16:40:58,207 DEBUG begin
2016-08-12 16:40:58,207 DEBUG Obtaining JDBC connection
2016-08-12 16:40:58,207 DEBUG Obtained JDBC connection
2016-08-12 16:40:58,207 DEBUG initial autocommit status: false
2016-08-12 16:40:58,208 DEBUG select this_.id as id1_2_3_, this_.is_active as is_activ2_2_3_, this_.created_ts as created_3_2_3_, this_.approved_scope as approved4_2_3_, this_.service_id as service_6_2_3_, this_.updated_ts as updated_5_2_3_, this_.user_id as user_id7_2_3_, oauthservi2_.id as id1_0_0_, oauthservi2_.client_secret as client_s2_0_0_, oauthservi2_.created_ts as created_3_0_0_, oauthservi2_.is_enabled as is_enabl4_0_0_, oauthservi2_.client_endpoints as client_e5_0_0_, oauthservi2_.client_name as client_n6_0_0_, oauthservi2_.owner_id as owner_id8_0_0_, oauthservi2_.updated_ts as updated_7_0_0_, userentity3_.id as id1_4_1_, userentity3_.created_ts as created_2_4_1_, userentity3_.date_format as date_for3_4_1_, userentity3_.email as email4_4_1_, userentity3_.last_login_ts as last_log5_4_1_, userentity3_.name as name6_4_1_, userentity3_.password as password7_4_1_, userentity3_.local_session_id as local_se8_4_1_, userentity3_.date_timezone as date_tim9_4_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_ from oauth_session_context this_ inner join oauth_service oauthservi2_ on this_.service_id=oauthservi2_.id left outer join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on this_.user_id=userentity4_.id
2016-08-12 16:40:58,209 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-12 16:40:58,209 DEBUG rolling back
2016-08-12 16:40:58,209 DEBUG rolled JDBC Connection
2016-08-12 16:40:58,209 DEBUG Releasing JDBC connection
2016-08-12 16:40:58,209 DEBUG Released JDBC connection
2016-08-12 16:40:58,209  INFO Shutting down 1 service(s)
2016-08-12 16:40:58,209 DEBUG Requesting shutdown of com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@213bd3d5
2016-08-12 16:40:58,209  INFO Shut down Hibernate SessionFactory...
2016-08-12 16:40:58,210 DEBUG begin
2016-08-12 16:40:58,210 DEBUG Obtaining JDBC connection
2016-08-12 16:40:58,210 DEBUG Obtained JDBC connection
2016-08-12 16:40:58,210 DEBUG initial autocommit status: false
2016-08-12 16:40:58,211 DEBUG committing
2016-08-12 16:40:58,218 DEBUG committed JDBC Connection
2016-08-12 16:40:58,219 DEBUG Releasing JDBC connection
2016-08-12 16:40:58,219 DEBUG Released JDBC connection
2016-08-12 16:40:58,219 DEBUG HHH000031: Closing
2016-08-12 16:40:58,219 DEBUG Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2016-08-12 16:40:58,219  INFO HHH000030: Cleaning up connection pool [jdbc:hsqldb:mem:testdb]
2016-08-12 16:40:58,220 DEBUG Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2016-08-12 16:40:58,220  INFO Shutdown complete
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.166 sec - in com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.468 s]
[INFO] stdlib ............................................. SUCCESS [  5.228 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.085 s]
[INFO] stdlib guice common ................................ SUCCESS [  4.040 s]
[INFO] user-manager ....................................... SUCCESS [  0.006 s]
[INFO] user manager rest api .............................. SUCCESS [  0.029 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  0.876 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.101 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.075 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  2.481 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [ 19.669 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  5.536 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  8.595 s]
[INFO] carbon client ...................................... SUCCESS [  1.094 s]
[INFO] configuration ...................................... SUCCESS [  0.009 s]
[INFO] Configuration Service .............................. SUCCESS [  1.693 s]
[INFO] user manager service ............................... SUCCESS [ 10.130 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:03 min
[INFO] Finished at: 2016-08-12T16:40:58+00:00
[INFO] Final Memory: 18M/491M
[INFO] ------------------------------------------------------------------------

travis_time:end:0e701dbf:start=1471019993084116796,finish=1471020059187989740,duration=66103872944[0K
[32;1mThe command "mvn test -B" exited with 0.[0m
travis_fold:start:before_cache[0Ktravis_time:start:00e71907[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory

travis_time:end:00e71907:start=1471020059192626307,finish=1471020059197586882,duration=4960575[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:09998644[0K
travis_time:end:09998644:start=1471020059201986207,finish=1471020059205332855,duration=3346648[0Ktravis_time:start:16a5c8c0[0K[32;1mchange detected (content changed, file is created, or file is deleted):
/home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.2-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.2-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/config-parent/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/configuration-9.1.2-SNAPSHOT.war
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/configuration/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.2-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.2-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/
[0m
[32;1m...
[0m
[32;1mchanges detected, packing new archive[0m
.
.
.
.
[32;1muploading archive[0m

travis_time:end:16a5c8c0:start=1471020059209206454,finish=1471020098421199179,duration=39211992725[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
