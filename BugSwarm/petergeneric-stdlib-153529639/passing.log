Using worker: worker-linux-docker-89269910.prod.travis-ci.org:travis-linux-4

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: 153530146
Job id: 153530147
travis-build version: 6c895ddbe
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:fix.CVE-2015-7547[0K$ export DEBIAN_FRONTEND=noninteractive
W: Size of file /var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise-backports_multiverse_source_Sources.gz is not what the server reported 5886 5888
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-amd64_Packages.gz is not what the server reported 33653 36677
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-i386_Packages.gz is not what the server reported 33699 36733
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  libc-bin libc-dev-bin libc6-dev
Suggested packages:
  glibc-doc
The following packages will be upgraded:
  libc-bin libc-dev-bin libc6 libc6-dev
4 upgraded, 0 newly installed, 0 to remove and 256 not upgraded.
Need to get 8,840 kB of archives.
After this operation, 14.3 kB disk space will be freed.
Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6-dev amd64 2.15-0ubuntu10.15 [2,943 kB]
Get:2 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-dev-bin amd64 2.15-0ubuntu10.15 [84.7 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-bin amd64 2.15-0ubuntu10.15 [1,177 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6 amd64 2.15-0ubuntu10.15 [4,636 kB]
Fetched 8,840 kB in 0s (36.3 MB/s)
Preconfiguring packages ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72019 files and directories currently installed.)
Preparing to replace libc6-dev 2.15-0ubuntu10.10 (using .../libc6-dev_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6-dev ...
Preparing to replace libc-dev-bin 2.15-0ubuntu10.10 (using .../libc-dev-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-dev-bin ...
Preparing to replace libc-bin 2.15-0ubuntu10.10 (using .../libc-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-bin ...
Processing triggers for man-db ...
Setting up libc-bin (2.15-0ubuntu10.15) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72018 files and directories currently installed.)
Preparing to replace libc6 2.15-0ubuntu10.10 (using .../libc6_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6 ...
Setting up libc6 (2.15-0ubuntu10.15) ...
Setting up libc-dev-bin (2.15-0ubuntu10.15) ...
Setting up libc6-dev (2.15-0ubuntu10.15) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
travis_fold:end:fix.CVE-2015-7547[0Kdepth=3 C = US, O = "Entrust, Inc.", OU = www.entrust.net/CPS is incorporated by reference, OU = "(c) 2006 Entrust, Inc.", CN = Entrust Root Certification Authority
verify error:num=19:self signed certificate in certificate chain
verify return:0
DONE
travis_fold:start:git.checkout[0Ktravis_time:start:0d124e38[0K$ git clone --depth=50 --branch=master https://github.com/petergeneric/stdlib.git petergeneric/stdlib
Cloning into 'petergeneric/stdlib'...
remote: Counting objects: 2256, done.[K
remote: Compressing objects:   0% (1/1350)   [Kremote: Compressing objects:   1% (14/1350)   [Kremote: Compressing objects:   2% (27/1350)   [Kremote: Compressing objects:   3% (41/1350)   [Kremote: Compressing objects:   4% (54/1350)   [Kremote: Compressing objects:   5% (68/1350)   [Kremote: Compressing objects:   6% (81/1350)   [Kremote: Compressing objects:   7% (95/1350)   [Kremote: Compressing objects:   8% (108/1350)   [Kremote: Compressing objects:   9% (122/1350)   [Kremote: Compressing objects:  10% (135/1350)   [Kremote: Compressing objects:  11% (149/1350)   [Kremote: Compressing objects:  12% (162/1350)   [Kremote: Compressing objects:  13% (176/1350)   [Kremote: Compressing objects:  14% (189/1350)   [Kremote: Compressing objects:  15% (203/1350)   [Kremote: Compressing objects:  16% (216/1350)   [Kremote: Compressing objects:  17% (230/1350)   [Kremote: Compressing objects:  18% (243/1350)   [Kremote: Compressing objects:  19% (257/1350)   [Kremote: Compressing objects:  20% (270/1350)   [Kremote: Compressing objects:  21% (284/1350)   [Kremote: Compressing objects:  22% (297/1350)   [Kremote: Compressing objects:  23% (311/1350)   [Kremote: Compressing objects:  24% (324/1350)   [Kremote: Compressing objects:  25% (338/1350)   [Kremote: Compressing objects:  26% (351/1350)   [Kremote: Compressing objects:  27% (365/1350)   [Kremote: Compressing objects:  28% (378/1350)   [Kremote: Compressing objects:  29% (392/1350)   [Kremote: Compressing objects:  30% (405/1350)   [Kremote: Compressing objects:  31% (419/1350)   [Kremote: Compressing objects:  32% (432/1350)   [Kremote: Compressing objects:  33% (446/1350)   [Kremote: Compressing objects:  34% (459/1350)   [Kremote: Compressing objects:  35% (473/1350)   [Kremote: Compressing objects:  36% (486/1350)   [Kremote: Compressing objects:  37% (500/1350)   [Kremote: Compressing objects:  38% (513/1350)   [Kremote: Compressing objects:  39% (527/1350)   [Kremote: Compressing objects:  40% (540/1350)   [Kremote: Compressing objects:  41% (554/1350)   [Kremote: Compressing objects:  42% (567/1350)   [Kremote: Compressing objects:  43% (581/1350)   [Kremote: Compressing objects:  44% (594/1350)   [Kremote: Compressing objects:  45% (608/1350)   [Kremote: Compressing objects:  46% (621/1350)   [Kremote: Compressing objects:  47% (635/1350)   [Kremote: Compressing objects:  48% (648/1350)   [Kremote: Compressing objects:  49% (662/1350)   [Kremote: Compressing objects:  50% (675/1350)   [Kremote: Compressing objects:  51% (689/1350)   [Kremote: Compressing objects:  52% (702/1350)   [Kremote: Compressing objects:  53% (716/1350)   [Kremote: Compressing objects:  54% (729/1350)   [Kremote: Compressing objects:  55% (743/1350)   [Kremote: Compressing objects:  56% (756/1350)   [Kremote: Compressing objects:  57% (770/1350)   [Kremote: Compressing objects:  58% (783/1350)   [Kremote: Compressing objects:  59% (797/1350)   [Kremote: Compressing objects:  60% (810/1350)   [Kremote: Compressing objects:  61% (824/1350)   [Kremote: Compressing objects:  62% (837/1350)   [Kremote: Compressing objects:  63% (851/1350)   [Kremote: Compressing objects:  64% (864/1350)   [Kremote: Compressing objects:  65% (878/1350)   [Kremote: Compressing objects:  66% (891/1350)   [Kremote: Compressing objects:  67% (905/1350)   [Kremote: Compressing objects:  68% (918/1350)   [Kremote: Compressing objects:  69% (932/1350)   [Kremote: Compressing objects:  70% (945/1350)   [Kremote: Compressing objects:  71% (959/1350)   [Kremote: Compressing objects:  72% (972/1350)   [Kremote: Compressing objects:  73% (986/1350)   [Kremote: Compressing objects:  74% (999/1350)   [Kremote: Compressing objects:  75% (1013/1350)   [Kremote: Compressing objects:  76% (1026/1350)   [Kremote: Compressing objects:  77% (1040/1350)   [Kremote: Compressing objects:  78% (1053/1350)   [Kremote: Compressing objects:  79% (1067/1350)   [Kremote: Compressing objects:  80% (1080/1350)   [Kremote: Compressing objects:  81% (1094/1350)   [Kremote: Compressing objects:  82% (1107/1350)   [Kremote: Compressing objects:  83% (1121/1350)   [Kremote: Compressing objects:  84% (1134/1350)   [Kremote: Compressing objects:  85% (1148/1350)   [Kremote: Compressing objects:  86% (1161/1350)   [Kremote: Compressing objects:  87% (1175/1350)   [Kremote: Compressing objects:  88% (1188/1350)   [Kremote: Compressing objects:  89% (1202/1350)   [Kremote: Compressing objects:  90% (1215/1350)   [Kremote: Compressing objects:  91% (1229/1350)   [Kremote: Compressing objects:  92% (1242/1350)   [Kremote: Compressing objects:  93% (1256/1350)   [Kremote: Compressing objects:  94% (1269/1350)   [Kremote: Compressing objects:  95% (1283/1350)   [Kremote: Compressing objects:  96% (1296/1350)   [Kremote: Compressing objects:  97% (1310/1350)   [Kremote: Compressing objects:  98% (1323/1350)   [Kremote: Compressing objects:  99% (1337/1350)   [Kremote: Compressing objects: 100% (1350/1350)   [Kremote: Compressing objects: 100% (1350/1350), done.[K
Receiving objects:   0% (1/2256)   Receiving objects:   1% (23/2256)   Receiving objects:   2% (46/2256)   Receiving objects:   3% (68/2256)   Receiving objects:   4% (91/2256)   Receiving objects:   5% (113/2256)   Receiving objects:   6% (136/2256)   Receiving objects:   7% (158/2256)   Receiving objects:   8% (181/2256)   Receiving objects:   9% (204/2256)   Receiving objects:  10% (226/2256)   Receiving objects:  11% (249/2256)   Receiving objects:  12% (271/2256)   Receiving objects:  13% (294/2256)   Receiving objects:  14% (316/2256)   Receiving objects:  15% (339/2256)   Receiving objects:  16% (361/2256)   Receiving objects:  17% (384/2256)   Receiving objects:  18% (407/2256)   Receiving objects:  19% (429/2256)   Receiving objects:  20% (452/2256)   Receiving objects:  21% (474/2256)   Receiving objects:  22% (497/2256)   Receiving objects:  23% (519/2256)   Receiving objects:  24% (542/2256)   Receiving objects:  25% (564/2256)   Receiving objects:  26% (587/2256)   Receiving objects:  27% (610/2256)   Receiving objects:  28% (632/2256)   Receiving objects:  29% (655/2256)   Receiving objects:  30% (677/2256)   Receiving objects:  31% (700/2256)   Receiving objects:  32% (722/2256)   Receiving objects:  33% (745/2256)   Receiving objects:  34% (768/2256)   Receiving objects:  35% (790/2256)   Receiving objects:  36% (813/2256)   Receiving objects:  37% (835/2256)   Receiving objects:  38% (858/2256)   Receiving objects:  39% (880/2256)   Receiving objects:  40% (903/2256)   Receiving objects:  41% (925/2256)   Receiving objects:  42% (948/2256)   Receiving objects:  43% (971/2256)   Receiving objects:  44% (993/2256)   Receiving objects:  45% (1016/2256)   Receiving objects:  46% (1038/2256)   Receiving objects:  47% (1061/2256)   Receiving objects:  48% (1083/2256)   Receiving objects:  49% (1106/2256)   Receiving objects:  50% (1128/2256)   Receiving objects:  51% (1151/2256)   Receiving objects:  52% (1174/2256)   Receiving objects:  53% (1196/2256)   Receiving objects:  54% (1219/2256)   Receiving objects:  55% (1241/2256)   Receiving objects:  56% (1264/2256)   Receiving objects:  57% (1286/2256)   Receiving objects:  58% (1309/2256)   Receiving objects:  59% (1332/2256)   Receiving objects:  60% (1354/2256)   Receiving objects:  61% (1377/2256)   Receiving objects:  62% (1399/2256)   Receiving objects:  63% (1422/2256)   Receiving objects:  64% (1444/2256)   Receiving objects:  65% (1467/2256)   Receiving objects:  66% (1489/2256)   Receiving objects:  67% (1512/2256)   Receiving objects:  68% (1535/2256)   Receiving objects:  69% (1557/2256)   Receiving objects:  70% (1580/2256)   Receiving objects:  71% (1602/2256)   Receiving objects:  72% (1625/2256)   Receiving objects:  73% (1647/2256)   Receiving objects:  74% (1670/2256)   Receiving objects:  75% (1692/2256)   Receiving objects:  76% (1715/2256)   Receiving objects:  77% (1738/2256)   Receiving objects:  78% (1760/2256)   Receiving objects:  79% (1783/2256)   Receiving objects:  80% (1805/2256)   Receiving objects:  81% (1828/2256)   Receiving objects:  82% (1850/2256)   Receiving objects:  83% (1873/2256)   Receiving objects:  84% (1896/2256)   Receiving objects:  85% (1918/2256)   Receiving objects:  86% (1941/2256)   Receiving objects:  87% (1963/2256)   Receiving objects:  88% (1986/2256)   Receiving objects:  89% (2008/2256)   Receiving objects:  90% (2031/2256)   Receiving objects:  91% (2053/2256)   Receiving objects:  92% (2076/2256)   Receiving objects:  93% (2099/2256)   Receiving objects:  94% (2121/2256)   Receiving objects:  95% (2144/2256)   Receiving objects:  96% (2166/2256)   Receiving objects:  97% (2189/2256)   Receiving objects:  98% (2211/2256)   remote: Total 2256 (delta 577), reused 1790 (delta 490), pack-reused 0[K
Receiving objects:  99% (2234/2256)   Receiving objects: 100% (2256/2256)   Receiving objects: 100% (2256/2256), 885.42 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/577)   Resolving deltas:   2% (13/577)   Resolving deltas:   4% (28/577)   Resolving deltas:   5% (29/577)   Resolving deltas:   6% (36/577)   Resolving deltas:   7% (41/577)   Resolving deltas:   8% (49/577)   Resolving deltas:   9% (53/577)   Resolving deltas:  14% (85/577)   Resolving deltas:  15% (90/577)   Resolving deltas:  16% (94/577)   Resolving deltas:  17% (100/577)   Resolving deltas:  18% (106/577)   Resolving deltas:  19% (113/577)   Resolving deltas:  20% (116/577)   Resolving deltas:  21% (122/577)   Resolving deltas:  22% (127/577)   Resolving deltas:  23% (133/577)   Resolving deltas:  24% (139/577)   Resolving deltas:  25% (146/577)   Resolving deltas:  26% (151/577)   Resolving deltas:  27% (159/577)   Resolving deltas:  28% (164/577)   Resolving deltas:  29% (169/577)   Resolving deltas:  30% (175/577)   Resolving deltas:  31% (179/577)   Resolving deltas:  32% (185/577)   Resolving deltas:  33% (191/577)   Resolving deltas:  34% (197/577)   Resolving deltas:  35% (203/577)   Resolving deltas:  59% (345/577)   Resolving deltas:  60% (347/577)   Resolving deltas:  61% (353/577)   Resolving deltas:  62% (362/577)   Resolving deltas:  63% (366/577)   Resolving deltas:  64% (371/577)   Resolving deltas:  65% (376/577)   Resolving deltas:  66% (381/577)   Resolving deltas:  67% (389/577)   Resolving deltas:  68% (393/577)   Resolving deltas:  69% (402/577)   Resolving deltas:  70% (404/577)   Resolving deltas:  71% (411/577)   Resolving deltas:  72% (417/577)   Resolving deltas:  73% (423/577)   Resolving deltas:  74% (429/577)   Resolving deltas:  75% (436/577)   Resolving deltas:  76% (441/577)   Resolving deltas:  77% (445/577)   Resolving deltas:  78% (451/577)   Resolving deltas:  80% (464/577)   Resolving deltas:  81% (468/577)   Resolving deltas:  82% (474/577)   Resolving deltas:  83% (481/577)   Resolving deltas:  84% (485/577)   Resolving deltas:  85% (491/577)   Resolving deltas:  86% (497/577)   Resolving deltas:  87% (506/577)   Resolving deltas:  88% (508/577)   Resolving deltas:  89% (515/577)   Resolving deltas:  90% (520/577)   Resolving deltas:  91% (527/577)   Resolving deltas:  92% (535/577)   Resolving deltas:  93% (538/577)   Resolving deltas:  94% (548/577)   Resolving deltas:  95% (549/577)   Resolving deltas:  98% (569/577)   Resolving deltas:  99% (572/577)   Resolving deltas: 100% (577/577)   Resolving deltas: 100% (577/577), done.
Checking connectivity... done.

travis_time:end:0d124e38:start=1471605351894959065,finish=1471605352491044369,duration=596085304[0K$ cd petergeneric/stdlib
$ git checkout -qf a22e42e57d9f1b33c59a311121234ad5e73db32d
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee https://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0f73bf68[0K$ Installing caching utilities

travis_time:end:0f73bf68:start=1471605354958151355,finish=1471605355003868287,duration=45716932[0Ktravis_time:start:022329c6[0K
travis_time:end:022329c6:start=1471605355008685837,finish=1471605355011991180,duration=3305343[0Ktravis_time:start:05c15f68[0K[32;1mattempting to download cache archive[0m
[32;1mfetching master/cache-linux-precise-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--jdk-oraclejdk8.tgz[0m
[32;1mfound cache[0m

travis_time:end:05c15f68:start=1471605355015899266,finish=1471605362283837649,duration=7267938383[0Ktravis_time:start:09a862aa[0K
travis_time:end:09a862aa:start=1471605362288708921,finish=1471605362293187894,duration=4478973[0Ktravis_time:start:14d82408[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:14d82408:start=1471605362297763923,finish=1471605369311516032,duration=7013752109[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:0004c3a0[0K$ mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "3.13.0-40-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: a22e42e57d9f1b33c59a311121234ad5e73db32d at timestamp: 1471605375748
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.1.4-SNAPSHOT/stdlib-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 82 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 13 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/test-classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.4-SNAPSHOT/stdlib-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.4-SNAPSHOT/stdlib-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.1.4-SNAPSHOT/stdlib-guice-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 121 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: Some input files use or override a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 12 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.4-SNAPSHOT/stdlib-guice-common-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.4-SNAPSHOT/stdlib-guice-common-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.1.4-SNAPSHOT/user-manager-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/user-manager/api/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.4-SNAPSHOT/user-manager-api-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.4-SNAPSHOT/user-manager-api-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 80 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.4-SNAPSHOT/stdlib-guice-webapp-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.4-SNAPSHOT/stdlib-guice-webapp-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 20 source files to /home/travis/build/petergeneric/stdlib/guice/metrics/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.4-SNAPSHOT/stdlib-guice-metrics-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.4-SNAPSHOT/stdlib-guice-metrics-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/guice/freemarker/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.4-SNAPSHOT/stdlib-guice-freemarker-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.4-SNAPSHOT/stdlib-guice-freemarker-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 15 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.4-SNAPSHOT/stdlib-guice-testing-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.4-SNAPSHOT/stdlib-guice-testing-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 61 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Some input files use or override a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 32 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.4-SNAPSHOT/stdlib-guice-hibernate-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.4-SNAPSHOT/stdlib-guice-hibernate-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.4-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.4-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 7 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.4-SNAPSHOT/stdlib-guice-liquibase-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.4-SNAPSHOT/stdlib-guice-liquibase-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 28 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.4-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.4-SNAPSHOT/carbon-client-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.4-SNAPSHOT/carbon-client-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ config-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.4-SNAPSHOT/config-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 10 source files to /home/travis/build/petergeneric/stdlib/configuration/configuration/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/configuration/configuration/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/configuration/configuration/src/main/webapp]
[INFO] Webapp assembled in [286 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/configuration-9.1.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/configuration/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/configuration-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 37 source files to /home/travis/build/petergeneric/stdlib/user-manager/service/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [257 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.4-SNAPSHOT/user-manager-9.1.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.4-SNAPSHOT/user-manager-9.1.4-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  2.058 s]
[INFO] stdlib ............................................. SUCCESS [ 15.857 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.182 s]
[INFO] stdlib guice common ................................ SUCCESS [  5.530 s]
[INFO] user-manager ....................................... SUCCESS [  0.023 s]
[INFO] user manager rest api .............................. SUCCESS [  0.338 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  3.579 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.267 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.430 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.752 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  3.124 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  0.940 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.825 s]
[INFO] carbon client ...................................... SUCCESS [  0.804 s]
[INFO] configuration ...................................... SUCCESS [  0.017 s]
[INFO] Configuration Service .............................. SUCCESS [  2.850 s]
[INFO] user manager service ............................... SUCCESS [  3.234 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 43.155 s
[INFO] Finished at: 2016-08-19T11:16:55+00:00
[INFO] Final Memory: 49M/320M
[INFO] ------------------------------------------------------------------------

travis_time:end:0004c3a0:start=1471605369793574001,finish=1471605416036489583,duration=46242915582[0Ktravis_fold:end:install[0Kcoverity_scan:start$ export PROJECT_NAME=petergeneric/stdlib
coverity_scan:endtravis_time:start:026b1592[0K$ mvn test -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: a22e42e57d9f1b33c59a311121234ad5e73db32d at timestamp: 1471605421276
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.334 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.082 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.059 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.014 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.095 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in com.peterphi.std.io.PropertyFileTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.common.retry.retry.RetryManager).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.385 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.344 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.027 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.067 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.139 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.524 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.047 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.045 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.097 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.431 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2016-08-19 11:17:18,811 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,812 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,819 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,829 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,831 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,832 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,834 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,834 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,835 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,838 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,839 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,839 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,842 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,842 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,843 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,887 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,888 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,888 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,891 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,892 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,893 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,894 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,896 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,897 TRACE [PropertyFile] {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2016-08-19 11:17:18,952 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,952 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-08-19 11:17:18,952 TRACE [PropertyFile] {set} key=unit-test; value=true
2016-08-19 11:17:18,959  INFO Trying to create Guice Injector...
2016-08-19 11:17:18,960 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@22f71333
2016-08-19 11:17:18,961 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@13969fbe
2016-08-19 11:17:18,994 TRACE [PropertyFile] {set} key=travis_tag; value=
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=casher_dir; value=/home/travis/.casher
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=travis_job_id; value=153530147
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=travis_jdk_version; value=oraclejdk8
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=travis_os_name; value=linux
2016-08-19 11:17:18,998 TRACE [PropertyFile] {set} key=ps4; value=+
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=rvm_silence_path_mismatch_check_flag; value=1
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=mail; value=/var/mail/travis
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=logname; value=travis
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=rvm_version; value=1.26.8 (1.26.8)
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=travis_event_type; value=push
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=pwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-08-19 11:17:18,999 TRACE [PropertyFile] {set} key=git_askpass; value=echo
2016-08-19 11:17:19,000 TRACE [PropertyFile] {set} key=rails_env; value=test
2016-08-19 11:17:19,000 TRACE [PropertyFile] {set} key=has_antares_three_little_fronzies_badge; value=true
2016-08-19 11:17:19,000 TRACE [PropertyFile] {set} key=shell; value=/bin/bash
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=composer_no_interaction; value=1
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=travis_secure_env_vars; value=true
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=oldpwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=coverity_scan_branch; value=0
2016-08-19 11:17:19,001 TRACE [PropertyFile] {set} key=rvm_path; value=/home/travis/.rvm
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=coverity_scan_token; value=[secure]
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=continuous_integration; value=true
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=ruby_version; value=ruby-1.9.3-p551
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=debian_frontend; value=noninteractive
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=_system_name; value=Ubuntu
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=lc_all; value=en_US.UTF-8
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=m2_home; value=/usr/local/maven
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2016-08-19 11:17:19,002 TRACE [PropertyFile] {set} key=rvm_autoupdate_flag; value=0
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=travis_build_number; value=545
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=lc_ctype; value=en_US.UTF-8
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=shlvl; value=3
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=_system_arch; value=x86_64
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=has_josh_k_seal_of_approval; value=true
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=travis_build_id; value=153530146
2016-08-19 11:17:19,003 TRACE [PropertyFile] {set} key=term; value=xterm
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=rvm_prefix; value=/home/travis
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=lang; value=en_US.UTF-8
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=travis_job_number; value=545.1
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=travis_pull_request; value=false
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=project_name; value=petergeneric/stdlib
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2016-08-19 11:17:19,004 TRACE [PropertyFile] {set} key=merb_env; value=test
2016-08-19 11:17:19,005 TRACE [PropertyFile] {set} key=rack_env; value=test
2016-08-19 11:17:19,005 TRACE [PropertyFile] {set} key=travis_language; value=java
2016-08-19 11:17:19,006 TRACE [PropertyFile] {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2016-08-19 11:17:19,006 TRACE [PropertyFile] {set} key=travis_branch; value=master
2016-08-19 11:17:19,006 TRACE [PropertyFile] {set} key=maven_cmd_line_args; value=test -B
2016-08-19 11:17:19,006 TRACE [PropertyFile] {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2016-08-19 11:17:19,006 TRACE [PropertyFile] {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2016-08-19 11:17:19,006 TRACE [PropertyFile] {set} key=nvm_dir; value=/home/travis/.nvm
2016-08-19 11:17:19,007 TRACE [PropertyFile] {set} key=travis; value=true
2016-08-19 11:17:19,007 TRACE [PropertyFile] {set} key=ci; value=true
2016-08-19 11:17:19,007 TRACE [PropertyFile] {set} key=_system_type; value=Linux
2016-08-19 11:17:19,007 TRACE [PropertyFile] {set} key=travis_build_dir; value=/home/travis/build/petergeneric/stdlib
2016-08-19 11:17:19,008 TRACE [PropertyFile] {set} key=ssh_tty; value=/dev/pts/1
2016-08-19 11:17:19,008 TRACE [PropertyFile] {set} key=ssh_client; value=172.17.42.1 52734 22
2016-08-19 11:17:19,008 TRACE [PropertyFile] {set} key=_system_version; value=12.04
2016-08-19 11:17:19,009 TRACE [PropertyFile] {set} key=travis_commit_range; value=7519654a5dcd...a22e42e57d9f
2016-08-19 11:17:19,010 TRACE [PropertyFile] {set} key=user; value=travis
2016-08-19 11:17:19,010 TRACE [PropertyFile] {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2016-08-19 11:17:19,010 TRACE [PropertyFile] {set} key=travis_commit; value=a22e42e57d9f1b33c59a311121234ad5e73db32d
2016-08-19 11:17:19,013 TRACE [PropertyFile] {set} key=travis_repo_slug; value=petergeneric/stdlib
2016-08-19 11:17:19,013 TRACE [PropertyFile] {set} key=ssh_connection; value=172.17.42.1 52734 172.17.11.20 22
2016-08-19 11:17:19,013 TRACE [PropertyFile] {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2016-08-19 11:17:19,013 TRACE [PropertyFile] {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2016-08-19 11:17:19,013 TRACE [PropertyFile] {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2016-08-19 11:17:19,013 TRACE [PropertyFile] {set} key=home; value=/home/travis
2016-08-19 11:17:19,013 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@6aaa5eb0
2016-08-19 11:17:19,014 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@3498ed
2016-08-19 11:17:19,014 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@22f71333
2016-08-19 11:17:19,015 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@13969fbe
2016-08-19 11:17:19,074 TRACE Search for config files with name: environment.properties
2016-08-19 11:17:19,075 TRACE Search for config files with name: service.properties
2016-08-19 11:17:19,076 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@482f8f11
2016-08-19 11:17:19,096  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/webquery/
2016-08-19 11:17:19,097  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/std/guice/hibernate/webquery/
2016-08-19 11:17:19,215 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2016-08-19 11:17:19,218 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@a67c67e, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@3327bd23, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@4e1d422d, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@66480dd7, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@52a86356, com.peterphi.std.guice.common.metrics.CoreMetricsModule@5ce81285, com.peterphi.std.guice.common.cached.module.CacheModule@78c03f1f, com.peterphi.std.guice.common.retry.module.RetryModule@5ec0a365, com.peterphi.std.guice.common.JAXBModule@4fe3c938, com.peterphi.std.guice.common.Log4JModule@5383967b, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@2ac273d3]
2016-08-19 11:17:19,971 DEBUG Discovered new property: guice.bootstrap.class
2016-08-19 11:17:19,972 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,972 DEBUG Discovered new property: scan.packages
2016-08-19 11:17:19,972 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,972 DEBUG Discovered new property: override-properties.file
2016-08-19 11:17:19,972 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,972 DEBUG Discovered new property: mode
2016-08-19 11:17:19,973 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,974 DEBUG Discovered new property: log4j.properties
2016-08-19 11:17:19,974 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,974 DEBUG Discovered new property: guice.jaxb.moxy
2016-08-19 11:17:19,974 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,974 DEBUG Discovered new property: unit-test
2016-08-19 11:17:19,974 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,974 DEBUG Discovered new property: service.config.endpoint
2016-08-19 11:17:19,975 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: service.config.path
2016-08-19 11:17:19,975 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: service.config.instance-id
2016-08-19 11:17:19,975 TRACE Discovered new binding for property service.config.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: service.config.last-revision
2016-08-19 11:17:19,975 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: restutils.allow-restart
2016-08-19 11:17:19,975 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: restutils.show-serviceprops
2016-08-19 11:17:19,975 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: restutils.allow-reconfigure
2016-08-19 11:17:19,975 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,975 DEBUG Discovered new property: restutils.show-bound-values
2016-08-19 11:17:19,976 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,976 DEBUG Discovered new property: local.restservices.endpoint
2016-08-19 11:17:19,976 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,976 DEBUG Discovered new property: local.restservices.prefix
2016-08-19 11:17:19,976 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,976 DEBUG Discovered new property: servlet.context-name
2016-08-19 11:17:19,976 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,976 DEBUG Discovered new property: context-name
2016-08-19 11:17:19,976 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,976 DEBUG Discovered new property: role.jaxrs-server.auto
2016-08-19 11:17:19,976 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,976 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-08-19 11:17:19,977 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,977 DEBUG Discovered new property: local.webapp.endpoint
2016-08-19 11:17:19,977 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,977 DEBUG Discovered new property: local.container.endpoint
2016-08-19 11:17:19,978 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,978 DEBUG Discovered new property: local.webapp.context-path
2016-08-19 11:17:19,978 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,978 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-08-19 11:17:19,983 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,983 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-08-19 11:17:19,984 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,984 DEBUG Discovered new property: framework.webauth.provider
2016-08-19 11:17:19,984 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,984 DEBUG Discovered new property: framework.webauth.enabled
2016-08-19 11:17:19,984 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,984 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-08-19 11:17:19,984 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,984 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-08-19 11:17:19,985 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,985 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-08-19 11:17:19,985 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,985 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-08-19 11:17:19,985 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,985 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-08-19 11:17:19,986 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,986 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-08-19 11:17:19,986 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,986 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-08-19 11:17:19,986 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,986 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-08-19 11:17:19,986 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,986 DEBUG Discovered new property: service.oauth2.endpoint
2016-08-19 11:17:19,987 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,987 DEBUG Discovered new property: service.oauth2.client_id
2016-08-19 11:17:19,987 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,987 DEBUG Discovered new property: service.oauth2.client_secret
2016-08-19 11:17:19,987 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,987 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-08-19 11:17:19,987 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,987 DEBUG Discovered new property: hibernate.properties
2016-08-19 11:17:19,987 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,987 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-08-19 11:17:19,987 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,987 DEBUG Discovered new property: role.hibernate.auto
2016-08-19 11:17:19,987 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,988 DEBUG Discovered new property: role.thymeleaf.auto
2016-08-19 11:17:19,988 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,988 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-08-19 11:17:19,989 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,989 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-08-19 11:17:19,989 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,989 DEBUG Discovered new property: role.dbunit.auto
2016-08-19 11:17:19,989 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,989 DEBUG Discovered new property: liquibase.action
2016-08-19 11:17:19,989 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,989 DEBUG Discovered new property: liquibase.changelog
2016-08-19 11:17:19,989 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,989 DEBUG Discovered new property: liquibase.contexts
2016-08-19 11:17:19,989 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,989 DEBUG Discovered new property: liquibase.labels
2016-08-19 11:17:19,990 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:19,990 DEBUG Discovered new property: liquibase.parameter.
2016-08-19 11:17:19,990 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-08-19 11:17:20,058 DEBUG Loading log4j configuration from embedded
2016-08-19 11:17:20,132 TRACE [PropertyFile] {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2016-08-19 11:17:20,132 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2016-08-19 11:17:20,132 TRACE [PropertyFile] {set} key=log4j.rootCategory; value=WARN, logconsole
2016-08-19 11:17:20,132 TRACE [PropertyFile] {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2016-08-19 11:17:20,132 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2016-08-19 11:17:20,133 TRACE [PropertyFile] {set} key=log4j.properties; value=embedded
2016-08-19 11:17:20,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:20,938 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:20,938 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:20,938 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:20,938 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:20,939 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:20,939 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:20,944 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:21,051  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-08-19 11:17:23,675 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-08-19 11:17:23,676 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-08-19 11:17:23,676 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-08-19 11:17:23,676 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-08-19 11:17:23,676 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-08-19 11:17:23,676 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-08-19 11:17:23,677 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-08-19 11:17:23,677 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:23,719 TRACE Hibernate Setup Complete.
2016-08-19 11:17:23,719 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:23,719 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:23,722 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:23,727 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:23,728 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:23,728 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:23,729 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:23,740 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:23,740 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:23,740 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:23,740 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:23,740 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:23,740 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:23,947 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:23,960 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:24,021 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:24,025 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@74aa9c72
2016-08-19 11:17:24,035 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:24,035 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:24,057  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:24,057 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:24,065 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@367b22e5
2016-08-19 11:17:24,537 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:24,537 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:24,538 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:24,538 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:24,538 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:24,538 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:24,538 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:24,540 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:24,551  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:24,722 TRACE Hibernate Setup Complete.
2016-08-19 11:17:24,722 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:24,722 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:24,722 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:24,723 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:24,723 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:24,723 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:24,723 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:24,723 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:24,723 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:24,723 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:24,723 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:24,723 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:24,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:24,725 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:24,726 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:24,732 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:24,741 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@633cc6b5
2016-08-19 11:17:24,742 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-08-19 11:17:24,751 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:24,751 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-08-19 11:17:24,780 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6801b414
2016-08-19 11:17:24,780  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:24,781 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:24,781 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4f327096
2016-08-19 11:17:25,530 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:25,552 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:25,552 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:25,552 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:25,552 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:25,553 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:25,553 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:25,554 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:25,597  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:25,819 TRACE Hibernate Setup Complete.
2016-08-19 11:17:25,819 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:25,820 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:25,821 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:25,821 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:25,821 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:25,821 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:25,821 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:25,821 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:25,821 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:25,821 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:25,832 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:25,832 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:25,833 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:25,844 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:25,845 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:25,848 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:25,851 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@778a1250
2016-08-19 11:17:25,859 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:25,863 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=otherobjec1_.obj_name limit ?
2016-08-19 11:17:25,867 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@16f0ec18
2016-08-19 11:17:25,875 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:25,875 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name<=otherobjec1_.obj_name limit ?
2016-08-19 11:17:25,879 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3b481bf5
2016-08-19 11:17:25,882  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:25,883 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:25,883 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@67fb5025
2016-08-19 11:17:26,202 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:26,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:26,222 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:26,222 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:26,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:26,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:26,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:26,231 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:26,233  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:26,373 TRACE Hibernate Setup Complete.
2016-08-19 11:17:26,373 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:26,374 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:26,374 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:26,374 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:26,374 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:26,374 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:26,374 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:26,374 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:26,374 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:26,374 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:26,374 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:26,374 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:26,375 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:26,378 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:26,378 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:26,379 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:26,388 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e17442f
2016-08-19 11:17:26,389 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:26,448 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6c8f4bc7
2016-08-19 11:17:26,452 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:26,464 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2ee92e7d
2016-08-19 11:17:26,487 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:26,487 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-08-19 11:17:26,524 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4af7dd6a
2016-08-19 11:17:26,524 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:26,525 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-08-19 11:17:26,543 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@43c39321
2016-08-19 11:17:26,543  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:26,543 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:26,544 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3d0d120b
2016-08-19 11:17:26,685 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:26,685 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:26,686 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:26,686 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:26,686 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:26,686 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:26,686 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:26,687 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:26,689  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:26,736 TRACE Hibernate Setup Complete.
2016-08-19 11:17:26,737 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:26,737 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:26,737 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:26,737 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:26,737 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:26,737 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:26,738 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:26,738 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:26,738 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:26,751 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:26,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:26,752 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:26,752 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:26,754 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:26,754 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:26,757 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:26,760 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@621dc63d
2016-08-19 11:17:26,761 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:26,763 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@56f9de3b
2016-08-19 11:17:26,764 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:26,765 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2016-08-19 11:17:26,772 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3f3c5ecd
2016-08-19 11:17:26,772  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:26,772 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:26,773 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a03529c
2016-08-19 11:17:27,042 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:27,042 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:27,042 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:27,042 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:27,042 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:27,043 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:27,043 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:27,043 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:27,059  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:27,210 TRACE Hibernate Setup Complete.
2016-08-19 11:17:27,210 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:27,210 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:27,210 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:27,210 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:27,210 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:27,210 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:27,210 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:27,210 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:27,210 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:27,210 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:27,211 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:27,211 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:27,211 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:27,212 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:27,213 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:27,216 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:27,235 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2e44cb34
2016-08-19 11:17:27,236 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-08-19 11:17:27,236 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:27,236 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2016-08-19 11:17:27,241 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1dbc607d
2016-08-19 11:17:27,241  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:27,241 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:27,242 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a0e33db
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:27,568 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:27,581 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:27,604  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:27,749 TRACE Hibernate Setup Complete.
2016-08-19 11:17:27,750 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:27,750 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:27,750 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:27,753 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:27,754 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:27,754 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:27,754 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:27,754 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:27,755 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:27,758 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:27,758 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:27,758 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:27,758 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:27,759 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:27,761 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:27,765 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:27,767 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6b71e98f
2016-08-19 11:17:27,770 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:27,772 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7f8cd5fc
2016-08-19 11:17:27,779 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:27,784 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7bfcc108
2016-08-19 11:17:27,787 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2016-08-19 11:17:27,802 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-08-19 11:17:27,806 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a45ca1c
2016-08-19 11:17:27,811  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:27,813 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:27,813 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@83e5898
2016-08-19 11:17:28,106 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,106 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,118 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:28,118 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,118 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,118 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,118 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,118 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:28,121  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:28,253 TRACE Hibernate Setup Complete.
2016-08-19 11:17:28,253 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:28,253 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,253 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,253 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,253 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,253 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,253 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,253 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,253 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,253 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,254 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,254 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,254 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,254 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:28,254 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:28,257 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:28,260 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5e976553
2016-08-19 11:17:28,261 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:28,266 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@185b7cc6
2016-08-19 11:17:28,267 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:28,269 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@758d0555
2016-08-19 11:17:28,270 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-08-19 11:17:28,270 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7eb774c3
2016-08-19 11:17:28,271 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-08-19 11:17:28,273 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e67e090
2016-08-19 11:17:28,274 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:28,274 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-08-19 11:17:28,282 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@20e41f13
2016-08-19 11:17:28,283 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:28,283 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2016-08-19 11:17:28,287 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@688efeb2
2016-08-19 11:17:28,288 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:28,288 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2016-08-19 11:17:28,293 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@36f497b1
2016-08-19 11:17:28,294  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:28,294 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:28,294 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1117cc7c
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,451 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:28,475  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:28,527 TRACE Hibernate Setup Complete.
2016-08-19 11:17:28,528 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:28,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,529 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,529 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,529 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:28,529 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:28,531 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:28,531 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@49bc1f6c
2016-08-19 11:17:28,532 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:28,533 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5add7380
2016-08-19 11:17:28,534 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:28,535 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@44a0e68f
2016-08-19 11:17:28,540 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:28,540 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2016-08-19 11:17:28,543 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@bddac1c
2016-08-19 11:17:28,544  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:28,544 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:28,544 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@41831611
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,737 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,738 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:28,742  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:28,856 TRACE Hibernate Setup Complete.
2016-08-19 11:17:28,857 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:28,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,858 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,859 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:28,859 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:28,860 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:28,861 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@467e7793
2016-08-19 11:17:28,863 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:28,863 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2016-08-19 11:17:28,866 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@9cdf13e
2016-08-19 11:17:28,866  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:28,867 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:28,867 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@501956f9
2016-08-19 11:17:28,987 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:28,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:28,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:28,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:28,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:28,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:28,988 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:28,988 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:28,995  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:29,108 TRACE Hibernate Setup Complete.
2016-08-19 11:17:29,108 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:29,108 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,108 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,108 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,108 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,108 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,109 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,109 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,109 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,109 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,110 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,110 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,110 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,110 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:29,111 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,115 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,123 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5a02fca5
2016-08-19 11:17:29,124 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-08-19 11:17:29,125 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b91e024
2016-08-19 11:17:29,127 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:29,130 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@315bb2bb
2016-08-19 11:17:29,131 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:29,131 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2016-08-19 11:17:29,137 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@311eb725
2016-08-19 11:17:29,138 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:29,138 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2016-08-19 11:17:29,141 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5e609b42
2016-08-19 11:17:29,141  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:29,141 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:29,142 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@24673720
2016-08-19 11:17:29,251 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,252 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,252 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:29,252 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,252 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,252 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,252 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,252 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:29,262  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:29,331 TRACE Hibernate Setup Complete.
2016-08-19 11:17:29,332 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:29,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,333 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:29,333 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,334 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,335 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@794cd751
2016-08-19 11:17:29,335 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:29,336 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-08-19 11:17:29,337 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2be49c8c
2016-08-19 11:17:29,337  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:29,338 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:29,338 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@31f5580b
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,468 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:29,469  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:29,589 TRACE Hibernate Setup Complete.
2016-08-19 11:17:29,590 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:29,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,590 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,590 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,593 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:29,594 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,596 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,603 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@37b0a724
2016-08-19 11:17:29,603 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:29,603 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-08-19 11:17:29,618 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4235e01b
2016-08-19 11:17:29,618  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:29,619 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:29,619 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b24e21f
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,787 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:29,789  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:29,851 TRACE Hibernate Setup Complete.
2016-08-19 11:17:29,851 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:29,851 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,851 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,851 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:29,851 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:29,851 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,851 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:29,851 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,851 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:29,851 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,851 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:29,852 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,852 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:29,852 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:29,852 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,855 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:29,856 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1990afa2
2016-08-19 11:17:29,857 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:29,857 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2016-08-19 11:17:29,858 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@d67f6f
2016-08-19 11:17:29,858  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:29,858 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:29,858 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1b58788a
2016-08-19 11:17:30,036 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,050 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,050 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:30,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,051 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:30,053  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:30,104 TRACE Hibernate Setup Complete.
2016-08-19 11:17:30,104 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:30,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,104 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,104 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,104 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,104 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,104 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,104 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,104 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,105 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:30,105 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,109 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,110 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7b80be13
2016-08-19 11:17:30,111 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-08-19 11:17:30,111 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:30,111 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2016-08-19 11:17:30,113 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@12f826c
2016-08-19 11:17:30,113  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:30,113 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:30,113 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@46a6b8d6
2016-08-19 11:17:30,230 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,246 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,246 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:30,246 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,246 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,246 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,246 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,247 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:30,249  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:30,309 TRACE Hibernate Setup Complete.
2016-08-19 11:17:30,309 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:30,314 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,316 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,317 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,317 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,317 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,318 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,318 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,318 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,319 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,319 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,319 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,319 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,320 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:30,320 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,322 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,323 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7203fac0
2016-08-19 11:17:30,324 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:30,324 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:30,325 DEBUG IllegalArgumentException causes rollback
2016-08-19 11:17:30,326  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:30,326 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:30,326 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@59d64b60
2016-08-19 11:17:30,463 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,464 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,464 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:30,464 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,464 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,464 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,464 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,464 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:30,467  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:30,549 TRACE Hibernate Setup Complete.
2016-08-19 11:17:30,549 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:30,549 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,549 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,549 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,549 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,549 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,549 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,549 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,549 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,549 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,549 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,550 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,550 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,550 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:30,550 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,551 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,552 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6470078d
2016-08-19 11:17:30,552 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:30,553 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b420d9e
2016-08-19 11:17:30,554 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-08-19 11:17:30,591 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e26d0b3
2016-08-19 11:17:30,592 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:30,592 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2016-08-19 11:17:30,596 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@156aba9a
2016-08-19 11:17:30,596  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:30,597 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:30,597 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4148a617
2016-08-19 11:17:30,701 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,702 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,702 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:30,702 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,702 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,702 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,702 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,703 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:30,704  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:30,760 TRACE Hibernate Setup Complete.
2016-08-19 11:17:30,760 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:30,760 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,760 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,761 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-08-19 11:17:30,761 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-08-19 11:17:30,761 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,762 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-08-19 11:17:30,762 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,763 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:30,763 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,763 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,763 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,763 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,765 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-08-19 11:17:30,766 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,768 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-08-19 11:17:30,769 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@297727ab
2016-08-19 11:17:30,780 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:30,781 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2016-08-19 11:17:30,788 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5e4168dd
2016-08-19 11:17:30,788  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:30,789 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:30,789 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@53bf7b33
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.866 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.024 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2016-08-19 11:17:30,946 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:30,946 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:30,947 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:30,947 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:30,949  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:31,058 TRACE Hibernate Setup Complete.
2016-08-19 11:17:31,058 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:31,058 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:31,059 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:31,059 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:31,059 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:31,059 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-08-19 11:17:31,064 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@409b96d2
2016-08-19 11:17:31,065 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-08-19 11:17:31,066 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@57465bba
2016-08-19 11:17:31,069 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:31,069 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:31,069 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:31,069 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_one this_1_ on this_.id=this_1_.id left outer join inherit_two this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2016-08-19 11:17:31,074 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@544cd64b
2016-08-19 11:17:31,074  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:31,074 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:31,075 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@209c0be5
2016-08-19 11:17:31,167 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:31,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-08-19 11:17:31,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:31,307 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:31,310  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-08-19 11:17:31,350 TRACE Hibernate Setup Complete.
2016-08-19 11:17:31,350 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-08-19 11:17:31,350 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:31,351 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-08-19 11:17:31,351 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:31,351 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-08-19 11:17:31,351 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-08-19 11:17:31,354 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@74992312
2016-08-19 11:17:31,355 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-08-19 11:17:31,356 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@18b33243
2016-08-19 11:17:31,357 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-08-19 11:17:31,362 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7efceb57
2016-08-19 11:17:31,363 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-08-19 11:17:31,364 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2a155c1c
2016-08-19 11:17:31,365  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:31,365 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:31,365 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@393ca457
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.527 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2016-08-19 11:17:31,608 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:31,610 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:31,661  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-08-19 11:17:31,698 TRACE Hibernate Setup Complete.
2016-08-19 11:17:31,698 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-08-19 11:17:31,698 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:31,706 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:31,710 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:31,710 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2016-08-19 11:17:31,711 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@764fd8ff
2016-08-19 11:17:31,711  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:31,712 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:31,712 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5fbda121
2016-08-19 11:17:31,906 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:31,906 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:31,908  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-08-19 11:17:31,915 TRACE Hibernate Setup Complete.
2016-08-19 11:17:31,916 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-08-19 11:17:31,916 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:31,916 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:31,916 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:31,917 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2016-08-19 11:17:31,918 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@31725f55
2016-08-19 11:17:31,918  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:31,919 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:31,919 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@14419acf
2016-08-19 11:17:32,113 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:32,114 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:32,115  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-08-19 11:17:32,142 TRACE Hibernate Setup Complete.
2016-08-19 11:17:32,142 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-08-19 11:17:32,142 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:32,142 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-08-19 11:17:32,143 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2016-08-19 11:17:32,148 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@62ebd06c
2016-08-19 11:17:32,148  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:32,148 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:32,148 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@122673fe
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.782 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2016-08-19 11:17:32,265 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-08-19 11:17:32,266 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:32,282  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2016-08-19 11:17:32,302 TRACE Hibernate Setup Complete.
2016-08-19 11:17:32,303 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2016-08-19 11:17:32,303 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-08-19 11:17:32,303 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-08-19 11:17:32,305 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2016-08-19 11:17:32,312 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@e01664e
2016-08-19 11:17:32,314 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2016-08-19 11:17:32,317 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@25f92ffd
2016-08-19 11:17:32,317 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-08-19 11:17:32,319 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@350e34e7
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2016-08-19 11:17:32,326  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:32,327 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:32,327 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@766b71f
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.171 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2016-08-19 11:17:32,433 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-08-19 11:17:32,446 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:32,467  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2016-08-19 11:17:32,499 TRACE Hibernate Setup Complete.
2016-08-19 11:17:32,499 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2016-08-19 11:17:32,499 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-08-19 11:17:32,499 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-08-19 11:17:32,500 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2016-08-19 11:17:32,501 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5d5181f2
2016-08-19 11:17:32,501 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2016-08-19 11:17:32,502 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@fefb1c
2016-08-19 11:17:32,503 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-08-19 11:17:32,503 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2bedd126
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2016-08-19 11:17:32,504  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:32,504 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:32,505 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@50406145
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.178 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.014 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2016-08-19 11:17:32,712 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-19 11:17:32,712 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-19 11:17:32,713 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:32,714  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-08-19 11:17:32,746 TRACE Hibernate Setup Complete.
2016-08-19 11:17:32,746 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-08-19 11:17:32,746 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-19 11:17:32,746 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-19 11:17:32,746 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-19 11:17:32,747 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-19 11:17:32,747 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2016-08-19 11:17:32,749 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-19 11:17:32,749 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-19 11:17:32,750 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-19 11:17:32,750 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-19 11:17:32,751 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-08-19 11:17:32,751 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2016-08-19 11:17:32,766 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:32,766 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2016-08-19 11:17:32,769 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@18514f04
2016-08-19 11:17:32,769  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:32,769 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:32,769 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@431ac6c9
2016-08-19 11:17:32,864 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-19 11:17:32,864 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-19 11:17:32,865 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:32,866  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-08-19 11:17:32,877 TRACE Hibernate Setup Complete.
2016-08-19 11:17:32,877 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-08-19 11:17:32,877 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-19 11:17:32,877 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-08-19 11:17:32,877 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-19 11:17:32,878 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-08-19 11:17:32,879 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2016-08-19 11:17:32,879 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-19 11:17:32,880 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-19 11:17:32,880 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-19 11:17:32,881 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-19 11:17:32,881 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-08-19 11:17:32,881 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-08-19 11:17:32,881 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2016-08-19 11:17:32,885 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@64225277
2016-08-19 11:17:32,885  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:32,885 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:32,885 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@ecc9052
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.355 sec - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2016-08-19 11:17:32,983 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-08-19 11:17:32,984 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:32,985  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-08-19 11:17:32,992 TRACE Hibernate Setup Complete.
2016-08-19 11:17:32,992 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-08-19 11:17:32,995 DEBUG KillTransaction causes rollback
2016-08-19 11:17:32,996  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:32,996 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:32,996 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@630f63ee
2016-08-19 11:17:33,081 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-08-19 11:17:33,081 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:33,083  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-08-19 11:17:33,089 TRACE Hibernate Setup Complete.
2016-08-19 11:17:33,089 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-08-19 11:17:33,090 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3bfbc6e9
2016-08-19 11:17:33,090  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:33,090 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:33,090 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2fee4869
2016-08-19 11:17:33,175 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-08-19 11:17:33,176 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:33,177  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-08-19 11:17:33,184 TRACE Hibernate Setup Complete.
2016-08-19 11:17:33,184  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:33,184 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:33,184 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2c94326f
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.293 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2016-08-19 11:17:33,281 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-19 11:17:33,281 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-19 11:17:33,281 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:33,283  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-08-19 11:17:33,295 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-08-19 11:17:33,295 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-08-19 11:17:33,297 TRACE Hibernate Setup Complete.
2016-08-19 11:17:33,297 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-08-19 11:17:33,298 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-19 11:17:33,298 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-19 11:17:33,298 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-19 11:17:33,298 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-19 11:17:33,299 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2016-08-19 11:17:33,517 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d7b5971
2016-08-19 11:17:33,517  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:33,517 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:33,518 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@25f475a6
2016-08-19 11:17:33,720 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-19 11:17:33,720 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-19 11:17:33,720 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-08-19 11:17:33,722  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-08-19 11:17:33,841 TRACE Hibernate Setup Complete.
2016-08-19 11:17:33,841 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-08-19 11:17:33,841 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-19 11:17:33,842 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-19 11:17:33,842 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-08-19 11:17:33,842 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-08-19 11:17:33,854 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2016-08-19 11:17:33,855 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6d6d3814
2016-08-19 11:17:33,855 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2016-08-19 11:17:33,856 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f25b5e8
2016-08-19 11:17:33,856 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-08-19 11:17:33,909 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@104474b0
2016-08-19 11:17:33,915 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-08-19 11:17:33,916 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7c03ab15
2016-08-19 11:17:33,918 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-08-19 11:17:33,924 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@26669943
2016-08-19 11:17:33,924 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-08-19 11:17:33,926 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3bb4ade3
2016-08-19 11:17:33,927 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-08-19 11:17:33,931 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d06fa4c
2016-08-19 11:17:33,937 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-08-19 11:17:33,942 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@598aee13
2016-08-19 11:17:33,942 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2016-08-19 11:17:33,973 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@49329ce9
2016-08-19 11:17:33,973  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:33,973 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-08-19 11:17:33,973 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2e681871
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.788 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest

Results :

Tests run: 55, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.hibernatetest.DbunitModuleTest
2016-08-19 11:17:36,246  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-08-19 11:17:37,561 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-08-19 11:17:37,561 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-08-19 11:17:37,562 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-08-19 11:17:37,562 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: drop table GroupEntity if exists
Hibernate: drop table SimpleEntity if exists
Hibernate: drop table simple_entity_join_table if exists
Hibernate: create table GroupEntity (id bigint not null, primary key (id))
Hibernate: create table SimpleEntity (id bigint not null, name varchar(255), primary key (id))
Hibernate: create table simple_entity_join_table (simple_id bigint not null, group_id bigint not null, primary key (simple_id, group_id))
Hibernate: alter table simple_entity_join_table add constraint FK_immmw5r3yntht63c24psmno0m foreign key (group_id) references GroupEntity
Hibernate: alter table simple_entity_join_table add constraint FK_f2ec0exlk361s4ww77hdync48 foreign key (simple_id) references SimpleEntity
Aug 19, 2016 11:17:37 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 19, 2016 11:17:37 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 19, 2016 11:17:37 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Aug 19, 2016 11:17:38 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 19, 2016 11:17:38 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Aug 19, 2016 11:17:38 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.326 sec - in com.peterphi.std.guice.hibernatetest.DbunitModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
INFO 8/19/16 11:17 AM: liquibase: Successfully acquired change log lock
INFO 8/19/16 11:17 AM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 8/19/16 11:17 AM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: Sequence hibernate_sequence created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::nobody ran successfully in 1ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: Table something created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: ChangeSet ./000-Original.xml::original_tables::nobody ran successfully in 1ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: Data deleted from something
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: ChangeSet ./000-Original.xml::meaningless_delete::nobody ran successfully in 1ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: New row inserted into something
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: ChangeSet ./000-Original.xml::original_data::nobody ran successfully in 15ms
INFO 8/19/16 11:17 AM: liquibase: Successfully released change log lock
2016-08-19 11:17:44,303  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: select this_.id as id1_0_0_, this_.name as name2_0_0_ from something this_
Hibernate: select someentity0_.id as id1_0_0_, someentity0_.name as name2_0_0_ from something someentity0_ where someentity0_.id=?
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.691 sec - in com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
Running com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 sec - in com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.carbon.util.mediainfo.MediaInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.292 sec - in com.peterphi.carbon.util.mediainfo.MediaInfoTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.configuration.service.git.RepoHelperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.39 sec - in com.peterphi.configuration.service.git.RepoHelperTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest
2016-08-19 11:17:49,131  INFO Trying to create Guice Injector...
2016-08-19 11:17:49,236  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes/com/peterphi/
2016-08-19 11:17:49,251  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/com/peterphi/
2016-08-19 11:17:49,252  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes/com/peterphi/
2016-08-19 11:17:49,252  INFO Found source: file:/home/travis/build/petergeneric/stdlib/stdlib/target/classes/com/peterphi/
2016-08-19 11:17:49,252  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/common/target/classes/com/peterphi/
2016-08-19 11:17:49,252  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes/com/peterphi/
2016-08-19 11:17:49,252  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/
2016-08-19 11:17:49,253  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes/com/peterphi/
2016-08-19 11:17:49,253  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes/com/peterphi/
2016-08-19 11:17:49,253  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes/com/peterphi/
2016-08-19 11:17:49,253  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes/com/peterphi/
2016-08-19 11:17:50,455 DEBUG Discovered new property: dbunit.schema
2016-08-19 11:17:50,548 DEBUG Injector for (app) created in 1348 ms
2016-08-19 11:17:50,548 DEBUG Class scanner stats: insts=1 cached createTime=337, scanTime=0
2016-08-19 11:17:50,588 DEBUG Discovered new property: hibernate.perform-separate-id-query-for-large-tables
2016-08-19 11:17:50,756 DEBUG Logging Provider: org.jboss.logging.Log4jLoggerProvider
2016-08-19 11:17:50,772 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@708400f6
2016-08-19 11:17:50,772 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@708400f6
2016-08-19 11:17:50,772 DEBUG Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@708400f6
2016-08-19 11:17:50,773 DEBUG Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@c35172e
2016-08-19 11:17:50,775 DEBUG Adding type registration true_false -> org.hibernate.type.TrueFalseType@6f2cfcc2
2016-08-19 11:17:50,775 DEBUG Adding type registration yes_no -> org.hibernate.type.YesNoType@ccb4b1b
2016-08-19 11:17:50,777 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@2101b44a
2016-08-19 11:17:50,778 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@2101b44a
2016-08-19 11:17:50,778 DEBUG Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@2101b44a
2016-08-19 11:17:50,779 DEBUG Adding type registration character -> org.hibernate.type.CharacterType@c055c54
2016-08-19 11:17:50,780 DEBUG Adding type registration char -> org.hibernate.type.CharacterType@c055c54
2016-08-19 11:17:50,780 DEBUG Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@c055c54
2016-08-19 11:17:50,781 DEBUG Adding type registration short -> org.hibernate.type.ShortType@3401a114
2016-08-19 11:17:50,781 DEBUG Adding type registration short -> org.hibernate.type.ShortType@3401a114
2016-08-19 11:17:50,781 DEBUG Adding type registration java.lang.Short -> org.hibernate.type.ShortType@3401a114
2016-08-19 11:17:50,782 DEBUG Adding type registration integer -> org.hibernate.type.IntegerType@58ffcbd7
2016-08-19 11:17:50,783 DEBUG Adding type registration int -> org.hibernate.type.IntegerType@58ffcbd7
2016-08-19 11:17:50,783 DEBUG Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@58ffcbd7
2016-08-19 11:17:50,784 DEBUG Adding type registration long -> org.hibernate.type.LongType@2f4205be
2016-08-19 11:17:50,785 DEBUG Adding type registration long -> org.hibernate.type.LongType@2f4205be
2016-08-19 11:17:50,785 DEBUG Adding type registration java.lang.Long -> org.hibernate.type.LongType@2f4205be
2016-08-19 11:17:50,786 DEBUG Adding type registration float -> org.hibernate.type.FloatType@2e554a3b
2016-08-19 11:17:50,787 DEBUG Adding type registration float -> org.hibernate.type.FloatType@2e554a3b
2016-08-19 11:17:50,787 DEBUG Adding type registration java.lang.Float -> org.hibernate.type.FloatType@2e554a3b
2016-08-19 11:17:50,788 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@5ddea849
2016-08-19 11:17:50,789 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@5ddea849
2016-08-19 11:17:50,789 DEBUG Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@5ddea849
2016-08-19 11:17:50,791 DEBUG Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@4b9df8a
2016-08-19 11:17:50,791 DEBUG Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@4b9df8a
2016-08-19 11:17:50,793 DEBUG Adding type registration big_integer -> org.hibernate.type.BigIntegerType@5f7b97da
2016-08-19 11:17:50,793 DEBUG Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@5f7b97da
2016-08-19 11:17:50,794 DEBUG Adding type registration string -> org.hibernate.type.StringType@256f8274
2016-08-19 11:17:50,794 DEBUG Adding type registration java.lang.String -> org.hibernate.type.StringType@256f8274
2016-08-19 11:17:50,795 DEBUG Adding type registration nstring -> org.hibernate.type.StringNVarcharType@6c5945a7
2016-08-19 11:17:50,796 DEBUG Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@78365cfa
2016-08-19 11:17:50,797 DEBUG Adding type registration url -> org.hibernate.type.UrlType@3a0d172f
2016-08-19 11:17:50,797 DEBUG Adding type registration java.net.URL -> org.hibernate.type.UrlType@3a0d172f
2016-08-19 11:17:50,801 DEBUG Adding type registration date -> org.hibernate.type.DateType@5b529706
2016-08-19 11:17:50,801 DEBUG Adding type registration java.sql.Date -> org.hibernate.type.DateType@5b529706
2016-08-19 11:17:50,803 DEBUG Adding type registration time -> org.hibernate.type.TimeType@74a6a609
2016-08-19 11:17:50,803 DEBUG Adding type registration java.sql.Time -> org.hibernate.type.TimeType@74a6a609
2016-08-19 11:17:50,805 DEBUG Adding type registration timestamp -> org.hibernate.type.TimestampType@1a45193b
2016-08-19 11:17:50,805 DEBUG Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@1a45193b
2016-08-19 11:17:50,805 DEBUG Adding type registration java.util.Date -> org.hibernate.type.TimestampType@1a45193b
2016-08-19 11:17:50,807 DEBUG Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@6e6d5d29
2016-08-19 11:17:50,808 DEBUG Adding type registration calendar -> org.hibernate.type.CalendarType@bf1ec20
2016-08-19 11:17:50,808 DEBUG Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@bf1ec20
2016-08-19 11:17:50,809 DEBUG Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@bf1ec20
2016-08-19 11:17:50,809 DEBUG Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@4a11eb84
2016-08-19 11:17:50,810 DEBUG Adding type registration locale -> org.hibernate.type.LocaleType@5733f295
2016-08-19 11:17:50,811 DEBUG Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@5733f295
2016-08-19 11:17:50,812 DEBUG Adding type registration currency -> org.hibernate.type.CurrencyType@7bb6ab3a
2016-08-19 11:17:50,812 DEBUG Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@7bb6ab3a
2016-08-19 11:17:50,813 DEBUG Adding type registration timezone -> org.hibernate.type.TimeZoneType@5a85c92
2016-08-19 11:17:50,813 DEBUG Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@5a85c92
2016-08-19 11:17:50,814 DEBUG Adding type registration class -> org.hibernate.type.ClassType@2eced48b
2016-08-19 11:17:50,814 DEBUG Adding type registration java.lang.Class -> org.hibernate.type.ClassType@2eced48b
2016-08-19 11:17:50,816 DEBUG Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@3c989952
2016-08-19 11:17:50,816 DEBUG Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@3c989952
2016-08-19 11:17:50,817 DEBUG Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@25bc0606
2016-08-19 11:17:50,818 DEBUG Adding type registration pg-uuid -> org.hibernate.type.PostgresUUIDType@33aeca0b
2016-08-19 11:17:50,819 DEBUG Adding type registration binary -> org.hibernate.type.BinaryType@2f6e28bc
2016-08-19 11:17:50,819 DEBUG Adding type registration byte[] -> org.hibernate.type.BinaryType@2f6e28bc
2016-08-19 11:17:50,819 DEBUG Adding type registration [B -> org.hibernate.type.BinaryType@2f6e28bc
2016-08-19 11:17:50,820 DEBUG Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@62f68dff
2016-08-19 11:17:50,821 DEBUG Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@62f68dff
2016-08-19 11:17:50,821 DEBUG Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@62f68dff
2016-08-19 11:17:50,822 DEBUG Adding type registration image -> org.hibernate.type.ImageType@4409e975
2016-08-19 11:17:50,823 DEBUG Adding type registration characters -> org.hibernate.type.CharArrayType@bff34c6
2016-08-19 11:17:50,823 DEBUG Adding type registration char[] -> org.hibernate.type.CharArrayType@bff34c6
2016-08-19 11:17:50,823 DEBUG Adding type registration [C -> org.hibernate.type.CharArrayType@bff34c6
2016-08-19 11:17:50,824 DEBUG Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@4351c8c3
2016-08-19 11:17:50,825 DEBUG Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@4351c8c3
2016-08-19 11:17:50,825 DEBUG Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@4351c8c3
2016-08-19 11:17:50,826 DEBUG Adding type registration text -> org.hibernate.type.TextType@625abb97
2016-08-19 11:17:50,826 DEBUG Adding type registration ntext -> org.hibernate.type.NTextType@55342f40
2016-08-19 11:17:50,831 DEBUG Adding type registration blob -> org.hibernate.type.BlobType@6da00fb9
2016-08-19 11:17:50,831 DEBUG Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@6da00fb9
2016-08-19 11:17:50,831 DEBUG Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@75b25825
2016-08-19 11:17:50,836 DEBUG Adding type registration clob -> org.hibernate.type.ClobType@3dd1dc90
2016-08-19 11:17:50,836 DEBUG Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@3dd1dc90
2016-08-19 11:17:50,839 DEBUG Adding type registration nclob -> org.hibernate.type.NClobType@4da602fc
2016-08-19 11:17:50,839 DEBUG Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@4da602fc
2016-08-19 11:17:50,840 DEBUG Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@72758afa
2016-08-19 11:17:50,840 DEBUG Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@7fc6de5b
2016-08-19 11:17:50,841 DEBUG Adding type registration serializable -> org.hibernate.type.SerializableType@40cb698e
2016-08-19 11:17:50,844 DEBUG Adding type registration object -> org.hibernate.type.ObjectType@57fd91c9
2016-08-19 11:17:50,844 DEBUG Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@57fd91c9
2016-08-19 11:17:50,845 DEBUG Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@674658f7
2016-08-19 11:17:50,845 DEBUG Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@5c8eee0f
2016-08-19 11:17:50,845 DEBUG Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@565b064f
2016-08-19 11:17:50,845 DEBUG Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@26425897
2016-08-19 11:17:50,846 DEBUG Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@73163d48
2016-08-19 11:17:50,846 DEBUG Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@58c34bb3
2016-08-19 11:17:50,846 DEBUG Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@56a4479a
2016-08-19 11:17:50,846 DEBUG Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@62163b39
2016-08-19 11:17:50,863  INFO HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-08-19 11:17:50,869  INFO HHH000412: Hibernate Core {4.3.8.Final}
2016-08-19 11:17:50,871  INFO HHH000206: hibernate.properties not found
2016-08-19 11:17:50,872  INFO HHH000021: Bytecode provider name : javassist
2016-08-19 11:17:50,883 DEBUG Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2016-08-19 11:17:50,883 DEBUG Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2016-08-19 11:17:50,884 DEBUG Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2016-08-19 11:17:50,884 DEBUG Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2016-08-19 11:17:50,890 DEBUG Registering IdentifierGenerator strategy [hilo] -> [org.hibernate.id.TableHiLoGenerator]
2016-08-19 11:17:50,891 DEBUG Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2016-08-19 11:17:50,892 DEBUG Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2016-08-19 11:17:50,892 DEBUG Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2016-08-19 11:17:50,893 DEBUG Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.SequenceGenerator]
2016-08-19 11:17:50,894 DEBUG Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2016-08-19 11:17:50,894 DEBUG Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2016-08-19 11:17:50,895 DEBUG Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2016-08-19 11:17:50,896 DEBUG Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2016-08-19 11:17:50,897 DEBUG Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2016-08-19 11:17:50,898 DEBUG Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2016-08-19 11:17:50,909 DEBUG Adding type registration java.util.Date -> org.hibernate.type.CustomType@339bf286
2016-08-19 11:17:50,909  INFO HHH000270: Type registration [java.util.Date] overrides previous : org.hibernate.type.TimestampType@1a45193b
2016-08-19 11:17:50,910 DEBUG Adding type registration org.joda.time.DateTime -> org.hibernate.type.CustomType@38be305c
2016-08-19 11:17:50,911 DEBUG Adding type registration com.peterphi.std.types.Timecode -> org.hibernate.type.CustomType@269f4bad
2016-08-19 11:17:50,912 DEBUG Adding type registration com.peterphi.std.types.SampleCount -> org.hibernate.type.CustomType@5ed731d0
2016-08-19 11:17:50,915 DEBUG Adding type registration org.joda.time.LocalDate -> org.hibernate.type.CustomType@3234f74e
2016-08-19 11:17:50,924 DEBUG Execute called: UPDATE
2016-08-19 11:17:50,933 DEBUG Create JDBC Connection directly: jdbc:hsqldb:mem:testdb
2016-08-19 11:17:52,851 DEBUG Execute liquibase action: UPDATE
INFO 8/19/16 11:17 AM: liquibase: Successfully acquired change log lock
INFO 8/19/16 11:17 AM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 8/19/16 11:17 AM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: Sequence hibernate_sequence created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com ran successfully in 2ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Table user_account created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Unique constraint added to user_account(email)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: ChangeSet ./000-Original.xml::create_user_account::peter@peterphi.com ran successfully in 31ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table role_definition created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table user_has_role created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (user_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (role_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Primary key added to user_has_role (user_id, role_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: ChangeSet ./000-Original.xml::add_role_definition_table::peter@peterphi.com ran successfully in 47ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_service created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session_context created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session created
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_tables::peter@peterphi.com ran successfully in 14ms
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_service (owner_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (service_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (user_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session (context_id)
INFO 8/19/16 11:17 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_constraints::peter@peterphi.com ran successfully in 7ms
INFO 8/19/16 11:17 AM: liquibase: Successfully released change log lock
2016-08-19 11:17:54,604 DEBUG Register for shutdown: com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@4a23350
2016-08-19 11:17:54,631 DEBUG Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2016-08-19 11:17:54,634 DEBUG Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2016-08-19 11:17:54,636 DEBUG Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2016-08-19 11:17:54,656 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5] -> [org.hibernate.dialect.MySQL5Dialect] (replacing [org.hibernate.dialect.MySQL5Dialect])
2016-08-19 11:17:54,656 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5InnoDB] -> [org.hibernate.dialect.MySQL5InnoDBDialect] (replacing [org.hibernate.dialect.MySQL5InnoDBDialect])
2016-08-19 11:17:54,714 DEBUG Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2016-08-19 11:17:54,714 DEBUG Preparing to build session factory with filters : {}
2016-08-19 11:17:54,724  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
2016-08-19 11:17:54,726  INFO HHH000401: using driver [org.hsqldb.jdbcDriver] at URL [jdbc:hsqldb:mem:testdb]
2016-08-19 11:17:54,726  INFO HHH000046: Connection properties: {user=sa, password=, readOnly=false}
2016-08-19 11:17:54,726  INFO HHH000006: Autocommit mode: false
2016-08-19 11:17:54,727  INFO HHH000115: Hibernate connection pool size: 20 (min=1)
2016-08-19 11:17:54,727 DEBUG Initializing Connection pool with 1 Connections
2016-08-19 11:17:54,735 DEBUG Database ->
       name : HSQL Database Engine
    version : 2.3.2
      major : 2
      minor : 3
2016-08-19 11:17:54,736 DEBUG Driver ->
       name : HSQL Database Engine Driver
    version : 2.3.2
      major : 2
      minor : 3
2016-08-19 11:17:54,736 DEBUG JDBC version : 4.0
2016-08-19 11:17:54,737 DEBUG Unexpected error trying to gauge level of JDBC REF_CURSOR support : null
2016-08-19 11:17:54,752  INFO HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2016-08-19 11:17:54,791 DEBUG Processing hbm.xml files
2016-08-19 11:17:54,792 DEBUG Process annotated classes
2016-08-19 11:17:54,795 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-19 11:17:54,834 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-19 11:17:54,835 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-19 11:17:54,853 DEBUG Import with entity name oauth_session
2016-08-19 11:17:54,860 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionEntity on table oauth_session
2016-08-19 11:17:54,932 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,937 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-19 11:17:54,963 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:id]
2016-08-19 11:17:54,964 DEBUG building SimpleValue for id
2016-08-19 11:17:54,966 DEBUG Building property id
2016-08-19 11:17:54,971 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,971 DEBUG MetadataSourceProcessor property alive with lazy=false
2016-08-19 11:17:54,972 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:alive]
2016-08-19 11:17:54,972 DEBUG building SimpleValue for alive
2016-08-19 11:17:54,972 DEBUG Building property alive
2016-08-19 11:17:54,973 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=authorisation_code, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,973 DEBUG MetadataSourceProcessor property authorisationCode with lazy=false
2016-08-19 11:17:54,973 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:authorisationCode]
2016-08-19 11:17:54,973 DEBUG building SimpleValue for authorisationCode
2016-08-19 11:17:54,974 DEBUG Building property authorisationCode
2016-08-19 11:17:54,975 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='context_id', referencedColumn='', mappedBy=''}
2016-08-19 11:17:54,977 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=context, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,983 DEBUG Building property context
2016-08-19 11:17:54,983 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,984 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-19 11:17:54,984 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:created]
2016-08-19 11:17:54,984 DEBUG building SimpleValue for created
2016-08-19 11:17:54,985 DEBUG Building property created
2016-08-19 11:17:54,985 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=expires_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,985 DEBUG MetadataSourceProcessor property expires with lazy=false
2016-08-19 11:17:54,986 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:expires]
2016-08-19 11:17:54,986 DEBUG building SimpleValue for expires
2016-08-19 11:17:54,986 DEBUG Building property expires
2016-08-19 11:17:54,986 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=initiator_detail, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,987 DEBUG MetadataSourceProcessor property initiator with lazy=false
2016-08-19 11:17:54,987 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:initiator]
2016-08-19 11:17:54,988 DEBUG building SimpleValue for initiator
2016-08-19 11:17:54,988 DEBUG Building property initiator
2016-08-19 11:17:54,988 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=current_token, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,988 DEBUG MetadataSourceProcessor property token with lazy=false
2016-08-19 11:17:54,989 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:token]
2016-08-19 11:17:54,989 DEBUG building SimpleValue for token
2016-08-19 11:17:54,989 DEBUG Building property token
2016-08-19 11:17:54,989 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:54,990 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-08-19 11:17:54,990 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:updated]
2016-08-19 11:17:54,990 DEBUG building SimpleValue for updated
2016-08-19 11:17:54,990 DEBUG Building property updated
2016-08-19 11:17:54,994 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.RoleEntity
2016-08-19 11:17:54,995 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-19 11:17:54,996 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-19 11:17:54,996 DEBUG Import with entity name role_definition
2016-08-19 11:17:54,996 DEBUG Bind entity com.peterphi.usermanager.db.entity.RoleEntity on table role_definition
2016-08-19 11:17:55,022 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,023 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-19 11:17:55,023 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:id]
2016-08-19 11:17:55,023 DEBUG building SimpleValue for id
2016-08-19 11:17:55,023 DEBUG Building property id
2016-08-19 11:17:55,024 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=caption, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,025 DEBUG MetadataSourceProcessor property caption with lazy=false
2016-08-19 11:17:55,026 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:caption]
2016-08-19 11:17:55,026 DEBUG building SimpleValue for caption
2016-08-19 11:17:55,026 DEBUG Building property caption
2016-08-19 11:17:55,028 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,042 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,043 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=members_KEY, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,045 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='members_KEY', referencedColumn='null', mappedBy='null'}
2016-08-19 11:17:55,046 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='role_id', referencedColumn='id', mappedBy=''}
2016-08-19 11:17:55,046 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='id', mappedBy=''}
2016-08-19 11:17:55,048 DEBUG Collection role: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-19 11:17:55,050 DEBUG Building property members
2016-08-19 11:17:55,052 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-19 11:17:55,053 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-19 11:17:55,053 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-19 11:17:55,053 DEBUG Import with entity name oauth_service
2016-08-19 11:17:55,053 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthServiceEntity on table oauth_service
2016-08-19 11:17:55,057 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,058 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-19 11:17:55,058 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:id]
2016-08-19 11:17:55,058 DEBUG building SimpleValue for id
2016-08-19 11:17:55,058 DEBUG Building property id
2016-08-19 11:17:55,059 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_secret, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,059 DEBUG MetadataSourceProcessor property clientSecret with lazy=false
2016-08-19 11:17:55,059 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:clientSecret]
2016-08-19 11:17:55,059 DEBUG building SimpleValue for clientSecret
2016-08-19 11:17:55,060 DEBUG Building property clientSecret
2016-08-19 11:17:55,060 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,070 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-19 11:17:55,072 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:created]
2016-08-19 11:17:55,072 DEBUG building SimpleValue for created
2016-08-19 11:17:55,072 DEBUG Building property created
2016-08-19 11:17:55,072 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=is_enabled, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,073 DEBUG MetadataSourceProcessor property enabled with lazy=false
2016-08-19 11:17:55,073 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:enabled]
2016-08-19 11:17:55,090 DEBUG building SimpleValue for enabled
2016-08-19 11:17:55,091 DEBUG Building property enabled
2016-08-19 11:17:55,091 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_endpoints, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,091 DEBUG MetadataSourceProcessor property endpoints with lazy=false
2016-08-19 11:17:55,091 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:endpoints]
2016-08-19 11:17:55,092 DEBUG building SimpleValue for endpoints
2016-08-19 11:17:55,092 DEBUG Building property endpoints
2016-08-19 11:17:55,092 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_name, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,092 DEBUG MetadataSourceProcessor property name with lazy=false
2016-08-19 11:17:55,093 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:name]
2016-08-19 11:17:55,093 DEBUG building SimpleValue for name
2016-08-19 11:17:55,093 DEBUG Building property name
2016-08-19 11:17:55,093 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='owner_id', referencedColumn='', mappedBy=''}
2016-08-19 11:17:55,093 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=owner, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,094 DEBUG Building property owner
2016-08-19 11:17:55,094 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,094 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-08-19 11:17:55,094 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:updated]
2016-08-19 11:17:55,095 DEBUG building SimpleValue for updated
2016-08-19 11:17:55,095 DEBUG Building property updated
2016-08-19 11:17:55,095 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:55,095 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-19 11:17:55,096 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-19 11:17:55,096 DEBUG Import with entity name user_account
2016-08-19 11:17:55,096 DEBUG Bind entity com.peterphi.usermanager.db.entity.UserEntity on table user_account
2016-08-19 11:17:55,103 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,104 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-19 11:17:55,104 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:id]
2016-08-19 11:17:55,104 DEBUG building SimpleValue for id
2016-08-19 11:17:55,104 DEBUG Building property id
2016-08-19 11:17:55,105 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,105 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-19 11:17:55,105 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:created]
2016-08-19 11:17:55,106 DEBUG building SimpleValue for created
2016-08-19 11:17:55,106 DEBUG Building property created
2016-08-19 11:17:55,114 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_format, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,114 DEBUG MetadataSourceProcessor property dateFormat with lazy=false
2016-08-19 11:17:55,114 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:dateFormat]
2016-08-19 11:17:55,115 DEBUG building SimpleValue for dateFormat
2016-08-19 11:17:55,115 DEBUG Building property dateFormat
2016-08-19 11:17:55,115 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=email, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,115 DEBUG MetadataSourceProcessor property email with lazy=false
2016-08-19 11:17:55,116 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:email]
2016-08-19 11:17:55,116 DEBUG building SimpleValue for email
2016-08-19 11:17:55,116 DEBUG Building property email
2016-08-19 11:17:55,118 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=last_login_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,119 DEBUG MetadataSourceProcessor property lastLogin with lazy=false
2016-08-19 11:17:55,119 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:lastLogin]
2016-08-19 11:17:55,119 DEBUG building SimpleValue for lastLogin
2016-08-19 11:17:55,119 DEBUG Building property lastLogin
2016-08-19 11:17:55,120 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=name, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,120 DEBUG MetadataSourceProcessor property name with lazy=false
2016-08-19 11:17:55,120 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:name]
2016-08-19 11:17:55,120 DEBUG building SimpleValue for name
2016-08-19 11:17:55,121 DEBUG Building property name
2016-08-19 11:17:55,121 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=password, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,122 DEBUG MetadataSourceProcessor property password with lazy=false
2016-08-19 11:17:55,123 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:password]
2016-08-19 11:17:55,123 DEBUG building SimpleValue for password
2016-08-19 11:17:55,123 DEBUG Building property password
2016-08-19 11:17:55,124 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,124 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,125 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=roles_KEY, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,125 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='roles_KEY', referencedColumn='null', mappedBy='null'}
2016-08-19 11:17:55,125 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-08-19 11:17:55,125 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-08-19 11:17:55,126 DEBUG Collection role: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-19 11:17:55,126 DEBUG Building property roles
2016-08-19 11:17:55,127 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=local_session_id, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,127 DEBUG MetadataSourceProcessor property sessionReconnectKey with lazy=false
2016-08-19 11:17:55,128 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:sessionReconnectKey]
2016-08-19 11:17:55,128 DEBUG building SimpleValue for sessionReconnectKey
2016-08-19 11:17:55,128 DEBUG Building property sessionReconnectKey
2016-08-19 11:17:55,128 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_timezone, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,128 DEBUG MetadataSourceProcessor property timeZone with lazy=false
2016-08-19 11:17:55,129 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:timeZone]
2016-08-19 11:17:55,129 DEBUG building SimpleValue for timeZone
2016-08-19 11:17:55,129 DEBUG Building property timeZone
2016-08-19 11:17:55,129 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-19 11:17:55,130 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-08-19 11:17:55,130 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-08-19 11:17:55,130 DEBUG Import with entity name oauth_session_context
2016-08-19 11:17:55,130 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity on table oauth_session_context
2016-08-19 11:17:55,133 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,134 DEBUG MetadataSourceProcessor property id with lazy=false
2016-08-19 11:17:55,134 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:id]
2016-08-19 11:17:55,134 DEBUG building SimpleValue for id
2016-08-19 11:17:55,134 DEBUG Building property id
2016-08-19 11:17:55,135 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,135 DEBUG MetadataSourceProcessor property active with lazy=false
2016-08-19 11:17:55,135 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:active]
2016-08-19 11:17:55,135 DEBUG building SimpleValue for active
2016-08-19 11:17:55,136 DEBUG Building property active
2016-08-19 11:17:55,136 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,136 DEBUG MetadataSourceProcessor property created with lazy=false
2016-08-19 11:17:55,136 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:created]
2016-08-19 11:17:55,136 DEBUG building SimpleValue for created
2016-08-19 11:17:55,137 DEBUG Building property created
2016-08-19 11:17:55,137 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=approved_scope, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,137 DEBUG MetadataSourceProcessor property scope with lazy=false
2016-08-19 11:17:55,137 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:scope]
2016-08-19 11:17:55,138 DEBUG building SimpleValue for scope
2016-08-19 11:17:55,138 DEBUG Building property scope
2016-08-19 11:17:55,138 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='service_id', referencedColumn='', mappedBy=''}
2016-08-19 11:17:55,140 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=service, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,140 DEBUG Building property service
2016-08-19 11:17:55,140 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,141 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-08-19 11:17:55,141 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:updated]
2016-08-19 11:17:55,141 DEBUG building SimpleValue for updated
2016-08-19 11:17:55,141 DEBUG Building property updated
2016-08-19 11:17:55,142 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='', mappedBy=''}
2016-08-19 11:17:55,142 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=user, insertable=true, updatable=true, unique=false}
2016-08-19 11:17:55,142 DEBUG Building property user
2016-08-19 11:17:55,143 DEBUG Starting fillSimpleValue for id
2016-08-19 11:17:55,144 DEBUG Starting fillSimpleValue for alive
2016-08-19 11:17:55,144 DEBUG Starting fillSimpleValue for authorisationCode
2016-08-19 11:17:55,144 DEBUG Starting fillSimpleValue for created
2016-08-19 11:17:55,144 DEBUG Starting fillSimpleValue for expires
2016-08-19 11:17:55,145 DEBUG Starting fillSimpleValue for initiator
2016-08-19 11:17:55,145 DEBUG Starting fillSimpleValue for token
2016-08-19 11:17:55,145 DEBUG Starting fillSimpleValue for updated
2016-08-19 11:17:55,145 DEBUG Starting fillSimpleValue for id
2016-08-19 11:17:55,145 DEBUG Starting fillSimpleValue for caption
2016-08-19 11:17:55,146 DEBUG Starting fillSimpleValue for id
2016-08-19 11:17:55,146 DEBUG Starting fillSimpleValue for clientSecret
2016-08-19 11:17:55,146 DEBUG Starting fillSimpleValue for created
2016-08-19 11:17:55,146 DEBUG Starting fillSimpleValue for enabled
2016-08-19 11:17:55,154 DEBUG Starting fillSimpleValue for endpoints
2016-08-19 11:17:55,154 DEBUG Starting fillSimpleValue for name
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for updated
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for id
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for created
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for dateFormat
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for email
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for lastLogin
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for name
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for password
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for sessionReconnectKey
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for timeZone
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for id
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for active
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for created
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for scope
2016-08-19 11:17:55,155 DEBUG Starting fillSimpleValue for updated
2016-08-19 11:17:55,156 DEBUG Processing fk mappings (*ToOne and JoinedSubclass)
2016-08-19 11:17:55,181 DEBUG Processing extends queue
2016-08-19 11:17:55,181 DEBUG Processing extends queue
2016-08-19 11:17:55,181 DEBUG Processing collection mappings
2016-08-19 11:17:55,181 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-19 11:17:55,181 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-19 11:17:55,195 DEBUG Mapped collection key: role_id, element: user_id
2016-08-19 11:17:55,199 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-19 11:17:55,199 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-19 11:17:55,200 DEBUG Retrieving property com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-19 11:17:55,200 DEBUG Mapped collection key: user_id, element: role_id
2016-08-19 11:17:55,200 DEBUG Processing native query and ResultSetMapping mappings
2016-08-19 11:17:55,200 DEBUG Processing association property references
2016-08-19 11:17:55,200 DEBUG Creating tables' unique integer identifiers
2016-08-19 11:17:55,200 DEBUG Processing foreign key constraints
2016-08-19 11:17:55,201 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:55,201 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-19 11:17:55,201 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-19 11:17:55,201 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:55,201 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:55,201 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.RoleEntity
2016-08-19 11:17:55,203 DEBUG No JtaPlatform was specified, checking resolver
2016-08-19 11:17:55,215 DEBUG No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]
2016-08-19 11:17:55,246 DEBUG Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2016-08-19 11:17:55,249 DEBUG Automatic flush during beforeCompletion(): disabled
2016-08-19 11:17:55,249 DEBUG Automatic session close at end of transaction: disabled
2016-08-19 11:17:55,250 DEBUG JDBC batch size: 15
2016-08-19 11:17:55,250 DEBUG JDBC batch updates for versioned data: disabled
2016-08-19 11:17:55,250 DEBUG Scrollable result sets: enabled
2016-08-19 11:17:55,250 DEBUG Wrap result sets: disabled
2016-08-19 11:17:55,250 DEBUG JDBC3 getGeneratedKeys(): enabled
2016-08-19 11:17:55,258 DEBUG multi-tenancy strategy : NONE
2016-08-19 11:17:55,263 DEBUG Connection release mode: auto
2016-08-19 11:17:55,263  INFO HHH000399: Using default transaction strategy (direct JDBC transactions)
2016-08-19 11:17:55,265 DEBUG Using BatchFetchStyle : LEGACY
2016-08-19 11:17:55,265 DEBUG Default batch fetch size: 1
2016-08-19 11:17:55,266 DEBUG Generate SQL with comments: disabled
2016-08-19 11:17:55,266 DEBUG Order SQL updates by primary key: disabled
2016-08-19 11:17:55,266 DEBUG Order SQL inserts for batching: disabled
2016-08-19 11:17:55,266 DEBUG Default null ordering: none
2016-08-19 11:17:55,266 DEBUG Query translator: org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory
2016-08-19 11:17:55,268  INFO HHH000397: Using ASTQueryTranslatorFactory
2016-08-19 11:17:55,270 DEBUG Query language substitutions: {}
2016-08-19 11:17:55,270 DEBUG JPA-QL strict compliance: disabled
2016-08-19 11:17:55,270 DEBUG Second-level cache: enabled
2016-08-19 11:17:55,271 DEBUG Query cache: disabled
2016-08-19 11:17:55,271 DEBUG Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2016-08-19 11:17:55,274 DEBUG Optimize cache for minimal puts: disabled
2016-08-19 11:17:55,290 DEBUG Structured second-level cache entries: disabled
2016-08-19 11:17:55,290 DEBUG Second-level cache direct-reference entries: disabled
2016-08-19 11:17:55,290 DEBUG Automatic eviction of collection cache: disabled
2016-08-19 11:17:55,290 DEBUG Statistics: disabled
2016-08-19 11:17:55,290 DEBUG Deleted entity synthetic identifier rollback: disabled
2016-08-19 11:17:55,290 DEBUG Default entity-mode: pojo
2016-08-19 11:17:55,290 DEBUG Named query checking : enabled
2016-08-19 11:17:55,291 DEBUG Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2016-08-19 11:17:55,291 DEBUG Allow initialization of lazy state outside session : : disabled
2016-08-19 11:17:55,291 DEBUG JTA Track by Thread: enabled
2016-08-19 11:17:55,299 DEBUG Building session factory
2016-08-19 11:17:55,336 DEBUG Session factory constructed with filter configurations : {}
2016-08-19 11:17:55,346 DEBUG Instantiating session factory with properties: {liquibase.action=UPDATE, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.connection.password=, sun.boot.library.path=/usr/lib/jvm/java-8-oracle/jre/lib/amd64, java.vm.version=25.31-b07, hibernate.connection.username=sa, java.vm.vendor=Oracle Corporation, java.vendor.url=http://java.oracle.com/, path.separator=:, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=US, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.allow-hbm2ddl-create=true, java.runtime.version=1.8.0_31-b13, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, basedir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.current_session_context_class=thread, java.endorsed.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/endorsed, os.arch=amd64, surefire.real.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter4289193433953862512.jar, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Oracle Corporation, os.name=Linux, sun.jnu.encoding=UTF-8, java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib, surefire.test.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.connection.readOnly=false, java.specification.name=Java Platform API Specification, java.class.version=52.0, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, os.version=3.13.0-40-generic, user.home=/home/travis, user.timezone=Etc/UTC, java.awt.printerjob=sun.print.PSPrinterJob, java.specification.version=1.8, file.encoding=UTF-8, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, user.name=travis, java.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.bytecode.use_reflection_optimizer=false, hibernate.show_sql=false, java.vm.specification.version=1.8, sun.arch.data.model=64, java.home=/usr/lib/jvm/java-8-oracle/jre, sun.java.command=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter4289193433953862512.jar /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire3538921135513476424tmp /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire_97560147011166119206tmp, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.connection.url=jdbc:hsqldb:mem:testdb, java.specification.vendor=Oracle Corporation, user.language=en, awt.toolkit=sun.awt.X11.XToolkit, java.vm.info=mixed mode, java.version=1.8.0_31, java.ext.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/ext:/usr/java/packages/lib/ext, sun.boot.class.path=/usr/lib/jvm/java-8-oracle/jre/lib/resources.jar:/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar:/usr/lib/jvm/java-8-oracle/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jsse.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jce.jar:/usr/lib/jvm/java-8-oracle/jre/lib/charsets.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jfr.jar:/usr/lib/jvm/java-8-oracle/jre/classes, java.vendor=Oracle Corporation, localRepository=/home/travis/.m2/repository, file.separator=/, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, sun.cpu.endian=little, sun.io.unicode.encoding=UnicodeLittle, liquibase.changelog=/liquibase/changelog.xml, hibernate.properties=embedded, sun.cpu.isalist=}
2016-08-19 11:17:55,383 DEBUG Unable to acquire Bean Validation ValidatorFactory, skipping activation
2016-08-19 11:17:55,383 DEBUG Skipping JACC integration as it was not enabled
2016-08-19 11:17:55,384 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-19 11:17:55,385 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-19 11:17:55,385 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-19 11:17:55,386 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-19 11:17:55,386 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-08-19 11:17:55,792 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-08-19 11:17:55,792 DEBUG  Row insert: insert into user_has_role (user_id, role_id) values (?, ?)
2016-08-19 11:17:55,792 DEBUG  Row update: update user_has_role set role_id=? where user_id=? and role_id=?
2016-08-19 11:17:55,792 DEBUG  Row delete: delete from user_has_role where user_id=? and role_id=?
2016-08-19 11:17:55,792 DEBUG  One-shot delete: delete from user_has_role where user_id=?
2016-08-19 11:17:55,793 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-08-19 11:17:55,793 DEBUG  Row insert: insert into user_has_role (role_id, user_id) values (?, ?)
2016-08-19 11:17:55,794 DEBUG  Row update: update user_has_role set user_id=? where role_id=? and user_id=?
2016-08-19 11:17:55,794 DEBUG  Row delete: delete from user_has_role where role_id=? and user_id=?
2016-08-19 11:17:55,794 DEBUG  One-shot delete: delete from user_has_role where role_id=?
2016-08-19 11:17:55,896 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:55,896 DEBUG  Version select: select id from user_account where id =?
2016-08-19 11:17:55,897 DEBUG  Snapshot select: select userentity_.id, userentity_.created_ts as created_2_4_, userentity_.date_format as date_for3_4_, userentity_.email as email4_4_, userentity_.last_login_ts as last_log5_4_, userentity_.name as name6_4_, userentity_.password as password7_4_, userentity_.local_session_id as local_se8_4_, userentity_.date_timezone as date_tim9_4_ from user_account userentity_ where userentity_.id=?
2016-08-19 11:17:55,897 DEBUG  Insert 0: insert into user_account (created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-08-19 11:17:55,897 DEBUG  Update 0: update user_account set created_ts=?, date_format=?, email=?, last_login_ts=?, name=?, password=?, local_session_id=?, date_timezone=? where id=?
2016-08-19 11:17:55,897 DEBUG  Delete 0: delete from user_account where id=?
2016-08-19 11:17:55,897 DEBUG  Identity insert: insert into user_account (id, created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone) values (default, ?, ?, ?, ?, ?, ?, ?, ?)
2016-08-19 11:17:55,970 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34d45ec0]
2016-08-19 11:17:55,987 DEBUG Visiting attribute path : created
2016-08-19 11:17:55,988 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:55,988 DEBUG Visiting attribute path : email
2016-08-19 11:17:55,988 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:55,988 DEBUG Visiting attribute path : name
2016-08-19 11:17:55,988 DEBUG Visiting attribute path : password
2016-08-19 11:17:55,988 DEBUG Visiting attribute path : roles
2016-08-19 11:17:55,992 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,014 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,015 DEBUG Building LoadPlan...
2016-08-19 11:17:56,029 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,036 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,052 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [NONE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-19 11:17:56,054 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5377414a]
2016-08-19 11:17:56,054 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,055 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,055 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,055 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,055 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,055 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,056 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,056 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,056 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,056 DEBUG Building LoadPlan...
2016-08-19 11:17:56,056 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,057 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,057 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-19 11:17:56,057 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@17aa8a11]
2016-08-19 11:17:56,057 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,057 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,058 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,059 DEBUG Building LoadPlan...
2016-08-19 11:17:56,059 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,062 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,065 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,065 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18a25bbd]
2016-08-19 11:17:56,065 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,066 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,067 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,067 DEBUG Building LoadPlan...
2016-08-19 11:17:56,067 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,067 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,068 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_NOWAIT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,068 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1ee27d73]
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,069 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,070 DEBUG Building LoadPlan...
2016-08-19 11:17:56,070 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,070 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,070 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_SKIPLOCKED]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,071 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@542f6803]
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,071 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,072 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,072 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,072 DEBUG Building LoadPlan...
2016-08-19 11:17:56,072 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,073 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,086 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [FORCE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,086 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5807efad]
2016-08-19 11:17:56,086 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,086 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,086 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,087 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,087 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,087 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,087 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,087 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,087 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,088 DEBUG Building LoadPlan...
2016-08-19 11:17:56,088 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,088 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,088 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,089 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7ce85af2]
2016-08-19 11:17:56,089 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,089 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,089 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,089 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,089 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,090 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,090 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,090 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,090 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,090 DEBUG Building LoadPlan...
2016-08-19 11:17:56,090 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,091 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,106 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_WRITE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,106 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@56f730b2]
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,107 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,108 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,108 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,108 DEBUG Building LoadPlan...
2016-08-19 11:17:56,109 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,109 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,109 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-08-19 11:17:56,109 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7930ffa9]
2016-08-19 11:17:56,109 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,110 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,111 DEBUG Building LoadPlan...
2016-08-19 11:17:56,111 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,111 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,112 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-19 11:17:56,112 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@717d7587]
2016-08-19 11:17:56,112 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,112 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,112 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,112 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,113 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,114 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,114 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,114 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,114 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,114 DEBUG Building LoadPlan...
2016-08-19 11:17:56,114 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,115 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-08-19 11:17:56,115 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-19 11:17:56,132 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-19 11:17:56,133 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-08-19 11:17:56,134 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-19 11:17:56,134 DEBUG  Version select: select updated_ts from oauth_session_context where id =?
2016-08-19 11:17:56,135 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_2_, oauthsessi_.created_ts as created_3_2_, oauthsessi_.approved_scope as approved4_2_, oauthsessi_.service_id as service_6_2_, oauthsessi_.updated_ts as updated_5_2_, oauthsessi_.user_id as user_id7_2_ from oauth_session_context oauthsessi_ where oauthsessi_.id=?
2016-08-19 11:17:56,135 DEBUG  Insert 0: insert into oauth_session_context (is_active, created_ts, approved_scope, service_id, updated_ts, user_id, id) values (?, ?, ?, ?, ?, ?, ?)
2016-08-19 11:17:56,135 DEBUG  Update 0: update oauth_session_context set is_active=?, created_ts=?, approved_scope=?, service_id=?, updated_ts=?, user_id=? where id=? and updated_ts=?
2016-08-19 11:17:56,135 DEBUG  Delete 0: delete from oauth_session_context where id=? and updated_ts=?
2016-08-19 11:17:56,135 DEBUG  Identity insert: insert into oauth_session_context (id, is_active, created_ts, approved_scope, service_id, updated_ts, user_id) values (default, ?, ?, ?, ?, ?, ?)
2016-08-19 11:17:56,135 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58c1da09]
2016-08-19 11:17:56,135 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,136 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,137 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,137 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,139 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47e51549]
2016-08-19 11:17:56,141 DEBUG Visiting attribute path : service.clientSecret
2016-08-19 11:17:56,141 DEBUG Visiting attribute path : service.created
2016-08-19 11:17:56,141 DEBUG Visiting attribute path : service.enabled
2016-08-19 11:17:56,141 DEBUG Visiting attribute path : service.endpoints
2016-08-19 11:17:56,142 DEBUG Visiting attribute path : service.name
2016-08-19 11:17:56,142 DEBUG Visiting attribute path : service.owner
2016-08-19 11:17:56,142 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7e307087]
2016-08-19 11:17:56,142 DEBUG Visiting attribute path : service.owner.created
2016-08-19 11:17:56,142 DEBUG Visiting attribute path : service.owner.dateFormat
2016-08-19 11:17:56,142 DEBUG Visiting attribute path : service.owner.email
2016-08-19 11:17:56,142 DEBUG Visiting attribute path : service.owner.lastLogin
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : service.owner.name
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : service.owner.password
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : service.owner.roles
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : service.owner.timeZone
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : service.updated
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,143 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,144 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a8b81e8]
2016-08-19 11:17:56,144 DEBUG Visiting attribute path : user.created
2016-08-19 11:17:56,144 DEBUG Visiting attribute path : user.dateFormat
2016-08-19 11:17:56,144 DEBUG Visiting attribute path : user.email
2016-08-19 11:17:56,144 DEBUG Visiting attribute path : user.lastLogin
2016-08-19 11:17:56,144 DEBUG Visiting attribute path : user.name
2016-08-19 11:17:56,144 DEBUG Visiting attribute path : user.password
2016-08-19 11:17:56,145 DEBUG Visiting attribute path : user.roles
2016-08-19 11:17:56,145 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-08-19 11:17:56,145 DEBUG Visiting attribute path : user.timeZone
2016-08-19 11:17:56,145 DEBUG Building LoadPlan...
2016-08-19 11:17:56,145 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,147 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-08-19 11:17:56,147 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [NONE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-08-19 11:17:56,148 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d08edc5]
2016-08-19 11:17:56,148 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,148 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,148 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,148 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,148 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f362135]
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.clientSecret
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.created
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.enabled
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.endpoints
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.name
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.owner
2016-08-19 11:17:56,149 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bc24e72]
2016-08-19 11:17:56,149 DEBUG Visiting attribute path : service.owner.created
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.dateFormat
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.email
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.lastLogin
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.name
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.password
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.roles
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-08-19 11:17:56,150 DEBUG Visiting attribute path : service.owner.timeZone
2016-08-19 11:17:56,151 DEBUG Visiting attribute path : service.updated
2016-08-19 11:17:56,151 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,151 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,151 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7cfb4736]
2016-08-19 11:17:56,151 DEBUG Visiting attribute path : user.created
2016-08-19 11:17:56,151 DEBUG Visiting attribute path : user.dateFormat
2016-08-19 11:17:56,152 DEBUG Visiting attribute path : user.email
2016-08-19 11:17:56,152 DEBUG Visiting attribute path : user.lastLogin
2016-08-19 11:17:56,152 DEBUG Visiting attribute path : user.name
2016-08-19 11:17:56,152 DEBUG Visiting attribute path : user.password
2016-08-19 11:17:56,152 DEBUG Visiting attribute path : user.roles
2016-08-19 11:17:56,158 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-08-19 11:17:56,158 DEBUG Visiting attribute path : user.timeZone
2016-08-19 11:17:56,159 DEBUG Building LoadPlan...
2016-08-19 11:17:56,159 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,166 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-08-19 11:17:56,166 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-08-19 11:17:56,167 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53c1179a]
2016-08-19 11:17:56,167 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,167 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,167 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,167 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,167 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5034f5dd]
2016-08-19 11:17:56,167 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,168 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,168 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@31b7d869]
2016-08-19 11:17:56,168 DEBUG Building LoadPlan...
2016-08-19 11:17:56,168 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,168 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,169 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,169 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a916402]
2016-08-19 11:17:56,169 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,169 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,169 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,169 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,169 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d2a2560]
2016-08-19 11:17:56,169 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,169 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,170 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@62d1dc3c]
2016-08-19 11:17:56,170 DEBUG Building LoadPlan...
2016-08-19 11:17:56,170 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,170 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,170 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,171 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3811510]
2016-08-19 11:17:56,171 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,171 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,171 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,171 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,171 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18539cb1]
2016-08-19 11:17:56,171 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,171 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,172 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@748f93bb]
2016-08-19 11:17:56,172 DEBUG Building LoadPlan...
2016-08-19 11:17:56,173 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,174 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,174 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,174 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e7157c7]
2016-08-19 11:17:56,174 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,174 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,174 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,174 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,175 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@22d9bc14]
2016-08-19 11:17:56,175 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,175 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,175 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@346f41a9]
2016-08-19 11:17:56,175 DEBUG Building LoadPlan...
2016-08-19 11:17:56,176 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,177 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,177 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [FORCE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,177 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1084f78c]
2016-08-19 11:17:56,177 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,177 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,178 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,178 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,178 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4aa11206]
2016-08-19 11:17:56,178 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,178 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,178 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40d60f2]
2016-08-19 11:17:56,178 DEBUG Building LoadPlan...
2016-08-19 11:17:56,179 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,179 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,179 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,180 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3382cf68]
2016-08-19 11:17:56,180 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,180 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,180 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,180 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,180 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d8796c1]
2016-08-19 11:17:56,180 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,181 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,181 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e26173]
2016-08-19 11:17:56,181 DEBUG Building LoadPlan...
2016-08-19 11:17:56,182 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,182 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,183 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,183 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27be17c8]
2016-08-19 11:17:56,183 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,183 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,183 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,183 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,183 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7d21852b]
2016-08-19 11:17:56,184 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,184 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,184 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6cd98a05]
2016-08-19 11:17:56,184 DEBUG Building LoadPlan...
2016-08-19 11:17:56,185 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,185 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,185 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,185 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3b8ec001]
2016-08-19 11:17:56,185 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,185 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,186 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,186 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,186 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f6c6077]
2016-08-19 11:17:56,186 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,186 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,186 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4fc5563d]
2016-08-19 11:17:56,187 DEBUG Building LoadPlan...
2016-08-19 11:17:56,188 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,189 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,189 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,189 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@286090c]
2016-08-19 11:17:56,189 DEBUG Visiting attribute path : active
2016-08-19 11:17:56,189 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,189 DEBUG Visiting attribute path : scope
2016-08-19 11:17:56,190 DEBUG Visiting attribute path : service
2016-08-19 11:17:56,190 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3df1a1ac]
2016-08-19 11:17:56,190 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,190 DEBUG Visiting attribute path : user
2016-08-19 11:17:56,191 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58606c91]
2016-08-19 11:17:56,191 DEBUG Building LoadPlan...
2016-08-19 11:17:56,191 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,192 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-08-19 11:17:56,192 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,193 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,194 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,194 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-19 11:17:56,195 DEBUG  Version select: select updated_ts from oauth_service where id =?
2016-08-19 11:17:56,195 DEBUG  Snapshot select: select oauthservi_.id, oauthservi_.client_secret as client_s2_0_, oauthservi_.created_ts as created_3_0_, oauthservi_.is_enabled as is_enabl4_0_, oauthservi_.client_endpoints as client_e5_0_, oauthservi_.client_name as client_n6_0_, oauthservi_.owner_id as owner_id8_0_, oauthservi_.updated_ts as updated_7_0_ from oauth_service oauthservi_ where oauthservi_.id=?
2016-08-19 11:17:56,195 DEBUG  Insert 0: insert into oauth_service (client_secret, created_ts, is_enabled, client_endpoints, client_name, owner_id, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2016-08-19 11:17:56,195 DEBUG  Update 0: update oauth_service set client_secret=?, created_ts=?, is_enabled=?, client_endpoints=?, client_name=?, owner_id=?, updated_ts=? where id=? and updated_ts=?
2016-08-19 11:17:56,195 DEBUG  Delete 0: delete from oauth_service where id=? and updated_ts=?
2016-08-19 11:17:56,195 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a9cd0f8]
2016-08-19 11:17:56,196 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,196 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,196 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,196 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,196 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,198 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,199 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7be2f29a]
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.created
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.dateFormat
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.email
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.lastLogin
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.name
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.password
2016-08-19 11:17:56,199 DEBUG Visiting attribute path : owner.roles
2016-08-19 11:17:56,200 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-08-19 11:17:56,200 DEBUG Visiting attribute path : owner.timeZone
2016-08-19 11:17:56,200 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,200 DEBUG Building LoadPlan...
2016-08-19 11:17:56,201 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,236 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-08-19 11:17:56,236 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [NONE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-08-19 11:17:56,236 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c2a027c]
2016-08-19 11:17:56,236 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,237 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,237 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,237 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,237 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,237 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,237 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7d979d34]
2016-08-19 11:17:56,237 DEBUG Visiting attribute path : owner.created
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.dateFormat
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.email
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.lastLogin
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.name
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.password
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.roles
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-08-19 11:17:56,238 DEBUG Visiting attribute path : owner.timeZone
2016-08-19 11:17:56,239 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,239 DEBUG Building LoadPlan...
2016-08-19 11:17:56,239 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,239 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-08-19 11:17:56,240 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-08-19 11:17:56,240 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49cb1baf]
2016-08-19 11:17:56,240 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,241 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,241 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,241 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,241 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,241 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,241 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@77dba4cd]
2016-08-19 11:17:56,241 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,241 DEBUG Building LoadPlan...
2016-08-19 11:17:56,242 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,242 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,242 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,243 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34a2d6e0]
2016-08-19 11:17:56,243 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,243 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,243 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,243 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,243 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,243 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,243 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3458eca5]
2016-08-19 11:17:56,244 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,244 DEBUG Building LoadPlan...
2016-08-19 11:17:56,244 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,244 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,245 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_NOWAIT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,245 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e0fdb2f]
2016-08-19 11:17:56,245 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,245 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,245 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,245 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,245 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,245 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,246 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34b87182]
2016-08-19 11:17:56,246 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,246 DEBUG Building LoadPlan...
2016-08-19 11:17:56,246 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,246 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,247 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_SKIPLOCKED]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,247 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47768e74]
2016-08-19 11:17:56,247 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,247 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,247 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,247 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,248 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,248 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,248 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b5a4aed]
2016-08-19 11:17:56,254 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,254 DEBUG Building LoadPlan...
2016-08-19 11:17:56,255 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,255 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,256 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [FORCE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,256 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c991465]
2016-08-19 11:17:56,256 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,256 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,256 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,256 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,256 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,256 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,256 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f973a14]
2016-08-19 11:17:56,257 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,257 DEBUG Building LoadPlan...
2016-08-19 11:17:56,257 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,258 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,258 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,258 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76130a29]
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,259 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3451f01d]
2016-08-19 11:17:56,259 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,259 DEBUG Building LoadPlan...
2016-08-19 11:17:56,261 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,261 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,262 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_WRITE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,262 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@72503b19]
2016-08-19 11:17:56,262 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,262 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,262 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,262 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,262 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,263 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,263 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@66deec87]
2016-08-19 11:17:56,263 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,263 DEBUG Building LoadPlan...
2016-08-19 11:17:56,263 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,264 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,264 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-08-19 11:17:56,264 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d342959]
2016-08-19 11:17:56,264 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,264 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,265 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,265 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,265 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,265 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,265 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53e76c11]
2016-08-19 11:17:56,265 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,265 DEBUG Building LoadPlan...
2016-08-19 11:17:56,265 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,266 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,266 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-19 11:17:56,266 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@42cc183e]
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : clientSecret
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : enabled
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : endpoints
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : owner
2016-08-19 11:17:56,266 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a1d6ef2]
2016-08-19 11:17:56,266 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,267 DEBUG Building LoadPlan...
2016-08-19 11:17:56,267 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,267 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-08-19 11:17:56,267 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-19 11:17:56,268 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-19 11:17:56,268 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-08-19 11:17:56,269 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.RoleEntity
2016-08-19 11:17:56,269 DEBUG  Version select: select id from role_definition where id =?
2016-08-19 11:17:56,269 DEBUG  Snapshot select: select roleentity_.id, roleentity_.caption as caption2_3_ from role_definition roleentity_ where roleentity_.id=?
2016-08-19 11:17:56,269 DEBUG  Insert 0: insert into role_definition (caption, id) values (?, ?)
2016-08-19 11:17:56,269 DEBUG  Update 0: update role_definition set caption=? where id=?
2016-08-19 11:17:56,269 DEBUG  Delete 0: delete from role_definition where id=?
2016-08-19 11:17:56,269 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2721044]
2016-08-19 11:17:56,269 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,269 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,269 DEBUG Building LoadPlan...
2016-08-19 11:17:56,270 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,270 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,270 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [NONE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-19 11:17:56,270 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6aa7b67f]
2016-08-19 11:17:56,270 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,270 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,270 DEBUG Building LoadPlan...
2016-08-19 11:17:56,271 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,271 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,271 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-19 11:17:56,271 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@79aee22a]
2016-08-19 11:17:56,272 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,272 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,272 DEBUG Building LoadPlan...
2016-08-19 11:17:56,272 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,274 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,275 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,276 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@61514735]
2016-08-19 11:17:56,276 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,276 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,276 DEBUG Building LoadPlan...
2016-08-19 11:17:56,276 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,277 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,277 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_NOWAIT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,277 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@655f69da]
2016-08-19 11:17:56,277 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,277 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,277 DEBUG Building LoadPlan...
2016-08-19 11:17:56,278 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,278 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,278 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_SKIPLOCKED]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,278 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@28369db0]
2016-08-19 11:17:56,278 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,278 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,279 DEBUG Building LoadPlan...
2016-08-19 11:17:56,279 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,280 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,281 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [FORCE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,281 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e86807a]
2016-08-19 11:17:56,281 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,281 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,281 DEBUG Building LoadPlan...
2016-08-19 11:17:56,282 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,283 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,283 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,284 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@590f0c50]
2016-08-19 11:17:56,284 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,284 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,284 DEBUG Building LoadPlan...
2016-08-19 11:17:56,285 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,285 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,285 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_WRITE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,285 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3a90c13c]
2016-08-19 11:17:56,285 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,285 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,286 DEBUG Building LoadPlan...
2016-08-19 11:17:56,286 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,286 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,287 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-08-19 11:17:56,287 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@188598ad]
2016-08-19 11:17:56,287 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,287 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,287 DEBUG Building LoadPlan...
2016-08-19 11:17:56,289 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,290 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,290 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-19 11:17:56,290 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7cf78c85]
2016-08-19 11:17:56,290 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,290 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,291 DEBUG Building LoadPlan...
2016-08-19 11:17:56,291 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,291 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-08-19 11:17:56,291 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-08-19 11:17:56,295 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-08-19 11:17:56,296 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-08-19 11:17:56,296 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-19 11:17:56,296 DEBUG  Version select: select updated_ts from oauth_session where id =?
2016-08-19 11:17:56,296 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_1_, oauthsessi_.authorisation_code as authoris3_1_, oauthsessi_.context_id as context_9_1_, oauthsessi_.created_ts as created_4_1_, oauthsessi_.expires_ts as expires_5_1_, oauthsessi_.initiator_detail as initiato6_1_, oauthsessi_.current_token as current_7_1_, oauthsessi_.updated_ts as updated_8_1_ from oauth_session oauthsessi_ where oauthsessi_.id=?
2016-08-19 11:17:56,296 DEBUG  Insert 0: insert into oauth_session (is_active, authorisation_code, context_id, created_ts, expires_ts, initiator_detail, current_token, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-08-19 11:17:56,296 DEBUG  Update 0: update oauth_session set is_active=?, authorisation_code=?, context_id=?, created_ts=?, expires_ts=?, initiator_detail=?, current_token=?, updated_ts=? where id=? and updated_ts=?
2016-08-19 11:17:56,297 DEBUG  Delete 0: delete from oauth_session where id=? and updated_ts=?
2016-08-19 11:17:56,297 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5befbac1]
2016-08-19 11:17:56,300 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,301 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,301 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,301 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a565afb]
2016-08-19 11:17:56,301 DEBUG Visiting attribute path : context.active
2016-08-19 11:17:56,301 DEBUG Visiting attribute path : context.created
2016-08-19 11:17:56,301 DEBUG Visiting attribute path : context.scope
2016-08-19 11:17:56,301 DEBUG Visiting attribute path : context.service
2016-08-19 11:17:56,302 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@949c598]
2016-08-19 11:17:56,302 DEBUG Visiting attribute path : context.service.clientSecret
2016-08-19 11:17:56,302 DEBUG Visiting attribute path : context.service.created
2016-08-19 11:17:56,302 DEBUG Visiting attribute path : context.service.enabled
2016-08-19 11:17:56,302 DEBUG Visiting attribute path : context.service.endpoints
2016-08-19 11:17:56,302 DEBUG Visiting attribute path : context.service.name
2016-08-19 11:17:56,302 DEBUG Visiting attribute path : context.service.owner
2016-08-19 11:17:56,303 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bfaa0a6]
2016-08-19 11:17:56,303 DEBUG Visiting attribute path : context.service.owner.created
2016-08-19 11:17:56,303 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-08-19 11:17:56,303 DEBUG Visiting attribute path : context.service.owner.email
2016-08-19 11:17:56,303 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.service.owner.name
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.service.owner.password
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.service.owner.roles
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.service.updated
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.updated
2016-08-19 11:17:56,304 DEBUG Visiting attribute path : context.user
2016-08-19 11:17:56,305 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@314b9e4b]
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.created
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.dateFormat
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.email
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.lastLogin
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.name
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.password
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.roles
2016-08-19 11:17:56,305 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-08-19 11:17:56,306 DEBUG Visiting attribute path : context.user.timeZone
2016-08-19 11:17:56,306 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,306 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,306 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,306 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,306 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,306 DEBUG Building LoadPlan...
2016-08-19 11:17:56,307 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,310 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-08-19 11:17:56,310 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [NONE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-08-19 11:17:56,311 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@51dae791]
2016-08-19 11:17:56,311 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,311 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,311 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,312 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5de5e95]
2016-08-19 11:17:56,312 DEBUG Visiting attribute path : context.active
2016-08-19 11:17:56,312 DEBUG Visiting attribute path : context.created
2016-08-19 11:17:56,312 DEBUG Visiting attribute path : context.scope
2016-08-19 11:17:56,312 DEBUG Visiting attribute path : context.service
2016-08-19 11:17:56,312 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@303c55fa]
2016-08-19 11:17:56,313 DEBUG Visiting attribute path : context.service.clientSecret
2016-08-19 11:17:56,313 DEBUG Visiting attribute path : context.service.created
2016-08-19 11:17:56,313 DEBUG Visiting attribute path : context.service.enabled
2016-08-19 11:17:56,313 DEBUG Visiting attribute path : context.service.endpoints
2016-08-19 11:17:56,313 DEBUG Visiting attribute path : context.service.name
2016-08-19 11:17:56,314 DEBUG Visiting attribute path : context.service.owner
2016-08-19 11:17:56,314 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7eb200ce]
2016-08-19 11:17:56,314 DEBUG Visiting attribute path : context.service.owner.created
2016-08-19 11:17:56,314 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-08-19 11:17:56,314 DEBUG Visiting attribute path : context.service.owner.email
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.owner.name
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.owner.password
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.owner.roles
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.service.updated
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.updated
2016-08-19 11:17:56,315 DEBUG Visiting attribute path : context.user
2016-08-19 11:17:56,316 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7c2924d7]
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.created
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.dateFormat
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.email
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.lastLogin
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.name
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.password
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.roles
2016-08-19 11:17:56,316 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-08-19 11:17:56,317 DEBUG Visiting attribute path : context.user.timeZone
2016-08-19 11:17:56,317 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,317 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,317 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,317 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,318 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,318 DEBUG Building LoadPlan...
2016-08-19 11:17:56,318 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,319 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-08-19 11:17:56,319 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-08-19 11:17:56,320 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6587305a]
2016-08-19 11:17:56,320 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,320 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,320 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,320 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f81621c]
2016-08-19 11:17:56,321 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,321 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,321 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,321 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,321 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,321 DEBUG Building LoadPlan...
2016-08-19 11:17:56,322 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,323 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,323 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,323 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b9499fe]
2016-08-19 11:17:56,324 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,324 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,324 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,324 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@52a33c3f]
2016-08-19 11:17:56,324 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,324 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,324 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,325 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,325 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,325 DEBUG Building LoadPlan...
2016-08-19 11:17:56,325 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,326 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,326 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,326 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@668625f5]
2016-08-19 11:17:56,326 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,326 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,327 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,327 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@75babb67]
2016-08-19 11:17:56,327 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,327 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,327 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,327 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,327 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,327 DEBUG Building LoadPlan...
2016-08-19 11:17:56,328 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,329 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,329 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,330 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3eb3232b]
2016-08-19 11:17:56,331 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,331 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,331 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,331 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@60bb7995]
2016-08-19 11:17:56,332 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,332 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,332 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,332 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,332 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,332 DEBUG Building LoadPlan...
2016-08-19 11:17:56,332 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,333 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,333 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [FORCE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,333 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40fa8766]
2016-08-19 11:17:56,333 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,333 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,334 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,334 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@663f237a]
2016-08-19 11:17:56,334 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,334 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,334 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,334 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,334 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,334 DEBUG Building LoadPlan...
2016-08-19 11:17:56,335 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,335 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,335 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,335 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d7399f9]
2016-08-19 11:17:56,335 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,336 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,336 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,336 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@14fded9d]
2016-08-19 11:17:56,336 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,336 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,336 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,336 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,337 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,337 DEBUG Building LoadPlan...
2016-08-19 11:17:56,338 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,339 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,339 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,339 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@bc6288b]
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,340 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34c70b5e]
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,340 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,341 DEBUG Building LoadPlan...
2016-08-19 11:17:56,341 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,341 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,341 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-08-19 11:17:56,341 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4f2d995e]
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,342 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6198e9b5]
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,342 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,343 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,343 DEBUG Building LoadPlan...
2016-08-19 11:17:56,343 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,344 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,344 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,344 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d099323]
2016-08-19 11:17:56,344 DEBUG Visiting attribute path : alive
2016-08-19 11:17:56,344 DEBUG Visiting attribute path : authorisationCode
2016-08-19 11:17:56,344 DEBUG Visiting attribute path : context
2016-08-19 11:17:56,344 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@10947c4e]
2016-08-19 11:17:56,345 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,345 DEBUG Visiting attribute path : expires
2016-08-19 11:17:56,345 DEBUG Visiting attribute path : initiator
2016-08-19 11:17:56,345 DEBUG Visiting attribute path : token
2016-08-19 11:17:56,345 DEBUG Visiting attribute path : updated
2016-08-19 11:17:56,345 DEBUG Building LoadPlan...
2016-08-19 11:17:56,345 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,347 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-08-19 11:17:56,347 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,347 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,347 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-08-19 11:17:56,358 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@939ff41]
2016-08-19 11:17:56,358 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6e0e5dec]
2016-08-19 11:17:56,360 DEBUG Visiting attribute path : caption
2016-08-19 11:17:56,360 DEBUG Visiting attribute path : members
2016-08-19 11:17:56,361 DEBUG Property path deemed to be circular : members
2016-08-19 11:17:56,362 DEBUG Building LoadPlan...
2016-08-19 11:17:56,365 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,366 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.UserEntity.roles, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
          - SQL table alias mapping - roles0_
          - alias suffix - 0_
          - suffixed key columns - {user_id2_4_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_3_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
                - SQL table alias mapping - roleentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_3_1_}

2016-08-19 11:17:56,366 DEBUG Static select for collection com.peterphi.usermanager.db.entity.UserEntity.roles: select roles0_.user_id as user_id2_4_0_, roles0_.role_id as role_id1_5_0_, roleentity1_.id as id1_3_1_, roleentity1_.caption as caption2_3_1_ from user_has_role roles0_ inner join role_definition roleentity1_ on roles0_.role_id=roleentity1_.id where roles0_.user_id=?
2016-08-19 11:17:56,367 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@695c938d]
2016-08-19 11:17:56,367 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d5bb1c4]
2016-08-19 11:17:56,367 DEBUG Visiting attribute path : created
2016-08-19 11:17:56,367 DEBUG Visiting attribute path : dateFormat
2016-08-19 11:17:56,367 DEBUG Visiting attribute path : email
2016-08-19 11:17:56,367 DEBUG Visiting attribute path : lastLogin
2016-08-19 11:17:56,367 DEBUG Visiting attribute path : name
2016-08-19 11:17:56,367 DEBUG Visiting attribute path : password
2016-08-19 11:17:56,368 DEBUG Visiting attribute path : roles
2016-08-19 11:17:56,368 DEBUG Property path deemed to be circular : roles
2016-08-19 11:17:56,368 DEBUG Visiting attribute path : sessionReconnectKey
2016-08-19 11:17:56,368 DEBUG Visiting attribute path : timeZone
2016-08-19 11:17:56,368 DEBUG Building LoadPlan...
2016-08-19 11:17:56,368 DEBUG processing queryspace <gen:0>
2016-08-19 11:17:56,369 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.RoleEntity.members, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
          - SQL table alias mapping - members0_
          - alias suffix - 0_
          - suffixed key columns - {role_id1_3_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_4_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-08-19 11:17:56,369 DEBUG Static select for collection com.peterphi.usermanager.db.entity.RoleEntity.members: select members0_.role_id as role_id1_3_0_, members0_.user_id as user_id2_5_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from user_has_role members0_ inner join user_account userentity1_ on members0_.user_id=userentity1_.id where members0_.role_id=? order by userentity1_.id desc
2016-08-19 11:17:56,373 DEBUG Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@1f1cddf3
2016-08-19 11:17:56,376 DEBUG Registering SessionFactory: 6420dc74-9cc1-41b1-9d27-56dd965b1b65 (<unnamed>)
2016-08-19 11:17:56,377 DEBUG Not binding SessionFactory to JNDI, no JNDI name configured
2016-08-19 11:17:56,377 DEBUG Instantiated session factory
2016-08-19 11:17:56,381 DEBUG Checking 0 named HQL queries
2016-08-19 11:17:56,381 DEBUG Checking 0 named SQL queries
2016-08-19 11:17:56,389 DEBUG Statistics initialized [enabled=false]
2016-08-19 11:17:56,396 DEBUG Known entities: [com.peterphi.usermanager.db.entity.UserEntity, com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, com.peterphi.usermanager.db.entity.OAuthServiceEntity, com.peterphi.usermanager.db.entity.RoleEntity, com.peterphi.usermanager.db.entity.OAuthSessionEntity]
2016-08-19 11:17:56,397 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:56,399 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-08-19 11:17:56,408 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-08-19 11:17:56,409 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-08-19 11:17:56,409 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-19 11:17:56,409 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-19 11:17:56,410 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-08-19 11:17:56,410 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-08-19 11:17:56,410 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-19 11:17:56,410 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-08-19 11:17:56,568 DEBUG begin
2016-08-19 11:17:56,568 DEBUG Obtaining JDBC connection
2016-08-19 11:17:56,568 DEBUG Obtained JDBC connection
2016-08-19 11:17:57,254 DEBUG initial autocommit status: false
2016-08-19 11:17:57,337 DEBUG select this_.id as id1_4_0_, this_.created_ts as created_2_4_0_, this_.date_format as date_for3_4_0_, this_.email as email4_4_0_, this_.last_login_ts as last_log5_4_0_, this_.name as name6_4_0_, this_.password as password7_4_0_, this_.local_session_id as local_se8_4_0_, this_.date_timezone as date_tim9_4_0_ from user_account this_
2016-08-19 11:17:57,366 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-19 11:17:57,367 DEBUG rolling back
2016-08-19 11:17:57,367 DEBUG rolled JDBC Connection
2016-08-19 11:17:57,367 DEBUG Releasing JDBC connection
2016-08-19 11:17:57,367 DEBUG Released JDBC connection
2016-08-19 11:17:57,371 DEBUG begin
2016-08-19 11:17:57,378 DEBUG Obtaining JDBC connection
2016-08-19 11:17:57,378 DEBUG Obtained JDBC connection
2016-08-19 11:17:57,379 DEBUG initial autocommit status: false
2016-08-19 11:17:57,379 DEBUG select this_.id as id1_3_0_, this_.caption as caption2_3_0_ from role_definition this_
2016-08-19 11:17:57,384 DEBUG Result set row: 0
2016-08-19 11:17:57,386 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-08-19 11:17:57,391 DEBUG Result set row: 1
2016-08-19 11:17:57,392 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-08-19 11:17:57,392 DEBUG Result set row: 2
2016-08-19 11:17:57,392 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-08-19 11:17:57,392 DEBUG Result set row: 3
2016-08-19 11:17:57,392 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-08-19 11:17:57,392 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-08-19 11:17:57,401 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-08-19 11:17:57,401 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-08-19 11:17:57,401 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-08-19 11:17:57,401 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-08-19 11:17:57,401 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-08-19 11:17:57,402 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-08-19 11:17:57,402 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-08-19 11:17:57,402 DEBUG Transformed: 4 rows to: 4 distinct results
2016-08-19 11:17:57,402 DEBUG rolling back
2016-08-19 11:17:57,402 DEBUG rolled JDBC Connection
2016-08-19 11:17:57,403 DEBUG Releasing JDBC connection
2016-08-19 11:17:57,403 DEBUG Released JDBC connection
2016-08-19 11:17:57,404 DEBUG begin
2016-08-19 11:17:57,404 DEBUG Obtaining JDBC connection
2016-08-19 11:17:57,404 DEBUG Obtained JDBC connection
2016-08-19 11:17:57,404 DEBUG initial autocommit status: false
2016-08-19 11:17:57,406 DEBUG select this_.id as id1_0_1_, this_.client_secret as client_s2_0_1_, this_.created_ts as created_3_0_1_, this_.is_enabled as is_enabl4_0_1_, this_.client_endpoints as client_e5_0_1_, this_.client_name as client_n6_0_1_, this_.owner_id as owner_id8_0_1_, this_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from oauth_service this_ inner join user_account userentity2_ on this_.owner_id=userentity2_.id
2016-08-19 11:17:57,424 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-19 11:17:57,424 DEBUG rolling back
2016-08-19 11:17:57,424 DEBUG rolled JDBC Connection
2016-08-19 11:17:57,424 DEBUG Releasing JDBC connection
2016-08-19 11:17:57,424 DEBUG Released JDBC connection
2016-08-19 11:17:57,425 DEBUG begin
2016-08-19 11:17:57,425 DEBUG Obtaining JDBC connection
2016-08-19 11:17:57,425 DEBUG Obtained JDBC connection
2016-08-19 11:17:57,425 DEBUG initial autocommit status: false
2016-08-19 11:17:57,426 DEBUG select this_.id as id1_1_4_, this_.is_active as is_activ2_1_4_, this_.authorisation_code as authoris3_1_4_, this_.context_id as context_9_1_4_, this_.created_ts as created_4_1_4_, this_.expires_ts as expires_5_1_4_, this_.initiator_detail as initiato6_1_4_, this_.current_token as current_7_1_4_, this_.updated_ts as updated_8_1_4_, oauthsessi2_.id as id1_2_0_, oauthsessi2_.is_active as is_activ2_2_0_, oauthsessi2_.created_ts as created_3_2_0_, oauthsessi2_.approved_scope as approved4_2_0_, oauthsessi2_.service_id as service_6_2_0_, oauthsessi2_.updated_ts as updated_5_2_0_, oauthsessi2_.user_id as user_id7_2_0_, oauthservi3_.id as id1_0_1_, oauthservi3_.client_secret as client_s2_0_1_, oauthservi3_.created_ts as created_3_0_1_, oauthservi3_.is_enabled as is_enabl4_0_1_, oauthservi3_.client_endpoints as client_e5_0_1_, oauthservi3_.client_name as client_n6_0_1_, oauthservi3_.owner_id as owner_id8_0_1_, oauthservi3_.updated_ts as updated_7_0_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_, userentity5_.id as id1_4_3_, userentity5_.created_ts as created_2_4_3_, userentity5_.date_format as date_for3_4_3_, userentity5_.email as email4_4_3_, userentity5_.last_login_ts as last_log5_4_3_, userentity5_.name as name6_4_3_, userentity5_.password as password7_4_3_, userentity5_.local_session_id as local_se8_4_3_, userentity5_.date_timezone as date_tim9_4_3_ from oauth_session this_ inner join oauth_session_context oauthsessi2_ on this_.context_id=oauthsessi2_.id left outer join oauth_service oauthservi3_ on oauthsessi2_.service_id=oauthservi3_.id left outer join user_account userentity4_ on oauthservi3_.owner_id=userentity4_.id left outer join user_account userentity5_ on oauthsessi2_.user_id=userentity5_.id
2016-08-19 11:17:57,427 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-19 11:17:57,427 DEBUG rolling back
2016-08-19 11:17:57,427 DEBUG rolled JDBC Connection
2016-08-19 11:17:57,427 DEBUG Releasing JDBC connection
2016-08-19 11:17:57,427 DEBUG Released JDBC connection
2016-08-19 11:17:57,427 DEBUG begin
2016-08-19 11:17:57,427 DEBUG Obtaining JDBC connection
2016-08-19 11:17:57,427 DEBUG Obtained JDBC connection
2016-08-19 11:17:57,427 DEBUG initial autocommit status: false
2016-08-19 11:17:57,428 DEBUG select this_.id as id1_2_3_, this_.is_active as is_activ2_2_3_, this_.created_ts as created_3_2_3_, this_.approved_scope as approved4_2_3_, this_.service_id as service_6_2_3_, this_.updated_ts as updated_5_2_3_, this_.user_id as user_id7_2_3_, oauthservi2_.id as id1_0_0_, oauthservi2_.client_secret as client_s2_0_0_, oauthservi2_.created_ts as created_3_0_0_, oauthservi2_.is_enabled as is_enabl4_0_0_, oauthservi2_.client_endpoints as client_e5_0_0_, oauthservi2_.client_name as client_n6_0_0_, oauthservi2_.owner_id as owner_id8_0_0_, oauthservi2_.updated_ts as updated_7_0_0_, userentity3_.id as id1_4_1_, userentity3_.created_ts as created_2_4_1_, userentity3_.date_format as date_for3_4_1_, userentity3_.email as email4_4_1_, userentity3_.last_login_ts as last_log5_4_1_, userentity3_.name as name6_4_1_, userentity3_.password as password7_4_1_, userentity3_.local_session_id as local_se8_4_1_, userentity3_.date_timezone as date_tim9_4_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_ from oauth_session_context this_ inner join oauth_service oauthservi2_ on this_.service_id=oauthservi2_.id left outer join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on this_.user_id=userentity4_.id
2016-08-19 11:17:57,429 DEBUG Transformed: 0 rows to: 0 distinct results
2016-08-19 11:17:57,429 DEBUG rolling back
2016-08-19 11:17:57,429 DEBUG rolled JDBC Connection
2016-08-19 11:17:57,429 DEBUG Releasing JDBC connection
2016-08-19 11:17:57,429 DEBUG Released JDBC connection
2016-08-19 11:17:57,434  INFO Shutting down 1 service(s)
2016-08-19 11:17:57,434 DEBUG Requesting shutdown of com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@4a23350
2016-08-19 11:17:57,434  INFO Shut down Hibernate SessionFactory...
2016-08-19 11:17:57,434 DEBUG begin
2016-08-19 11:17:57,435 DEBUG Obtaining JDBC connection
2016-08-19 11:17:57,435 DEBUG Obtained JDBC connection
2016-08-19 11:17:57,435 DEBUG initial autocommit status: false
2016-08-19 11:17:57,436 DEBUG committing
2016-08-19 11:17:57,440 DEBUG committed JDBC Connection
2016-08-19 11:17:57,440 DEBUG Releasing JDBC connection
2016-08-19 11:17:57,440 DEBUG Released JDBC connection
2016-08-19 11:17:57,440 DEBUG HHH000031: Closing
2016-08-19 11:17:57,441 DEBUG Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2016-08-19 11:17:57,441  INFO HHH000030: Cleaning up connection pool [jdbc:hsqldb:mem:testdb]
2016-08-19 11:17:57,442 DEBUG Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2016-08-19 11:17:57,442  INFO Shutdown complete
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.346 sec - in com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.881 s]
[INFO] stdlib ............................................. SUCCESS [  6.881 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.052 s]
[INFO] stdlib guice common ................................ SUCCESS [  5.573 s]
[INFO] user-manager ....................................... SUCCESS [  0.004 s]
[INFO] user manager rest api .............................. SUCCESS [  0.028 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  0.923 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.103 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.045 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  2.817 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [ 16.437 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  4.277 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  6.614 s]
[INFO] carbon client ...................................... SUCCESS [  0.998 s]
[INFO] configuration ...................................... SUCCESS [  0.013 s]
[INFO] Configuration Service .............................. SUCCESS [  2.256 s]
[INFO] user manager service ............................... SUCCESS [  9.315 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:00 min
[INFO] Finished at: 2016-08-19T11:17:57+00:00
[INFO] Final Memory: 18M/345M
[INFO] ------------------------------------------------------------------------

travis_time:end:026b1592:start=1471605416067284579,finish=1471605479144703289,duration=63077418710[0K
[32;1mThe command "mvn test -B" exited with 0.[0m
travis_fold:start:before_cache[0Ktravis_time:start:287681ea[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory

travis_time:end:287681ea:start=1471605479149352008,finish=1471605479153792871,duration=4440863[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:04f322aa[0K
travis_time:end:04f322aa:start=1471605479158054565,finish=1471605479161450345,duration=3395780[0Ktravis_time:start:009e8464[0K[32;1mchange detected (content changed, file is created, or file is deleted):
/home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.4-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.4-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/config-parent/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/configuration-9.1.4-SNAPSHOT.war
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/configuration/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.4-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.4-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/
[0m
[32;1m...
[0m
[32;1mchanges detected, packing new archive[0m
.
.
.
.
.
[32;1muploading archive[0m

travis_time:end:009e8464:start=1471605479165427971,finish=1471605521104364486,duration=41938936515[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
