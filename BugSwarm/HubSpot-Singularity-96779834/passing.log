Using worker: worker-linux-docker-3fb5d3c6.prod.travis-ci.org:travis-linux-4

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:git.checkout[0Ktravis_time:start:01b17702[0K$ git clone --depth=100 --branch=expose-killed-tasks https://github.com/HubSpot/Singularity.git HubSpot/Singularity
Cloning into 'HubSpot/Singularity'...
remote: Counting objects: 24816, done.[K
remote: Compressing objects:   0% (1/7478)   [Kremote: Compressing objects:   1% (75/7478)   [Kremote: Compressing objects:   2% (150/7478)   [Kremote: Compressing objects:   3% (225/7478)   [Kremote: Compressing objects:   4% (300/7478)   [Kremote: Compressing objects:   5% (374/7478)   [Kremote: Compressing objects:   6% (449/7478)   [Kremote: Compressing objects:   7% (524/7478)   [Kremote: Compressing objects:   8% (599/7478)   [Kremote: Compressing objects:   9% (674/7478)   [Kremote: Compressing objects:  10% (748/7478)   [Kremote: Compressing objects:  11% (823/7478)   [Kremote: Compressing objects:  12% (898/7478)   [Kremote: Compressing objects:  13% (973/7478)   [Kremote: Compressing objects:  14% (1047/7478)   [Kremote: Compressing objects:  15% (1122/7478)   [Kremote: Compressing objects:  16% (1197/7478)   [Kremote: Compressing objects:  17% (1272/7478)   [Kremote: Compressing objects:  18% (1347/7478)   [Kremote: Compressing objects:  19% (1421/7478)   [Kremote: Compressing objects:  20% (1496/7478)   [Kremote: Compressing objects:  21% (1571/7478)   [Kremote: Compressing objects:  22% (1646/7478)   [Kremote: Compressing objects:  23% (1720/7478)   [Kremote: Compressing objects:  24% (1795/7478)   [Kremote: Compressing objects:  25% (1870/7478)   [Kremote: Compressing objects:  26% (1945/7478)   [Kremote: Compressing objects:  27% (2020/7478)   [Kremote: Compressing objects:  28% (2094/7478)   [Kremote: Compressing objects:  29% (2169/7478)   [Kremote: Compressing objects:  30% (2244/7478)   [Kremote: Compressing objects:  31% (2319/7478)   [Kremote: Compressing objects:  32% (2393/7478)   [Kremote: Compressing objects:  33% (2468/7478)   [Kremote: Compressing objects:  34% (2543/7478)   [Kremote: Compressing objects:  35% (2618/7478)   [Kremote: Compressing objects:  36% (2693/7478)   [Kremote: Compressing objects:  37% (2767/7478)   [Kremote: Compressing objects:  38% (2842/7478)   [Kremote: Compressing objects:  39% (2917/7478)   [Kremote: Compressing objects:  40% (2992/7478)   [Kremote: Compressing objects:  41% (3066/7478)   [Kremote: Compressing objects:  42% (3141/7478)   [Kremote: Compressing objects:  43% (3216/7478)   [Kremote: Compressing objects:  44% (3291/7478)   [Kremote: Compressing objects:  45% (3366/7478)   [Kremote: Compressing objects:  46% (3440/7478)   [Kremote: Compressing objects:  47% (3515/7478)   [Kremote: Compressing objects:  48% (3590/7478)   [Kremote: Compressing objects:  49% (3665/7478)   [Kremote: Compressing objects:  50% (3739/7478)   [Kremote: Compressing objects:  51% (3814/7478)   [Kremote: Compressing objects:  52% (3889/7478)   [Kremote: Compressing objects:  53% (3964/7478)   [Kremote: Compressing objects:  54% (4039/7478)   [Kremote: Compressing objects:  55% (4113/7478)   [Kremote: Compressing objects:  56% (4188/7478)   [Kremote: Compressing objects:  57% (4263/7478)   [Kremote: Compressing objects:  58% (4338/7478)   [Kremote: Compressing objects:  59% (4413/7478)   [Kremote: Compressing objects:  60% (4487/7478)   [Kremote: Compressing objects:  61% (4562/7478)   [Kremote: Compressing objects:  62% (4637/7478)   [Kremote: Compressing objects:  63% (4712/7478)   [Kremote: Compressing objects:  64% (4786/7478)   [Kremote: Compressing objects:  65% (4861/7478)   [Kremote: Compressing objects:  66% (4936/7478)   [Kremote: Compressing objects:  67% (5011/7478)   [Kremote: Compressing objects:  68% (5086/7478)   [Kremote: Compressing objects:  69% (5160/7478)   [Kremote: Compressing objects:  70% (5235/7478)   [Kremote: Compressing objects:  71% (5310/7478)   [Kremote: Compressing objects:  72% (5385/7478)   [Kremote: Compressing objects:  73% (5459/7478)   [Kremote: Compressing objects:  74% (5534/7478)   [Kremote: Compressing objects:  75% (5609/7478)   [Kremote: Compressing objects:  76% (5684/7478)   [Kremote: Compressing objects:  77% (5759/7478)   [Kremote: Compressing objects:  78% (5833/7478)   [Kremote: Compressing objects:  79% (5908/7478)   [Kremote: Compressing objects:  80% (5983/7478)   [Kremote: Compressing objects:  81% (6058/7478)   [Kremote: Compressing objects:  82% (6132/7478)   [Kremote: Compressing objects:  83% (6207/7478)   [Kremote: Compressing objects:  84% (6282/7478)   [Kremote: Compressing objects:  85% (6357/7478)   [Kremote: Compressing objects:  86% (6432/7478)   [Kremote: Compressing objects:  87% (6506/7478)   [Kremote: Compressing objects:  88% (6581/7478)   [Kremote: Compressing objects:  89% (6656/7478)   [Kremote: Compressing objects:  90% (6731/7478)   [Kremote: Compressing objects:  91% (6805/7478)   [Kremote: Compressing objects:  92% (6880/7478)   [Kremote: Compressing objects:  93% (6955/7478)   [Kremote: Compressing objects:  94% (7030/7478)   [Kremote: Compressing objects:  95% (7105/7478)   [Kremote: Compressing objects:  96% (7179/7478)   [Kremote: Compressing objects:  97% (7254/7478)   [Kremote: Compressing objects:  98% (7329/7478)   [Kremote: Compressing objects:  99% (7404/7478)   [Kremote: Compressing objects: 100% (7478/7478)   [Kremote: Compressing objects: 100% (7478/7478), done.[K
Receiving objects:   0% (1/24816)   Receiving objects:   1% (249/24816)   Receiving objects:   2% (497/24816)   Receiving objects:   3% (745/24816)   Receiving objects:   4% (993/24816)   Receiving objects:   5% (1241/24816)   Receiving objects:   6% (1489/24816)   Receiving objects:   7% (1738/24816)   Receiving objects:   8% (1986/24816)   Receiving objects:   9% (2234/24816)   Receiving objects:  10% (2482/24816)   Receiving objects:  11% (2730/24816)   Receiving objects:  12% (2978/24816)   Receiving objects:  13% (3227/24816)   Receiving objects:  14% (3475/24816)   Receiving objects:  15% (3723/24816)   Receiving objects:  16% (3971/24816)   Receiving objects:  17% (4219/24816)   Receiving objects:  18% (4467/24816)   Receiving objects:  19% (4716/24816)   Receiving objects:  20% (4964/24816)   Receiving objects:  21% (5212/24816)   Receiving objects:  22% (5460/24816)   Receiving objects:  23% (5708/24816)   Receiving objects:  24% (5956/24816)   Receiving objects:  25% (6204/24816)   Receiving objects:  26% (6453/24816)   Receiving objects:  27% (6701/24816)   Receiving objects:  28% (6949/24816)   Receiving objects:  29% (7197/24816)   Receiving objects:  30% (7445/24816)   Receiving objects:  31% (7693/24816)   Receiving objects:  32% (7942/24816)   Receiving objects:  33% (8190/24816)   Receiving objects:  34% (8438/24816)   Receiving objects:  35% (8686/24816)   Receiving objects:  36% (8934/24816)   Receiving objects:  37% (9182/24816)   Receiving objects:  38% (9431/24816)   Receiving objects:  39% (9679/24816)   Receiving objects:  40% (9927/24816)   Receiving objects:  41% (10175/24816)   Receiving objects:  42% (10423/24816)   Receiving objects:  43% (10671/24816)   Receiving objects:  44% (10920/24816)   Receiving objects:  45% (11168/24816)   Receiving objects:  46% (11416/24816)   Receiving objects:  47% (11664/24816)   Receiving objects:  48% (11912/24816)   Receiving objects:  49% (12160/24816)   Receiving objects:  50% (12408/24816)   Receiving objects:  51% (12657/24816)   Receiving objects:  52% (12905/24816)   Receiving objects:  53% (13153/24816)   Receiving objects:  54% (13401/24816)   Receiving objects:  55% (13649/24816)   Receiving objects:  56% (13897/24816)   Receiving objects:  57% (14146/24816)   Receiving objects:  58% (14394/24816)   Receiving objects:  59% (14642/24816)   Receiving objects:  60% (14890/24816)   Receiving objects:  61% (15138/24816)   Receiving objects:  62% (15386/24816)   Receiving objects:  63% (15635/24816)   Receiving objects:  64% (15883/24816)   Receiving objects:  65% (16131/24816)   Receiving objects:  66% (16379/24816)   Receiving objects:  67% (16627/24816)   Receiving objects:  68% (16875/24816)   Receiving objects:  69% (17124/24816)   Receiving objects:  70% (17372/24816)   Receiving objects:  71% (17620/24816)   Receiving objects:  72% (17868/24816)   Receiving objects:  73% (18116/24816)   Receiving objects:  74% (18364/24816)   Receiving objects:  75% (18612/24816)   Receiving objects:  76% (18861/24816)   Receiving objects:  77% (19109/24816)   Receiving objects:  78% (19357/24816)   Receiving objects:  79% (19605/24816)   Receiving objects:  80% (19853/24816)   Receiving objects:  81% (20101/24816)   Receiving objects:  82% (20350/24816)   Receiving objects:  83% (20598/24816)   Receiving objects:  84% (20846/24816)   Receiving objects:  85% (21094/24816)   Receiving objects:  86% (21342/24816)   Receiving objects:  87% (21590/24816)   Receiving objects:  88% (21839/24816)   Receiving objects:  89% (22087/24816)   Receiving objects:  90% (22335/24816)   Receiving objects:  91% (22583/24816)   Receiving objects:  92% (22831/24816)   Receiving objects:  93% (23079/24816)   Receiving objects:  94% (23328/24816)   Receiving objects:  95% (23576/24816)   Receiving objects:  96% (23824/24816)   Receiving objects:  97% (24072/24816)   Receiving objects:  98% (24320/24816)   remote: Total 24816 (delta 12859), reused 22932 (delta 11282), pack-reused 0[K
Receiving objects:  99% (24568/24816)   Receiving objects: 100% (24816/24816)   Receiving objects: 100% (24816/24816), 5.12 MiB | 0 bytes/s, done.
Resolving deltas:   0% (0/12859)   Resolving deltas:   1% (256/12859)   Resolving deltas:   2% (259/12859)   Resolving deltas:   3% (435/12859)   Resolving deltas:   4% (556/12859)   Resolving deltas:   5% (685/12859)   Resolving deltas:   6% (811/12859)   Resolving deltas:   7% (976/12859)   Resolving deltas:   8% (1075/12859)   Resolving deltas:   9% (1165/12859)   Resolving deltas:  10% (1303/12859)   Resolving deltas:  11% (1428/12859)   Resolving deltas:  12% (1550/12859)   Resolving deltas:  13% (1677/12859)   Resolving deltas:  14% (1869/12859)   Resolving deltas:  15% (1953/12859)   Resolving deltas:  16% (2087/12859)   Resolving deltas:  18% (2361/12859)   Resolving deltas:  19% (2536/12859)   Resolving deltas:  20% (2576/12859)   Resolving deltas:  21% (2814/12859)   Resolving deltas:  22% (2889/12859)   Resolving deltas:  23% (2961/12859)   Resolving deltas:  24% (3167/12859)   Resolving deltas:  25% (3215/12859)   Resolving deltas:  26% (3380/12859)   Resolving deltas:  27% (3517/12859)   Resolving deltas:  28% (3674/12859)   Resolving deltas:  29% (3735/12859)   Resolving deltas:  30% (3867/12859)   Resolving deltas:  31% (3987/12859)   Resolving deltas:  32% (4126/12859)   Resolving deltas:  33% (4245/12859)   Resolving deltas:  34% (4373/12859)   Resolving deltas:  35% (4502/12859)   Resolving deltas:  38% (4981/12859)   Resolving deltas:  39% (5038/12859)   Resolving deltas:  40% (5169/12859)   Resolving deltas:  41% (5325/12859)   Resolving deltas:  42% (5425/12859)   Resolving deltas:  43% (5558/12859)   Resolving deltas:  44% (5659/12859)   Resolving deltas:  45% (5805/12859)   Resolving deltas:  46% (5926/12859)   Resolving deltas:  47% (6067/12859)   Resolving deltas:  48% (6268/12859)   Resolving deltas:  49% (6316/12859)   Resolving deltas:  50% (6488/12859)   Resolving deltas:  51% (6571/12859)   Resolving deltas:  52% (6748/12859)   Resolving deltas:  53% (6835/12859)   Resolving deltas:  54% (6964/12859)   Resolving deltas:  55% (7081/12859)   Resolving deltas:  56% (7207/12859)   Resolving deltas:  57% (7382/12859)   Resolving deltas:  58% (7480/12859)   Resolving deltas:  59% (7643/12859)   Resolving deltas:  60% (7821/12859)   Resolving deltas:  61% (7905/12859)   Resolving deltas:  62% (8060/12859)   Resolving deltas:  63% (8102/12859)   Resolving deltas:  64% (8233/12859)   Resolving deltas:  65% (8372/12859)   Resolving deltas:  67% (8624/12859)   Resolving deltas:  68% (8763/12859)   Resolving deltas:  69% (8884/12859)   Resolving deltas:  70% (9022/12859)   Resolving deltas:  71% (9135/12859)   Resolving deltas:  72% (9269/12859)   Resolving deltas:  73% (9391/12859)   Resolving deltas:  74% (9532/12859)   Resolving deltas:  75% (9665/12859)   Resolving deltas:  76% (9777/12859)   Resolving deltas:  77% (9926/12859)   Resolving deltas:  78% (10033/12859)   Resolving deltas:  79% (10161/12859)   Resolving deltas:  80% (10311/12859)   Resolving deltas:  81% (10423/12859)   Resolving deltas:  82% (10562/12859)   Resolving deltas:  83% (10684/12859)   Resolving deltas:  84% (10803/12859)   Resolving deltas:  85% (10947/12859)   Resolving deltas:  86% (11064/12859)   Resolving deltas:  87% (11195/12859)   Resolving deltas:  88% (11362/12859)   Resolving deltas:  89% (11447/12859)   Resolving deltas:  90% (11575/12859)   Resolving deltas:  91% (11703/12859)   Resolving deltas:  92% (11836/12859)   Resolving deltas:  93% (11961/12859)   Resolving deltas:  94% (12108/12859)   Resolving deltas:  95% (12217/12859)   Resolving deltas:  96% (12351/12859)   Resolving deltas:  97% (12474/12859)   Resolving deltas:  98% (12607/12859)   Resolving deltas:  99% (12735/12859)   Resolving deltas: 100% (12859/12859)   Resolving deltas: 100% (12859/12859), done.
Checking connectivity... done.
travis_time:end:01b17702:start=1450111492527396433,finish=1450111494356691979,duration=1829295546[0K$ cd HubSpot/Singularity
$ git checkout -qf 2d601d16947bcaecde4fad3b5c4fd48bf6cd9d90
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee http://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m
travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0cad7cba[0K$ Installing caching utilities
travis_time:end:0cad7cba:start=1450111497814472030,finish=1450111497845983877,duration=31511847[0Ktravis_time:start:0ad67840[0Ktravis_time:end:0ad67840:start=1450111497852799627,finish=1450111497857616444,duration=4816817[0Ktravis_time:start:02a17f92[0K[32;1mattempting to download cache archive[0m
[32;1mfetching expose-killed-tasks/cache--jdk-oraclejdk8.tgz[0m
[32;1mfetching expose-killed-tasks/cache--jdk-oraclejdk8.tbz[0m
[32;1mfetching master/cache--jdk-oraclejdk8.tgz[0m
[32;1mfound cache[0m
travis_time:end:02a17f92:start=1450111497863173540,finish=1450111630281444115,duration=132418270575[0Ktravis_time:start:0a99e27e[0Ktravis_time:end:0a99e27e:start=1450111630285679785,finish=1450111630289286248,duration=3606463[0Ktravis_time:start:2c4dc9c2[0K[32;1madding /home/travis/.m2 to cache[0m
[32;1madding /home/travis/build/HubSpot/Singularity/SingularityUI/bower_components to cache[0m
[32;1madding /home/travis/build/HubSpot/Singularity/SingularityUI/node_modules to cache[0m
travis_time:end:2c4dc9c2:start=1450111630293393981,finish=1450111644863777466,duration=14570383485[0Ktravis_fold:end:cache.1[0K$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:35b514dc[0K$ mvn -Pbuild-swagger-documentation -DskipTests=true -B -q -fae install
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
     [java] Dec 14, 2015 4:48:05 PM java.util.prefs.FileSystemPreferences$1 run
     [java] INFO: Created user preferences directory.
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
travis_time:end:35b514dc:start=1450111645280644323,finish=1450112209632385971,duration=564351741648[0Ktravis_fold:end:install[0Ktravis_time:start:00884379[0K$ mvn -B -q -fae verify
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable
UNKNOWN TYPE: java.lang.Iterable

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.hubspot.singularity.mesos.SingularityMesosTaskBuilderTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.95 sec - in com.hubspot.singularity.mesos.SingularityMesosTaskBuilderTest
Running com.hubspot.singularity.SingularityS3Test
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.335 sec - in com.hubspot.singularity.SingularityS3Test
Running com.hubspot.singularity.JavaUtilsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.955 sec - in com.hubspot.singularity.JavaUtilsTest
Running com.hubspot.singularity.SingularityHistoryPurgerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.313 sec - in com.hubspot.singularity.SingularityHistoryPurgerTest
Running com.hubspot.singularity.mesos.SingularityStartupTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.683 sec - in com.hubspot.singularity.mesos.SingularityStartupTest
Running com.hubspot.singularity.scheduler.HistoryPersisterTest
17:00:06.606 [check-new-task-pool-0] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable in task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.absent(), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(true), group=Optional.absent(), readOnlyGroups=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1450101605548-2-IMMEDIATE-1450101605548, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer319"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave1"
}
hostname: "host1"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 125.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 1024.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "name"
task_id {
  value: "test-request-firstDeployId-1450101605548-2-host1-rack1"
}
slave_id {
  value: "slave1"
}
, rackId=Optional.of(rack1)], re-enqueing
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.checkExists(CuratorManager.java:105) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.exists(CuratorManager.java:118) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.isActiveTask(TaskManager.java:406) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.getTaskState(SingularityNewTaskChecker.java:228) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.checkTask(SingularityNewTaskChecker.java:201) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$100(SingularityNewTaskChecker.java:48) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:161) ~[classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:00:06.621 [check-new-task-pool-0] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable re-enqueuing task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.absent(), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(true), group=Optional.absent(), readOnlyGroups=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1450101605548-2-IMMEDIATE-1450101605548, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer319"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave1"
}
hostname: "host1"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 125.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 1024.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "name"
task_id {
  value: "test-request-firstDeployId-1450101605548-2-host1-rack1"
}
slave_id {
  value: "slave1"
}
, rackId=Optional.of(rack1)], aborting
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@4e61c0ec rejected from java.util.concurrent.ScheduledThreadPoolExecutor@70ce63b2[Shutting down, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_31]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.enqueueCheckWithDelay(SingularityNewTaskChecker.java:189) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheck(SingularityNewTaskChecker.java:183) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheckOrAbort(SingularityNewTaskChecker.java:174) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$400(SingularityNewTaskChecker.java:48) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:166) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 17.377 sec - in com.hubspot.singularity.scheduler.HistoryPersisterTest
Running com.hubspot.singularity.scheduler.MesosUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.237 sec - in com.hubspot.singularity.scheduler.MesosUtilsTest
Running com.hubspot.singularity.scheduler.SlaveTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.171 sec - in com.hubspot.singularity.scheduler.SlaveTest
Running com.hubspot.singularity.data.zkmigrations.ZkMigrationTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.546 sec - in com.hubspot.singularity.data.zkmigrations.ZkMigrationTest
Running com.hubspot.singularity.scheduler.SingularitySchedulerTest
17:00:56.374 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while saving health check result for test-request-retry_test-1450112451208-1-host1-rack1, will re-enqueue
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.create(CuratorFrameworkImpl.java:339) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.privateCreate(CuratorManager.java:178) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.save(CuratorManager.java:197) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.saveHealthcheckResult(TaskManager.java:266) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:67) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:168) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:195) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:119) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:00:56.382 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while re-enqueuing health check for test-request-retry_test-1450112451208-1-host1-rack1, aborting
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.getNumChildren(CuratorManager.java:91) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.getNumHealthchecks(TaskManager.java:370) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheck(SingularityHealthchecker.java:71) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.reEnqueueOrAbort(SingularityHealthchecker.java:133) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:83) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:168) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:195) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:119) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:01:44.091 [main] ERROR c.h.s.scheduler.SingularityCleaner - LB delete request SingularityLoadBalancerUpdate [loadBalancerState=FAILED, message=Optional.absent(), timestamp=1450112504084, uri=Optional.absent(), method=CHECK_STATE, loadBalancerRequestId=test-request-1450112504023-DELETE-1] (test-request-1450112504023-DELETE-1) got unexpected response FAILED
17:01:49.126 [main] ERROR c.h.s.scheduler.SingularityCleaner - LB removal request SingularityLoadBalancerUpdate [loadBalancerState=SUCCESS, message=Optional.absent(), timestamp=1450112509048, uri=Optional.absent(), method=CHECK_STATE, loadBalancerRequestId=test-request-firstDeployId-1450112508960-1-host1-rack1-ADD-1] (test-request-firstDeployId-1450112508960-1-host1-rack1-REMOVE-1) got unexpected response FAILED
17:01:51.651 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while saving health check result for test-request-hc_test-1450112506572-1-host1-rack1, will re-enqueue
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.create(CuratorFrameworkImpl.java:339) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.privateCreate(CuratorManager.java:178) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.save(CuratorManager.java:197) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.saveHealthcheckResult(TaskManager.java:266) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:67) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:168) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:195) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:119) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:01:51.654 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while re-enqueuing health check for test-request-hc_test-1450112506572-1-host1-rack1, aborting
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.getNumChildren(CuratorManager.java:91) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.getNumHealthchecks(TaskManager.java:370) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheck(SingularityHealthchecker.java:71) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.reEnqueueOrAbort(SingularityHealthchecker.java:133) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:83) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:168) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:195) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:119) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:02:11.757 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while saving health check result for test-request-timeout_test-1450108926630-1-host1-rack1, will re-enqueue
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.create(CuratorFrameworkImpl.java:339) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.privateCreate(CuratorManager.java:178) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.save(CuratorManager.java:197) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.saveHealthcheckResult(TaskManager.java:266) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:67) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:168) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:195) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:119) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:02:11.759 [healthcheck-pool-0] ERROR c.h.s.s.SingularityHealthchecker - Caught throwable while re-enqueuing health check for test-request-timeout_test-1450108926630-1-host1-rack1, aborting
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@2afb5c80 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@243ca7af[Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_31]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheckWithDelay(SingularityHealthchecker.java:112) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.enqueueHealthcheck(SingularityHealthchecker.java:76) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.reEnqueueOrAbort(SingularityHealthchecker.java:133) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthcheckAsyncHandler.saveResult(SingularityHealthcheckAsyncHandler.java:83) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.saveFailure(SingularityHealthchecker.java:168) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.asyncHealthcheck(SingularityHealthchecker.java:195) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker.access$100(SingularityHealthchecker.java:35) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityHealthchecker$1.run(SingularityHealthchecker.java:119) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:02:23.103 [main] ERROR c.h.s.m.SingularityMesosScheduler - Unexpected taskId task 
com.hubspot.singularity.data.transcoders.SingularityTranscoderException: java.lang.reflect.InvocationTargetException
	at com.hubspot.singularity.data.transcoders.IdTranscoder.fromString(IdTranscoder.java:44) ~[classes/:na]
	at com.hubspot.singularity.mesos.SingularityMesosScheduler.getTaskId(SingularityMesosScheduler.java:283) [classes/:na]
	at com.hubspot.singularity.mesos.SingularityMesosScheduler.statusUpdate(SingularityMesosScheduler.java:304) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularitySchedulerTest.testTaskOddities(SingularitySchedulerTest.java:1253) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_31]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_31]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_31]
	at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_31]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: java.lang.reflect.InvocationTargetException: null
	at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_31]
	at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_31]
	at com.hubspot.singularity.data.transcoders.IdTranscoder.fromString(IdTranscoder.java:42) ~[classes/:na]
	... 29 common frames omitted
Caused by: com.hubspot.singularity.InvalidSingularityTaskIdException: TaskId task was invalid (There must be at least 5 instances of - (there were 0))
	at com.hubspot.singularity.SingularityTaskId.valueOf(SingularityTaskId.java:157) ~[SingularityBase-0.4.6-SNAPSHOT.jar:na]
	... 33 common frames omitted
17:02:23.303 [main] ERROR c.h.s.m.SingularityMesosScheduler - Task test-request-firstDeployId-1450112543150-1-host1-rack1 is active but is missing task data
17:02:48.159 [check-new-task-pool-0] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable in task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.of(2), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(false), group=Optional.absent(), readOnlyGroups=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1450112445684-1-UPDATED_REQUEST-1450112445384, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer39"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave2"
}
hostname: "host2"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 20.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 20000.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "test-request"
task_id {
  value: "test-request-firstDeployId-1450112446109-1-host2-DEFAULT"
}
slave_id {
  value: "slave2"
}
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 1.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 128.0
  }
}
command {
  environment {
    variables {
      name: "INSTANCE_NO"
      value: "1"
    }
    variables {
      name: "TASK_HOST"
      value: "host2"
    }
    variables {
      name: "TASK_RACK_ID"
      value: "DEFAULT"
    }
    variables {
      name: "TASK_REQUEST_ID"
      value: "test-request"
    }
    variables {
      name: "TASK_DEPLOY_ID"
      value: "firstDeployId"
    }
    variables {
      name: "ESTIMATED_INSTANCE_COUNT"
      value: "2"
    }
  }
  value: "sleep 100"
}
, rackId=Optional.of(DEFAULT)], re-enqueing
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.checkExists(CuratorManager.java:105) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.exists(CuratorManager.java:118) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.isActiveTask(TaskManager.java:406) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.getTaskState(SingularityNewTaskChecker.java:228) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.checkTask(SingularityNewTaskChecker.java:201) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$100(SingularityNewTaskChecker.java:48) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:161) ~[classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:02:48.162 [check-new-task-pool-0] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable re-enqueuing task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.of(2), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(false), group=Optional.absent(), readOnlyGroups=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1450112445684-1-UPDATED_REQUEST-1450112445384, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer39"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave2"
}
hostname: "host2"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 20.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 20000.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "test-request"
task_id {
  value: "test-request-firstDeployId-1450112446109-1-host2-DEFAULT"
}
slave_id {
  value: "slave2"
}
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 1.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 128.0
  }
}
command {
  environment {
    variables {
      name: "INSTANCE_NO"
      value: "1"
    }
    variables {
      name: "TASK_HOST"
      value: "host2"
    }
    variables {
      name: "TASK_RACK_ID"
      value: "DEFAULT"
    }
    variables {
      name: "TASK_REQUEST_ID"
      value: "test-request"
    }
    variables {
      name: "TASK_DEPLOY_ID"
      value: "firstDeployId"
    }
    variables {
      name: "ESTIMATED_INSTANCE_COUNT"
      value: "2"
    }
  }
  value: "sleep 100"
}
, rackId=Optional.of(DEFAULT)], aborting
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@13e3875a rejected from java.util.concurrent.ScheduledThreadPoolExecutor@4eb3ef9f[Shutting down, pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_31]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.enqueueCheckWithDelay(SingularityNewTaskChecker.java:189) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheck(SingularityNewTaskChecker.java:183) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheckOrAbort(SingularityNewTaskChecker.java:174) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$400(SingularityNewTaskChecker.java:48) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:166) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:02:48.384 [check-new-task-pool-1] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable in task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.of(2), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(false), group=Optional.absent(), readOnlyGroups=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1450112447257-2-DECOMISSIONED_SLAVE_OR_RACK-1450112447206, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer284"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave2"
}
hostname: "host2"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 20.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 20000.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "test-request"
task_id {
  value: "test-request-firstDeployId-1450112447268-2-host2-DEFAULT"
}
slave_id {
  value: "slave2"
}
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 1.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 128.0
  }
}
command {
  environment {
    variables {
      name: "INSTANCE_NO"
      value: "2"
    }
    variables {
      name: "TASK_HOST"
      value: "host2"
    }
    variables {
      name: "TASK_RACK_ID"
      value: "DEFAULT"
    }
    variables {
      name: "TASK_REQUEST_ID"
      value: "test-request"
    }
    variables {
      name: "TASK_DEPLOY_ID"
      value: "firstDeployId"
    }
    variables {
      name: "ESTIMATED_INSTANCE_COUNT"
      value: "2"
    }
  }
  value: "sleep 100"
}
, rackId=Optional.of(DEFAULT)], re-enqueing
java.lang.IllegalStateException: instance must be started before calling this method
	at com.google.common.base.Preconditions.checkState(Preconditions.java:176) ~[guava-17.0.jar:na]
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkExists(CuratorFrameworkImpl.java:355) ~[curator-framework-2.8.0.jar:na]
	at com.hubspot.singularity.data.CuratorManager.checkExists(CuratorManager.java:105) ~[classes/:na]
	at com.hubspot.singularity.data.CuratorManager.exists(CuratorManager.java:118) ~[classes/:na]
	at com.hubspot.singularity.data.TaskManager.isActiveTask(TaskManager.java:406) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.getTaskState(SingularityNewTaskChecker.java:228) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.checkTask(SingularityNewTaskChecker.java:201) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$100(SingularityNewTaskChecker.java:48) ~[classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:161) ~[classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
17:02:48.387 [check-new-task-pool-1] ERROR c.h.s.s.SingularityNewTaskChecker - Uncaught throwable re-enqueuing task check for task SingularityTask [taskRequest=SingularityTaskRequest [request=SingularityRequest[id='test-request', requestType=WORKER, owners=Optional.absent(), numRetriesOnFailure=Optional.absent(), schedule=Optional.absent(), quartzSchedule=Optional.absent(), scheduleType=Optional.absent(), killOldNonLongRunningTasksAfterMillis=Optional.absent(), scheduledExpectedRuntimeMillis=Optional.absent(), waitAtLeastMillisAfterTaskFinishesForReschedule=Optional.absent(), daemon=Optional.absent(), instances=Optional.of(2), rackSensitive=Optional.absent(), rackAffinity=Optional.absent(), slavePlacement=Optional.absent(), loadBalanced=Optional.of(false), group=Optional.absent(), readOnlyGroups=Optional.absent()], deploy=SingularityDeploy{requestId='test-request', id='firstDeployId', version=Optional.absent(), timestamp=Optional.absent(), metadata=Optional.absent(), containerInfo=Optional.absent(), customExecutorCmd=Optional.absent(), customExecutorId=Optional.absent(), customExecutorSource=Optional.absent(), customExecutorResources=Optional.absent(), customExecutorUser=Optional.absent(), resources=Optional.absent(), command=Optional.of(sleep 100), arguments=Optional.absent(), env=Optional.absent(), uris=Optional.absent(), executorData=Optional.absent(), healthcheckUri=Optional.absent(), healthcheckIntervalSeconds=Optional.absent(), healthcheckTimeoutSeconds=Optional.absent(), skipHealthchecksOnDeploy=Optional.absent(), healthcheckProtocol=Optional.absent(), healthcheckMaxRetries=Optional.absent(), healthcheckMaxTotalTimeoutSeconds=Optional.absent(), deployHealthTimeoutSeconds=Optional.absent(), considerHealthyAfterRunningForSeconds=Optional.absent(), serviceBasePath=Optional.absent(), loadBalancerGroups=Optional.absent(), loadBalancerOptions=Optional.absent(), labels=Optional.absent()}, pendingTask=SingularityPendingTask [pendingTaskId=test-request-firstDeployId-1450112447257-2-DECOMISSIONED_SLAVE_OR_RACK-1450112447206, cmdLineArgsList=[], user=Optional.absent(), runId=Optional.absent()]], offer=id {
  value: "offer284"
}
framework_id {
  value: "framework1"
}
slave_id {
  value: "slave2"
}
hostname: "host2"
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 20.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 20000.0
  }
}
attributes {
  name: "rackid"
  type: TEXT
  text {
    value: "DEFAULT"
  }
}
, mesosTask=name: "test-request"
task_id {
  value: "test-request-firstDeployId-1450112447268-2-host2-DEFAULT"
}
slave_id {
  value: "slave2"
}
resources {
  name: "cpus"
  type: SCALAR
  scalar {
    value: 1.0
  }
}
resources {
  name: "mem"
  type: SCALAR
  scalar {
    value: 128.0
  }
}
command {
  environment {
    variables {
      name: "INSTANCE_NO"
      value: "2"
    }
    variables {
      name: "TASK_HOST"
      value: "host2"
    }
    variables {
      name: "TASK_RACK_ID"
      value: "DEFAULT"
    }
    variables {
      name: "TASK_REQUEST_ID"
      value: "test-request"
    }
    variables {
      name: "TASK_DEPLOY_ID"
      value: "firstDeployId"
    }
    variables {
      name: "ESTIMATED_INSTANCE_COUNT"
      value: "2"
    }
  }
  value: "sleep 100"
}
, rackId=Optional.of(DEFAULT)], aborting
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@17af7a39 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@4eb3ef9f[Shutting down, pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 1]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_31]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.enqueueCheckWithDelay(SingularityNewTaskChecker.java:189) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheck(SingularityNewTaskChecker.java:183) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.reEnqueueCheckOrAbort(SingularityNewTaskChecker.java:174) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker.access$400(SingularityNewTaskChecker.java:48) [classes/:na]
	at com.hubspot.singularity.scheduler.SingularityNewTaskChecker$1.run(SingularityNewTaskChecker.java:166) [classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_31]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_31]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]
Tests run: 50, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 140.193 sec - in com.hubspot.singularity.scheduler.SingularitySchedulerTest
Running com.hubspot.singularity.data.ValidatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.236 sec - in com.hubspot.singularity.data.ValidatorTest
Running com.hubspot.singularity.SingularityAuthorizationHelperTest
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.037 sec - in com.hubspot.singularity.SingularityAuthorizationHelperTest
Running com.hubspot.singularity.mesos.SingularityTaskShellCommandTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.014 sec - in com.hubspot.singularity.mesos.SingularityTaskShellCommandTest
Running com.hubspot.singularity.data.BlendedHistoryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.601 sec - in com.hubspot.singularity.data.BlendedHistoryTest

Results :

Tests run: 90, Failures: 0, Errors: 0, Skipped: 0


-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.hubspot.singularity.client.SingularityClientModuleTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.374 sec - in com.hubspot.singularity.client.SingularityClientModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

travis_time:end:00884379:start=1450112209636856414,finish=1450112965558934173,duration=755922077759[0K
[32;1mThe command "mvn -B -q -fae verify" exited with 0.[0m
travis_fold:start:cache.2[0Kstore build cache
travis_time:start:06621930[0Ktravis_time:end:06621930:start=1450112965563328533,finish=1450112965567007644,duration=3679111[0Ktravis_time:start:02e25eb0[0K[32;1mchange detected:
/home/travis/.m2/repository/com/google/guava/guava/resolver-status.properties
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT.sh
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT-shaded.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/EmbedSingularityExample-0.4.6-SNAPSHOT-sources.jar
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/0.4.6-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/hubspot/EmbedSingularityExample/maven-metadata-local.xml
/home/travis/.m2/repository/com/hubspot/Singularity/0.4.6-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/hubs
[0m
[32;1m...
[0m
[32;1mchanges detected, packing new archive[0m
.
.
.
.
.
.
.
.
.
.
.
[32;1muploading archive[0m
travis_time:end:02e25eb0:start=1450112965571019864,finish=1450113050670149903,duration=85099130039[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
