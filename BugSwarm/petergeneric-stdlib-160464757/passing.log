Using worker: worker-linux-docker-f3094e0b.prod.travis-ci.org:travis-linux-11

travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: 160484579
Job id: 160484580
travis-build version: ef82e8245
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_fold:start:fix.CVE-2015-7547[0K$ export DEBIAN_FRONTEND=noninteractive
W: Size of file /var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise-backports_multiverse_source_Sources.gz is not what the server reported 5886 5888
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-amd64_Packages.gz is not what the server reported 33653 36677
W: Size of file /var/lib/apt/lists/ppa.launchpad.net_ubuntugis_ppa_ubuntu_dists_precise_main_binary-i386_Packages.gz is not what the server reported 33699 36733
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  libc-bin libc-dev-bin libc6-dev
Suggested packages:
  glibc-doc
The following packages will be upgraded:
  libc-bin libc-dev-bin libc6 libc6-dev
4 upgraded, 0 newly installed, 0 to remove and 258 not upgraded.
Need to get 8,840 kB of archives.
After this operation, 14.3 kB disk space will be freed.
Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6-dev amd64 2.15-0ubuntu10.15 [2,943 kB]
Get:2 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-dev-bin amd64 2.15-0ubuntu10.15 [84.7 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc-bin amd64 2.15-0ubuntu10.15 [1,177 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main libc6 amd64 2.15-0ubuntu10.15 [4,636 kB]
Fetched 8,840 kB in 0s (35.4 MB/s)
Preconfiguring packages ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72019 files and directories currently installed.)
Preparing to replace libc6-dev 2.15-0ubuntu10.10 (using .../libc6-dev_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6-dev ...
Preparing to replace libc-dev-bin 2.15-0ubuntu10.10 (using .../libc-dev-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-dev-bin ...
Preparing to replace libc-bin 2.15-0ubuntu10.10 (using .../libc-bin_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc-bin ...
Processing triggers for man-db ...
Setting up libc-bin (2.15-0ubuntu10.15) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 72018 files and directories currently installed.)
Preparing to replace libc6 2.15-0ubuntu10.10 (using .../libc6_2.15-0ubuntu10.15_amd64.deb) ...
Unpacking replacement libc6 ...
Setting up libc6 (2.15-0ubuntu10.15) ...
Setting up libc-dev-bin (2.15-0ubuntu10.15) ...
Setting up libc6-dev (2.15-0ubuntu10.15) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
travis_fold:end:fix.CVE-2015-7547[0Kdepth=3 C = US, O = "Entrust, Inc.", OU = www.entrust.net/CPS is incorporated by reference, OU = "(c) 2006 Entrust, Inc.", CN = Entrust Root Certification Authority
verify error:num=19:self signed certificate in certificate chain
verify return:0
DONE
travis_fold:start:git.checkout[0Ktravis_time:start:2678a85d[0K$ git clone --depth=50 --branch=rules https://github.com/petergeneric/stdlib.git petergeneric/stdlib
Cloning into 'petergeneric/stdlib'...
remote: Counting objects: 2133, done.[K
remote: Compressing objects:   0% (1/1330)   [Kremote: Compressing objects:   1% (14/1330)   [Kremote: Compressing objects:   2% (27/1330)   [Kremote: Compressing objects:   3% (40/1330)   [Kremote: Compressing objects:   4% (54/1330)   [Kremote: Compressing objects:   5% (67/1330)   [Kremote: Compressing objects:   6% (80/1330)   [Kremote: Compressing objects:   7% (94/1330)   [Kremote: Compressing objects:   8% (107/1330)   [Kremote: Compressing objects:   9% (120/1330)   [Kremote: Compressing objects:  10% (133/1330)   [Kremote: Compressing objects:  11% (147/1330)   [Kremote: Compressing objects:  12% (160/1330)   [Kremote: Compressing objects:  13% (173/1330)   [Kremote: Compressing objects:  14% (187/1330)   [Kremote: Compressing objects:  15% (200/1330)   [Kremote: Compressing objects:  16% (213/1330)   [Kremote: Compressing objects:  17% (227/1330)   [Kremote: Compressing objects:  18% (240/1330)   [Kremote: Compressing objects:  19% (253/1330)   [Kremote: Compressing objects:  20% (266/1330)   [Kremote: Compressing objects:  21% (280/1330)   [Kremote: Compressing objects:  22% (293/1330)   [Kremote: Compressing objects:  23% (306/1330)   [Kremote: Compressing objects:  24% (320/1330)   [Kremote: Compressing objects:  25% (333/1330)   [Kremote: Compressing objects:  26% (346/1330)   [Kremote: Compressing objects:  27% (360/1330)   [Kremote: Compressing objects:  28% (373/1330)   [Kremote: Compressing objects:  29% (386/1330)   [Kremote: Compressing objects:  30% (399/1330)   [Kremote: Compressing objects:  31% (413/1330)   [Kremote: Compressing objects:  32% (426/1330)   [Kremote: Compressing objects:  33% (439/1330)   [Kremote: Compressing objects:  34% (453/1330)   [Kremote: Compressing objects:  35% (466/1330)   [Kremote: Compressing objects:  36% (479/1330)   [Kremote: Compressing objects:  37% (493/1330)   [Kremote: Compressing objects:  38% (506/1330)   [Kremote: Compressing objects:  39% (519/1330)   [Kremote: Compressing objects:  40% (532/1330)   [Kremote: Compressing objects:  41% (546/1330)   [Kremote: Compressing objects:  42% (559/1330)   [Kremote: Compressing objects:  43% (572/1330)   [Kremote: Compressing objects:  44% (586/1330)   [Kremote: Compressing objects:  45% (599/1330)   [Kremote: Compressing objects:  46% (612/1330)   [Kremote: Compressing objects:  47% (626/1330)   [Kremote: Compressing objects:  48% (639/1330)   [Kremote: Compressing objects:  49% (652/1330)   [Kremote: Compressing objects:  50% (665/1330)   [Kremote: Compressing objects:  51% (679/1330)   [Kremote: Compressing objects:  52% (692/1330)   [Kremote: Compressing objects:  53% (705/1330)   [Kremote: Compressing objects:  54% (719/1330)   [Kremote: Compressing objects:  55% (732/1330)   [Kremote: Compressing objects:  56% (745/1330)   [Kremote: Compressing objects:  57% (759/1330)   [Kremote: Compressing objects:  58% (772/1330)   [Kremote: Compressing objects:  59% (785/1330)   [Kremote: Compressing objects:  60% (798/1330)   [Kremote: Compressing objects:  61% (812/1330)   [Kremote: Compressing objects:  62% (825/1330)   [Kremote: Compressing objects:  63% (838/1330)   [Kremote: Compressing objects:  64% (852/1330)   [Kremote: Compressing objects:  65% (865/1330)   [Kremote: Compressing objects:  66% (878/1330)   [Kremote: Compressing objects:  67% (892/1330)   [Kremote: Compressing objects:  68% (905/1330)   [Kremote: Compressing objects:  69% (918/1330)   [Kremote: Compressing objects:  70% (931/1330)   [Kremote: Compressing objects:  71% (945/1330)   [Kremote: Compressing objects:  72% (958/1330)   [Kremote: Compressing objects:  73% (971/1330)   [Kremote: Compressing objects:  74% (985/1330)   [Kremote: Compressing objects:  75% (998/1330)   [Kremote: Compressing objects:  76% (1011/1330)   [Kremote: Compressing objects:  77% (1025/1330)   [Kremote: Compressing objects:  78% (1038/1330)   [Kremote: Compressing objects:  79% (1051/1330)   [Kremote: Compressing objects:  80% (1064/1330)   [Kremote: Compressing objects:  81% (1078/1330)   [Kremote: Compressing objects:  82% (1091/1330)   [Kremote: Compressing objects:  83% (1104/1330)   [Kremote: Compressing objects:  84% (1118/1330)   [Kremote: Compressing objects:  85% (1131/1330)   [Kremote: Compressing objects:  86% (1144/1330)   [Kremote: Compressing objects:  87% (1158/1330)   [Kremote: Compressing objects:  88% (1171/1330)   [Kremote: Compressing objects:  89% (1184/1330)   [Kremote: Compressing objects:  90% (1197/1330)   [Kremote: Compressing objects:  91% (1211/1330)   [Kremote: Compressing objects:  92% (1224/1330)   [Kremote: Compressing objects:  93% (1237/1330)   [Kremote: Compressing objects:  94% (1251/1330)   [Kremote: Compressing objects:  95% (1264/1330)   [Kremote: Compressing objects:  96% (1277/1330)   [Kremote: Compressing objects:  97% (1291/1330)   [Kremote: Compressing objects:  98% (1304/1330)   [Kremote: Compressing objects:  99% (1317/1330)   [Kremote: Compressing objects: 100% (1330/1330)   [Kremote: Compressing objects: 100% (1330/1330), done.[K
Receiving objects:   0% (1/2133)   Receiving objects:   1% (22/2133)   Receiving objects:   2% (43/2133)   Receiving objects:   3% (64/2133)   Receiving objects:   4% (86/2133)   Receiving objects:   5% (107/2133)   Receiving objects:   6% (128/2133)   Receiving objects:   7% (150/2133)   Receiving objects:   8% (171/2133)   Receiving objects:   9% (192/2133)   Receiving objects:  10% (214/2133)   Receiving objects:  11% (235/2133)   Receiving objects:  12% (256/2133)   Receiving objects:  13% (278/2133)   Receiving objects:  14% (299/2133)   Receiving objects:  15% (320/2133)   Receiving objects:  16% (342/2133)   Receiving objects:  17% (363/2133)   Receiving objects:  18% (384/2133)   Receiving objects:  19% (406/2133)   Receiving objects:  20% (427/2133)   Receiving objects:  21% (448/2133)   Receiving objects:  22% (470/2133)   Receiving objects:  23% (491/2133)   Receiving objects:  24% (512/2133)   Receiving objects:  25% (534/2133)   Receiving objects:  26% (555/2133)   Receiving objects:  27% (576/2133)   Receiving objects:  28% (598/2133)   Receiving objects:  29% (619/2133)   Receiving objects:  30% (640/2133)   Receiving objects:  31% (662/2133)   Receiving objects:  32% (683/2133)   Receiving objects:  33% (704/2133)   Receiving objects:  34% (726/2133)   Receiving objects:  35% (747/2133)   Receiving objects:  36% (768/2133)   Receiving objects:  37% (790/2133)   Receiving objects:  38% (811/2133)   Receiving objects:  39% (832/2133)   Receiving objects:  40% (854/2133)   Receiving objects:  41% (875/2133)   Receiving objects:  42% (896/2133)   Receiving objects:  43% (918/2133)   Receiving objects:  44% (939/2133)   Receiving objects:  45% (960/2133)   Receiving objects:  46% (982/2133)   Receiving objects:  47% (1003/2133)   Receiving objects:  48% (1024/2133)   Receiving objects:  49% (1046/2133)   Receiving objects:  50% (1067/2133)   Receiving objects:  51% (1088/2133)   Receiving objects:  52% (1110/2133)   Receiving objects:  53% (1131/2133)   Receiving objects:  54% (1152/2133)   Receiving objects:  55% (1174/2133)   Receiving objects:  56% (1195/2133)   Receiving objects:  57% (1216/2133)   Receiving objects:  58% (1238/2133)   Receiving objects:  59% (1259/2133)   Receiving objects:  60% (1280/2133)   Receiving objects:  61% (1302/2133)   Receiving objects:  62% (1323/2133)   Receiving objects:  63% (1344/2133)   Receiving objects:  64% (1366/2133)   Receiving objects:  65% (1387/2133)   remote: Total 2133 (delta 464), reused 1562 (delta 318), pack-reused 0[K
Receiving objects:  66% (1408/2133)   Receiving objects:  67% (1430/2133)   Receiving objects:  68% (1451/2133)   Receiving objects:  69% (1472/2133)   Receiving objects:  70% (1494/2133)   Receiving objects:  71% (1515/2133)   Receiving objects:  72% (1536/2133)   Receiving objects:  73% (1558/2133)   Receiving objects:  74% (1579/2133)   Receiving objects:  75% (1600/2133)   Receiving objects:  76% (1622/2133)   Receiving objects:  77% (1643/2133)   Receiving objects:  78% (1664/2133)   Receiving objects:  79% (1686/2133)   Receiving objects:  80% (1707/2133)   Receiving objects:  81% (1728/2133)   Receiving objects:  82% (1750/2133)   Receiving objects:  83% (1771/2133)   Receiving objects:  84% (1792/2133)   Receiving objects:  85% (1814/2133)   Receiving objects:  86% (1835/2133)   Receiving objects:  87% (1856/2133)   Receiving objects:  88% (1878/2133)   Receiving objects:  89% (1899/2133)   Receiving objects:  90% (1920/2133)   Receiving objects:  91% (1942/2133)   Receiving objects:  92% (1963/2133)   Receiving objects:  93% (1984/2133)   Receiving objects:  94% (2006/2133)   Receiving objects:  95% (2027/2133)   Receiving objects:  96% (2048/2133)   Receiving objects:  97% (2070/2133)   Receiving objects:  98% (2091/2133)   Receiving objects:  99% (2112/2133)   Receiving objects: 100% (2133/2133)   Receiving objects: 100% (2133/2133), 971.65 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/464)   Resolving deltas:  10% (49/464)   Resolving deltas:  11% (55/464)   Resolving deltas:  16% (78/464)   Resolving deltas:  17% (81/464)   Resolving deltas:  18% (84/464)   Resolving deltas:  19% (89/464)   Resolving deltas:  21% (102/464)   Resolving deltas:  23% (108/464)   Resolving deltas:  24% (113/464)   Resolving deltas:  25% (116/464)   Resolving deltas:  26% (121/464)   Resolving deltas:  27% (128/464)   Resolving deltas:  28% (130/464)   Resolving deltas:  29% (137/464)   Resolving deltas:  30% (141/464)   Resolving deltas:  31% (144/464)   Resolving deltas:  32% (151/464)   Resolving deltas:  33% (154/464)   Resolving deltas:  34% (158/464)   Resolving deltas:  35% (165/464)   Resolving deltas:  37% (174/464)   Resolving deltas:  38% (177/464)   Resolving deltas:  39% (184/464)   Resolving deltas:  40% (186/464)   Resolving deltas:  41% (192/464)   Resolving deltas:  42% (198/464)   Resolving deltas:  44% (205/464)   Resolving deltas:  45% (210/464)   Resolving deltas:  46% (214/464)   Resolving deltas:  47% (222/464)   Resolving deltas:  48% (223/464)   Resolving deltas:  49% (230/464)   Resolving deltas:  50% (232/464)   Resolving deltas:  51% (240/464)   Resolving deltas:  52% (242/464)   Resolving deltas:  53% (246/464)   Resolving deltas:  54% (251/464)   Resolving deltas:  55% (256/464)   Resolving deltas:  56% (262/464)   Resolving deltas:  57% (266/464)   Resolving deltas:  58% (270/464)   Resolving deltas:  59% (275/464)   Resolving deltas:  60% (282/464)   Resolving deltas:  63% (293/464)   Resolving deltas:  64% (297/464)   Resolving deltas:  65% (302/464)   Resolving deltas:  66% (308/464)   Resolving deltas:  67% (311/464)   Resolving deltas:  68% (316/464)   Resolving deltas:  69% (322/464)   Resolving deltas:  70% (326/464)   Resolving deltas:  71% (331/464)   Resolving deltas:  72% (335/464)   Resolving deltas:  73% (340/464)   Resolving deltas:  74% (347/464)   Resolving deltas:  75% (349/464)   Resolving deltas:  76% (355/464)   Resolving deltas:  77% (358/464)   Resolving deltas:  78% (362/464)   Resolving deltas:  79% (367/464)   Resolving deltas:  80% (373/464)   Resolving deltas:  81% (378/464)   Resolving deltas:  82% (381/464)   Resolving deltas:  83% (389/464)   Resolving deltas:  84% (392/464)   Resolving deltas:  85% (395/464)   Resolving deltas:  86% (403/464)   Resolving deltas:  87% (405/464)   Resolving deltas:  88% (409/464)   Resolving deltas:  89% (413/464)   Resolving deltas:  90% (418/464)   Resolving deltas:  91% (423/464)   Resolving deltas:  92% (429/464)   Resolving deltas:  93% (432/464)   Resolving deltas:  94% (439/464)   Resolving deltas:  95% (441/464)   Resolving deltas:  97% (453/464)   Resolving deltas:  98% (455/464)   Resolving deltas:  99% (461/464)   Resolving deltas: 100% (464/464)   Resolving deltas: 100% (464/464), done.
Checking connectivity... done.

travis_time:end:2678a85d:start=1474041127550113367,finish=1474041130495569807,duration=2945456440[0K$ cd petergeneric/stdlib
$ git checkout -qf 09730a2d8e40dc36d5fa727c25304f86390ed8eb
travis_fold:end:git.checkout[0K
[33;1mThis job is running on container-based infrastructure, which does not allow use of 'sudo', setuid and setguid executables.[0m
[33;1mIf you require sudo, add 'sudo: required' to your .travis.yml[0m
[33;1mSee https://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.[0m

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0a9af8bc[0K$ Installing caching utilities

travis_time:end:0a9af8bc:start=1474041133600785651,finish=1474041133743483127,duration=142697476[0Ktravis_time:start:13fa0614[0K
travis_time:end:13fa0614:start=1474041133748387207,finish=1474041133751720385,duration=3333178[0Ktravis_time:start:146463cf[0K[32;1mattempting to download cache archive[0m
[32;1mfetching rules/cache-linux-precise-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--jdk-oraclejdk8.tgz[0m
[32;1mfound cache[0m

travis_time:end:146463cf:start=1474041133755823325,finish=1474041227800424265,duration=94044600940[0Ktravis_time:start:05fe3b38[0K
travis_time:end:05fe3b38:start=1474041227804697048,finish=1474041227808288826,duration=3591778[0Ktravis_time:start:11fae05c[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:11fae05c:start=1474041227812395477,finish=1474041235002211001,duration=7189815524[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:0dfb07b8[0K$ mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "3.13.0-40-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 20 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 20 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: 09730a2d8e40dc36d5fa727c25304f86390ed8eb at timestamp: 1474041241779
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.1.5-SNAPSHOT/stdlib-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 83 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/main/java/com/peterphi/std/util/ListUtility.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 13 source files to /home/travis/build/petergeneric/stdlib/stdlib/target/test-classes
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/stdlib/src/test/java/com/peterphi/std/types/TimecodeTest.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/target/stdlib-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.5-SNAPSHOT/stdlib-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.5-SNAPSHOT/stdlib-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.1.5-SNAPSHOT/stdlib-guice-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 137 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/restclient/resteasy/impl/BearerAuthSchemeProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/common/src/main/java/com/peterphi/std/guice/common/serviceprops/ConfigurationProperty.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 12 source files to /home/travis/build/petergeneric/stdlib/guice/common/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.5-SNAPSHOT/stdlib-guice-common-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.5-SNAPSHOT/stdlib-guice-common-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.1.5-SNAPSHOT/user-manager-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/user-manager/api/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.5-SNAPSHOT/user-manager-api-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.5-SNAPSHOT/user-manager-api-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 81 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/resteasy/DelegatingHttpServletRequest.java: /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/resteasy/DelegatingHttpServletRequest.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/resteasy/DelegatingHttpServletRequest.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/webapp/src/main/java/com/peterphi/std/guice/web/rest/setup/JAXRSClientProvider.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/webapp/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.5-SNAPSHOT/stdlib-guice-webapp-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.5-SNAPSHOT/stdlib-guice-webapp-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 20 source files to /home/travis/build/petergeneric/stdlib/guice/metrics/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/metrics/src/main/java/com/peterphi/std/guice/metrics/rest/impl/MetricsRestServiceImpl.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.5-SNAPSHOT/stdlib-guice-metrics-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.5-SNAPSHOT/stdlib-guice-metrics-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/guice/freemarker/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.5-SNAPSHOT/stdlib-guice-freemarker-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.5-SNAPSHOT/stdlib-guice-freemarker-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 15 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/testing/src/main/java/com/peterphi/std/guice/testing/AutomockAnnotatedMockModule.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/guice/testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.5-SNAPSHOT/stdlib-guice-testing-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.5-SNAPSHOT/stdlib-guice-testing-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 61 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Some input files use or override a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/module/HibernateServiceRegistryProvider.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/guice/hibernate/src/main/java/com/peterphi/std/guice/hibernate/dao/HibernateDao.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 32 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.5-SNAPSHOT/stdlib-guice-hibernate-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.5-SNAPSHOT/stdlib-guice-hibernate-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.5-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.5-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 8 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /home/travis/build/petergeneric/stdlib/guice/liquibase/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.5-SNAPSHOT/stdlib-guice-liquibase-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.5-SNAPSHOT/stdlib-guice-liquibase-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 28 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /home/travis/build/petergeneric/stdlib/util/carbon-client/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.5-SNAPSHOT/carbon-client-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.5-SNAPSHOT/carbon-client-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building service-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager-parent ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager-parent/9.1.5-SNAPSHOT/service-manager-parent-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 10 source files to /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/petergeneric/stdlib/service-manager/configuration/target/configuration-9.1.5-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/service-manager/configuration/src/main/webapp]
[INFO] Webapp assembled in [151 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/configuration-9.1.5-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/configuration/target/configuration-9.1.5-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/configuration-9.1.5-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/configuration-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-rules 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-rules ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/rules/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-rules ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 18 source files to /home/travis/build/petergeneric/stdlib/rules/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/rules/src/main/java/com/peterphi/rules/RuleProcessTask.java: Some input files use unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/rules/src/main/java/com/peterphi/rules/RuleProcessTask.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-rules ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/rules/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-rules ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-rules ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/rules/target/stdlib-rules-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-rules ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/rules/target/stdlib-rules-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib-rules/9.1.5-SNAPSHOT/stdlib-rules-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/rules/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-rules/9.1.5-SNAPSHOT/stdlib-rules-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-azure 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-azure ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/azure/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-azure ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 5 source files to /home/travis/build/petergeneric/stdlib/azure/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-azure ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/azure/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-azure ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-azure ---
[INFO] Building jar: /home/travis/build/petergeneric/stdlib/azure/target/stdlib-azure-9.1.5-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-azure ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/azure/target/stdlib-azure-9.1.5-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib-azure/9.1.5-SNAPSHOT/stdlib-azure-9.1.5-SNAPSHOT.jar
[INFO] Installing /home/travis/build/petergeneric/stdlib/azure/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-azure/9.1.5-SNAPSHOT/stdlib-azure-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager Main 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 20 source files to /home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/logging/hub/RingBuffer.java: /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/logging/hub/RingBuffer.java uses unchecked or unsafe operations.
[INFO] /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/java/com/peterphi/servicemanager/service/logging/hub/RingBuffer.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ service-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [service-manager] in [/home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.1.5-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/main/webapp]
[INFO] Webapp assembled in [248 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.1.5-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.1.5-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/service-manager-9.1.5-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/service-manager/service-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/service-manager-9.1.5-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 37 source files to /home/travis/build/petergeneric/stdlib/user-manager/service/target/classes
[INFO] /home/travis/build/petergeneric/stdlib/user-manager/service/src/main/java/com/peterphi/usermanager/ui/impl/RoleUIServiceImpl.java: /home/travis/build/petergeneric/stdlib/user-manager/service/src/main/java/com/peterphi/usermanager/ui/impl/RoleUIServiceImpl.java uses or overrides a deprecated API.
[INFO] /home/travis/build/petergeneric/stdlib/user-manager/service/src/main/java/com/peterphi/usermanager/ui/impl/RoleUIServiceImpl.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.5-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [230 msecs]
[INFO] Building war: /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.5-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.5-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.5-SNAPSHOT/user-manager-9.1.5-SNAPSHOT.war
[INFO] Installing /home/travis/build/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.5-SNAPSHOT/user-manager-9.1.5-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.180 s]
[INFO] stdlib ............................................. SUCCESS [ 15.764 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.172 s]
[INFO] stdlib guice common ................................ SUCCESS [  6.208 s]
[INFO] user-manager ....................................... SUCCESS [  0.006 s]
[INFO] user manager rest api .............................. SUCCESS [  0.449 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  2.392 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.431 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.307 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.965 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  2.229 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  0.562 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.529 s]
[INFO] carbon client ...................................... SUCCESS [  0.326 s]
[INFO] service-manager .................................... SUCCESS [  0.004 s]
[INFO] Configuration Service .............................. SUCCESS [  2.413 s]
[INFO] stdlib-rules ....................................... SUCCESS [  0.546 s]
[INFO] stdlib-azure ....................................... SUCCESS [  1.448 s]
[INFO] Service Manager Main ............................... SUCCESS [  3.012 s]
[INFO] user manager service ............................... SUCCESS [  2.653 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 45.253 s
[INFO] Finished at: 2016-09-16T15:54:42+00:00
[INFO] Final Memory: 51M/346M
[INFO] ------------------------------------------------------------------------

travis_time:end:0dfb07b8:start=1474041235434286333,finish=1474041285969767355,duration=50535481022[0Ktravis_fold:end:install[0Kcoverity_scan:start$ export PROJECT_NAME=petergeneric/stdlib
coverity_scan:endtravis_time:start:1f2f9f10[0K$ mvn test -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 20 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 20 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildNumber: 09730a2d8e40dc36d5fa727c25304f86390ed8eb at timestamp: 1474041292265
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /home/travis/build/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/petergeneric/stdlib
[INFO] Storing buildScmBranch: UNKNOWN
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.98 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.045 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.037 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.044 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in com.peterphi.std.io.PropertyFileTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.common.retry.retry.RetryManager).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.071 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.909 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.577 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.028 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.085 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.26 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.927 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.052 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.097 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.088 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.216 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.715 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2016-09-16 15:55:12,884 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,890 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,908 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,927 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,927 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,927 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,928 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,928 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,929 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,930 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,930 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,930 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,930 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,931 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,937 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,966 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,966 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,967 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,971 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,971 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,972 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:12,975 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,975 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:12,976 TRACE {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2016-09-16 15:55:13,021 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:13,022 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2016-09-16 15:55:13,022 TRACE {set} key=unit-test; value=true
2016-09-16 15:55:13,025  INFO Trying to create Guice Injector...
2016-09-16 15:55:13,026 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@1a407d53
2016-09-16 15:55:13,027 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@3d8c7aca
2016-09-16 15:55:13,038 TRACE {set} key=travis_tag; value=
2016-09-16 15:55:13,045 TRACE {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2016-09-16 15:55:13,046 TRACE {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2016-09-16 15:55:13,046 TRACE {set} key=casher_dir; value=/home/travis/.casher
2016-09-16 15:55:13,046 TRACE {set} key=travis_job_id; value=160484580
2016-09-16 15:55:13,046 TRACE {set} key=travis_jdk_version; value=oraclejdk8
2016-09-16 15:55:13,046 TRACE {set} key=travis_os_name; value=linux
2016-09-16 15:55:13,046 TRACE {set} key=ps4; value=+
2016-09-16 15:55:13,046 TRACE {set} key=rvm_silence_path_mismatch_check_flag; value=1
2016-09-16 15:55:13,047 TRACE {set} key=mail; value=/var/mail/travis
2016-09-16 15:55:13,047 TRACE {set} key=logname; value=travis
2016-09-16 15:55:13,047 TRACE {set} key=rvm_version; value=1.26.8 (1.26.8)
2016-09-16 15:55:13,047 TRACE {set} key=travis_event_type; value=push
2016-09-16 15:55:13,047 TRACE {set} key=pwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-09-16 15:55:13,047 TRACE {set} key=git_askpass; value=echo
2016-09-16 15:55:13,047 TRACE {set} key=rails_env; value=test
2016-09-16 15:55:13,047 TRACE {set} key=has_antares_three_little_fronzies_badge; value=true
2016-09-16 15:55:13,048 TRACE {set} key=shell; value=/bin/bash
2016-09-16 15:55:13,048 TRACE {set} key=composer_no_interaction; value=1
2016-09-16 15:55:13,048 TRACE {set} key=travis_secure_env_vars; value=true
2016-09-16 15:55:13,048 TRACE {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2016-09-16 15:55:13,048 TRACE {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2016-09-16 15:55:13,048 TRACE {set} key=oldpwd; value=/home/travis/build/petergeneric/stdlib/guice/hibernate
2016-09-16 15:55:13,048 TRACE {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2016-09-16 15:55:13,052 TRACE {set} key=coverity_scan_branch; value=0
2016-09-16 15:55:13,053 TRACE {set} key=rvm_path; value=/home/travis/.rvm
2016-09-16 15:55:13,053 TRACE {set} key=coverity_scan_token; value=[secure]
2016-09-16 15:55:13,053 TRACE {set} key=continuous_integration; value=true
2016-09-16 15:55:13,054 TRACE {set} key=ruby_version; value=ruby-1.9.3-p551
2016-09-16 15:55:13,054 TRACE {set} key=debian_frontend; value=noninteractive
2016-09-16 15:55:13,054 TRACE {set} key=_system_name; value=Ubuntu
2016-09-16 15:55:13,054 TRACE {set} key=lc_all; value=en_US.UTF-8
2016-09-16 15:55:13,054 TRACE {set} key=m2_home; value=/usr/local/maven
2016-09-16 15:55:13,054 TRACE {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2016-09-16 15:55:13,054 TRACE {set} key=rvm_autoupdate_flag; value=0
2016-09-16 15:55:13,054 TRACE {set} key=travis_build_number; value=593
2016-09-16 15:55:13,055 TRACE {set} key=lc_ctype; value=en_US.UTF-8
2016-09-16 15:55:13,055 TRACE {set} key=shlvl; value=3
2016-09-16 15:55:13,055 TRACE {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2016-09-16 15:55:13,055 TRACE {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2016-09-16 15:55:13,055 TRACE {set} key=_system_arch; value=x86_64
2016-09-16 15:55:13,056 TRACE {set} key=has_josh_k_seal_of_approval; value=true
2016-09-16 15:55:13,056 TRACE {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2016-09-16 15:55:13,056 TRACE {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2016-09-16 15:55:13,056 TRACE {set} key=travis_build_id; value=160484579
2016-09-16 15:55:13,056 TRACE {set} key=term; value=xterm
2016-09-16 15:55:13,056 TRACE {set} key=rvm_prefix; value=/home/travis
2016-09-16 15:55:13,057 TRACE {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2016-09-16 15:55:13,057 TRACE {set} key=lang; value=en_US.UTF-8
2016-09-16 15:55:13,057 TRACE {set} key=travis_job_number; value=593.1
2016-09-16 15:55:13,057 TRACE {set} key=travis_pull_request; value=false
2016-09-16 15:55:13,057 TRACE {set} key=project_name; value=petergeneric/stdlib
2016-09-16 15:55:13,058 TRACE {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2016-09-16 15:55:13,058 TRACE {set} key=merb_env; value=test
2016-09-16 15:55:13,058 TRACE {set} key=rack_env; value=test
2016-09-16 15:55:13,058 TRACE {set} key=travis_language; value=java
2016-09-16 15:55:13,058 TRACE {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2016-09-16 15:55:13,058 TRACE {set} key=travis_branch; value=rules
2016-09-16 15:55:13,059 TRACE {set} key=maven_cmd_line_args; value=test -B
2016-09-16 15:55:13,059 TRACE {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2016-09-16 15:55:13,059 TRACE {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2016-09-16 15:55:13,059 TRACE {set} key=nvm_dir; value=/home/travis/.nvm
2016-09-16 15:55:13,059 TRACE {set} key=travis; value=true
2016-09-16 15:55:13,060 TRACE {set} key=ci; value=true
2016-09-16 15:55:13,060 TRACE {set} key=_system_type; value=Linux
2016-09-16 15:55:13,060 TRACE {set} key=travis_build_dir; value=/home/travis/build/petergeneric/stdlib
2016-09-16 15:55:13,060 TRACE {set} key=ssh_tty; value=/dev/pts/1
2016-09-16 15:55:13,060 TRACE {set} key=ssh_client; value=172.17.42.1 49346 22
2016-09-16 15:55:13,060 TRACE {set} key=_system_version; value=12.04
2016-09-16 15:55:13,061 TRACE {set} key=travis_commit_range; value=5f6950c71311...09730a2d8e40
2016-09-16 15:55:13,061 TRACE {set} key=user; value=travis
2016-09-16 15:55:13,063 TRACE {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2016-09-16 15:55:13,063 TRACE {set} key=travis_commit; value=09730a2d8e40dc36d5fa727c25304f86390ed8eb
2016-09-16 15:55:13,064 TRACE {set} key=travis_repo_slug; value=petergeneric/stdlib
2016-09-16 15:55:13,064 TRACE {set} key=ssh_connection; value=172.17.42.1 49346 172.17.3.0 22
2016-09-16 15:55:13,064 TRACE {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2016-09-16 15:55:13,064 TRACE {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2016-09-16 15:55:13,064 TRACE {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2016-09-16 15:55:13,064 TRACE {set} key=home; value=/home/travis
2016-09-16 15:55:13,065 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@5ebec15
2016-09-16 15:55:13,065 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@21bcffb5
2016-09-16 15:55:13,065 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@1a407d53
2016-09-16 15:55:13,065 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@3d8c7aca
2016-09-16 15:55:13,160 TRACE Search for config files with name: environment.properties
2016-09-16 15:55:13,161 TRACE Search for config files with name: service.properties
2016-09-16 15:55:13,188 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@55f3ddb1
2016-09-16 15:55:13,341  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/webquery/
2016-09-16 15:55:13,343  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/std/guice/hibernate/webquery/
2016-09-16 15:55:13,469 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2016-09-16 15:55:13,469 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@2758fe70, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@1f36e637, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@578486a3, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@551aa95a, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@35d176f7, com.peterphi.std.guice.common.metrics.CoreMetricsModule@1dfe2924, com.peterphi.std.guice.common.cached.module.CacheModule@6ebc05a6, com.peterphi.std.guice.common.retry.module.RetryModule@6e6c3152, com.peterphi.std.guice.common.JAXBModule@50b494a6, com.peterphi.std.guice.common.logging.Log4JModule@2b552920, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@3cef309d]
2016-09-16 15:55:14,323 DEBUG Discovered new property: guice.bootstrap.class
2016-09-16 15:55:14,324 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,324 DEBUG Discovered new property: scan.packages
2016-09-16 15:55:14,325 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,325 DEBUG Discovered new property: override-properties.file
2016-09-16 15:55:14,325 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,325 DEBUG Discovered new property: mode
2016-09-16 15:55:14,326 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,327 DEBUG Discovered new property: log4j.properties
2016-09-16 15:55:14,327 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,328 DEBUG Discovered new property: guice.jaxb.moxy
2016-09-16 15:55:14,328 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,328 DEBUG Discovered new property: unit-test
2016-09-16 15:55:14,328 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,329 DEBUG Discovered new property: service.instance-id
2016-09-16 15:55:14,329 TRACE Discovered new binding for property service.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,329 DEBUG Discovered new property: service-manager.logging.skip
2016-09-16 15:55:14,329 TRACE Discovered new binding for property service-manager.logging.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,329 DEBUG Discovered new property: service-manager.logging.max-backlog
2016-09-16 15:55:14,329 TRACE Discovered new binding for property service-manager.logging.max-backlog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,330 DEBUG Discovered new property: service.config.endpoint
2016-09-16 15:55:14,330 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,330 DEBUG Discovered new property: service.config.path
2016-09-16 15:55:14,331 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,331 DEBUG Discovered new property: service.config.source
2016-09-16 15:55:14,331 TRACE Discovered new binding for property service.config.source of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,331 DEBUG Discovered new property: service.config.last-revision
2016-09-16 15:55:14,331 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,331 DEBUG Discovered new property: service.config.skip
2016-09-16 15:55:14,332 TRACE Discovered new binding for property service.config.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,332 DEBUG Discovered new property: restutils.allow-restart
2016-09-16 15:55:14,332 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,332 DEBUG Discovered new property: restutils.show-serviceprops
2016-09-16 15:55:14,333 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,333 DEBUG Discovered new property: restutils.allow-reconfigure
2016-09-16 15:55:14,333 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,333 DEBUG Discovered new property: restutils.show-bound-values
2016-09-16 15:55:14,333 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,333 DEBUG Discovered new property: local.restservices.endpoint
2016-09-16 15:55:14,334 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,334 DEBUG Discovered new property: local.restservices.prefix
2016-09-16 15:55:14,334 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,334 DEBUG Discovered new property: servlet.context-name
2016-09-16 15:55:14,335 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,335 DEBUG Discovered new property: context-name
2016-09-16 15:55:14,336 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,336 DEBUG Discovered new property: role.jaxrs-server.auto
2016-09-16 15:55:14,336 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,336 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-09-16 15:55:14,342 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,344 DEBUG Discovered new property: local.webapp.endpoint
2016-09-16 15:55:14,345 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,345 DEBUG Discovered new property: local.container.endpoint
2016-09-16 15:55:14,345 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,346 DEBUG Discovered new property: local.webapp.context-path
2016-09-16 15:55:14,346 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,346 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-09-16 15:55:14,346 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,346 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-09-16 15:55:14,346 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,347 DEBUG Discovered new property: framework.webauth.provider
2016-09-16 15:55:14,347 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,347 DEBUG Discovered new property: framework.webauth.enabled
2016-09-16 15:55:14,347 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,347 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-09-16 15:55:14,347 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,348 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-09-16 15:55:14,348 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,348 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-09-16 15:55:14,348 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,348 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-09-16 15:55:14,349 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,349 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-09-16 15:55:14,349 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,349 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-09-16 15:55:14,349 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,349 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-09-16 15:55:14,350 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,350 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-09-16 15:55:14,350 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,350 DEBUG Discovered new property: service.oauth2.endpoint
2016-09-16 15:55:14,350 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,350 DEBUG Discovered new property: service.oauth2.client_id
2016-09-16 15:55:14,351 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,351 DEBUG Discovered new property: service.oauth2.client_secret
2016-09-16 15:55:14,352 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,352 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-09-16 15:55:14,353 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,353 DEBUG Discovered new property: rest.exception.html.highlight.terms
2016-09-16 15:55:14,353 TRACE Discovered new binding for property rest.exception.html.highlight.terms of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,353 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2016-09-16 15:55:14,353 TRACE Discovered new binding for property rest.exception.html.highlight.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,354 DEBUG Discovered new property: rest.exception.html.enabled
2016-09-16 15:55:14,354 TRACE Discovered new binding for property rest.exception.html.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,354 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2016-09-16 15:55:14,354 TRACE Discovered new binding for property rest.exception.html.enabled.only-for-logged-in of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,354 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2016-09-16 15:55:14,354 TRACE Discovered new binding for property rest.exception.html.enabled.only-for-logged-in.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,355 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2016-09-16 15:55:14,355 TRACE Discovered new binding for property rest.exception.html.feature.jvminfo of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,355 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2016-09-16 15:55:14,355 TRACE Discovered new binding for property rest.exception.html.feature.jvminfo.environment of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,356 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2016-09-16 15:55:14,356 TRACE Discovered new binding for property rest.exception.html.feature.requestinfo of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,356 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2016-09-16 15:55:14,356 TRACE Discovered new binding for property rest.exception.html.feature.stacktrace of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,357 DEBUG Discovered new property: rest.exception.html.jira.enabled
2016-09-16 15:55:14,357 TRACE Discovered new binding for property rest.exception.html.jira.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,357 DEBUG Discovered new property: rest.exception.html.jira.pid
2016-09-16 15:55:14,357 TRACE Discovered new binding for property rest.exception.html.jira.pid of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,357 DEBUG Discovered new property: rest.exception.html.jira.issueType
2016-09-16 15:55:14,357 TRACE Discovered new binding for property rest.exception.html.jira.issueType of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,358 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2016-09-16 15:55:14,358 TRACE Discovered new binding for property rest.exception.html.jira.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,358 DEBUG Discovered new property: hibernate.properties
2016-09-16 15:55:14,358 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,358 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-09-16 15:55:14,359 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,359 DEBUG Discovered new property: role.hibernate.auto
2016-09-16 15:55:14,359 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,359 DEBUG Discovered new property: role.thymeleaf.auto
2016-09-16 15:55:14,359 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,360 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-09-16 15:55:14,360 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,360 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-09-16 15:55:14,360 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,361 DEBUG Discovered new property: role.dbunit.auto
2016-09-16 15:55:14,361 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,361 DEBUG Discovered new property: liquibase.action
2016-09-16 15:55:14,361 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,361 DEBUG Discovered new property: liquibase.changelog
2016-09-16 15:55:14,361 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,361 DEBUG Discovered new property: liquibase.contexts
2016-09-16 15:55:14,361 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,362 DEBUG Discovered new property: liquibase.labels
2016-09-16 15:55:14,362 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,365 DEBUG Discovered new property: liquibase.parameter.
2016-09-16 15:55:14,366 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2016-09-16 15:55:14,438 DEBUG Loading log4j configuration from embedded
2016-09-16 15:55:14,441 TRACE {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2016-09-16 15:55:14,441 TRACE {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2016-09-16 15:55:14,441 TRACE {set} key=log4j.rootCategory; value=WARN, logconsole
2016-09-16 15:55:14,441 TRACE {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2016-09-16 15:55:14,441 TRACE {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2016-09-16 15:55:14,441 TRACE {set} key=log4j.properties; value=embedded
2016-09-16 15:55:15,289 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:15,291 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:15,291 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:15,291 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:15,292 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:15,292 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:15,292 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:15,307 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:15,450  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-09-16 15:55:17,677 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2016-09-16 15:55:17,677 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-09-16 15:55:17,677 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2016-09-16 15:55:17,677 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-09-16 15:55:17,677 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2016-09-16 15:55:17,677 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-09-16 15:55:17,677 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2016-09-16 15:55:17,677 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:17,733 TRACE Hibernate Setup Complete.
2016-09-16 15:55:17,734 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:17,734 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:17,735 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:17,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:17,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:17,751 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:17,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:17,751 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:17,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:17,751 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:17,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:17,751 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:17,751 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:18,046 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:18,079 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:18,304 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:18,315 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4c48fe92
2016-09-16 15:55:18,358 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:18,358 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:18,409  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:18,409 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:18,425 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3bdb2c78
2016-09-16 15:55:19,267 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:19,267 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:19,267 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:19,267 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:19,268 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:19,269 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:19,269 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:19,271 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:19,290  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:19,527 TRACE Hibernate Setup Complete.
2016-09-16 15:55:19,527 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:19,527 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:19,527 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:19,527 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:19,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:19,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:19,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:19,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:19,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:19,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:19,528 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:19,528 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:19,529 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:19,538 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:19,538 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:19,540 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:19,541 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5626d18c
2016-09-16 15:55:19,542 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-09-16 15:55:19,544 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:19,544 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-16 15:55:19,574 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3ddeaa5f
2016-09-16 15:55:19,581  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:19,593 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:19,594 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7f608e21
2016-09-16 15:55:20,186 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:20,193 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:20,193 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:20,194 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:20,194 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:20,201 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:20,202 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:20,202 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:20,206  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:20,376 TRACE Hibernate Setup Complete.
2016-09-16 15:55:20,376 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:20,376 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:20,377 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:20,377 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:20,377 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:20,377 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:20,377 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:20,377 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:20,378 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:20,378 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:20,389 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:20,389 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:20,390 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:20,391 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:20,391 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:20,397 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:20,403 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4b56b031
2016-09-16 15:55:20,404 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:20,405 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=otherobjec2_.obj_name limit ?
2016-09-16 15:55:20,424 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e375bba
2016-09-16 15:55:20,425 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:20,426 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name<=otherobjec2_.obj_name limit ?
2016-09-16 15:55:20,430 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2180e789
2016-09-16 15:55:20,431  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:20,438 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:20,438 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4b87074a
2016-09-16 15:55:20,793 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:20,794 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:20,794 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:20,794 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:20,809 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:20,809 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:20,809 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:20,810 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:20,820  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:20,978 TRACE Hibernate Setup Complete.
2016-09-16 15:55:20,978 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:20,978 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:20,979 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:20,979 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:20,979 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:20,979 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:20,979 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:20,979 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:20,980 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:20,980 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:20,980 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:20,980 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:20,980 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:20,981 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:20,989 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:20,996 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:20,998 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@ddffa6c
2016-09-16 15:55:21,006 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:21,182 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7e0f9528
2016-09-16 15:55:21,197 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:21,206 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2bdab835
2016-09-16 15:55:21,207 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:21,207 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-09-16 15:55:21,308 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5be4be74
2016-09-16 15:55:21,309 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:21,341 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2016-09-16 15:55:21,343 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1e734eee
2016-09-16 15:55:21,343  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:21,343 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:21,343 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2fbd390
2016-09-16 15:55:21,705 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:21,717 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:21,717 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:21,717 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:21,717 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:21,717 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:21,718 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:21,718 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:21,721  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:21,845 TRACE Hibernate Setup Complete.
2016-09-16 15:55:21,845 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:21,845 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:21,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:21,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:21,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:21,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:21,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:21,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:21,847 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:21,847 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:21,847 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:21,847 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:21,847 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:21,848 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:21,849 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:21,851 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:21,853 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@ff4b223
2016-09-16 15:55:21,853 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:21,856 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@9f1ca74
2016-09-16 15:55:21,857 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:21,857 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2016-09-16 15:55:21,860 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@21f91efa
2016-09-16 15:55:21,861  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:21,861 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:21,861 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@35e75f7a
2016-09-16 15:55:22,086 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,086 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,086 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:22,086 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,086 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,087 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,087 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,087 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:22,104  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:22,236 TRACE Hibernate Setup Complete.
2016-09-16 15:55:22,236 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:22,236 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,237 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,237 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,237 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,237 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,237 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,237 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,239 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,239 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,239 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,239 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,239 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,240 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:22,240 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:22,242 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:22,247 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2579d8a
2016-09-16 15:55:22,254 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-09-16 15:55:22,254 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:22,254 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2016-09-16 15:55:22,264 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@527d5e48
2016-09-16 15:55:22,264  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:22,264 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:22,264 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3291d9c2
2016-09-16 15:55:22,541 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,569 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,569 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:22,569 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,569 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,569 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,569 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,570 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:22,572  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:22,717 TRACE Hibernate Setup Complete.
2016-09-16 15:55:22,718 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:22,718 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,718 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,718 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,719 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,719 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,719 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,719 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,719 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,719 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,720 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,720 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,720 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,721 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:22,721 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:22,723 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:22,725 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@33089426
2016-09-16 15:55:22,725 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:22,728 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42474b18
2016-09-16 15:55:22,735 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:22,761 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5af56240
2016-09-16 15:55:22,762 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2016-09-16 15:55:22,768 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-09-16 15:55:22,769 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f0ae0ee
2016-09-16 15:55:22,770  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:22,770 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:22,770 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2651e783
2016-09-16 15:55:22,994 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:22,994 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:22,994 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:22,994 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:22,995 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:22,995 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:22,995 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:22,995 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:23,009  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:23,097 TRACE Hibernate Setup Complete.
2016-09-16 15:55:23,097 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:23,097 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,097 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,099 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:23,100 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:23,106 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:23,107 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42ac309
2016-09-16 15:55:23,108 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:23,111 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@268e30d4
2016-09-16 15:55:23,117 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:23,118 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5dff108c
2016-09-16 15:55:23,119 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-09-16 15:55:23,120 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@32c8d67
2016-09-16 15:55:23,120 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-09-16 15:55:23,123 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7fdabb3b
2016-09-16 15:55:23,124 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:23,124 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2016-09-16 15:55:23,127 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c43cb12
2016-09-16 15:55:23,127 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:23,128 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2016-09-16 15:55:23,133 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@24ee6faa
2016-09-16 15:55:23,134 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:23,134 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2016-09-16 15:55:23,138 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@33214124
2016-09-16 15:55:23,138  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:23,138 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:23,138 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2a9ea03f
2016-09-16 15:55:23,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:23,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,260 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,260 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,260 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:23,262  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:23,316 TRACE Hibernate Setup Complete.
2016-09-16 15:55:23,316 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:23,316 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,316 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,316 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,316 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,317 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,317 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,317 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,317 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,317 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,317 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,317 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,317 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,318 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:23,318 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:23,319 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:23,320 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@32d8e58d
2016-09-16 15:55:23,320 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:23,323 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@601e7c97
2016-09-16 15:55:23,324 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:23,329 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6672b0ea
2016-09-16 15:55:23,337 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:23,337 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2016-09-16 15:55:23,531 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@757f47f0
2016-09-16 15:55:23,532  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:23,532 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:23,532 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@70680f88
2016-09-16 15:55:23,650 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,651 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,651 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:23,651 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,651 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,841 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,846 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,846 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:23,857  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:23,960 TRACE Hibernate Setup Complete.
2016-09-16 15:55:23,960 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:23,960 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,960 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,960 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:23,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:23,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:23,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:23,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:23,962 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,962 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:23,963 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:23,963 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:23,964 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:23,965 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1978eab7
2016-09-16 15:55:23,966 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:23,966 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2016-09-16 15:55:23,967 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@19a544cd
2016-09-16 15:55:23,967  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:23,967 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:23,967 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@58c93be3
2016-09-16 15:55:24,145 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,146 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,146 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:24,146 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,146 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,146 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,146 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,149 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:24,151  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:24,178 TRACE Hibernate Setup Complete.
2016-09-16 15:55:24,178 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:24,178 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,178 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,178 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,178 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,179 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,179 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,179 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,179 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,179 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,179 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,179 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,179 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,179 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:24,180 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,185 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,186 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a2bc71f
2016-09-16 15:55:24,186 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2016-09-16 15:55:24,189 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d3b4646
2016-09-16 15:55:24,189 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:24,192 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@c1d9c40
2016-09-16 15:55:24,193 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:24,193 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2016-09-16 15:55:24,199 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1f832df0
2016-09-16 15:55:24,199 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:24,199 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2016-09-16 15:55:24,201 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@30b5f974
2016-09-16 15:55:24,201  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:24,201 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:24,201 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@57e2d15c
2016-09-16 15:55:24,294 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,295 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,295 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:24,295 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,295 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,296 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,296 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,296 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:24,298  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:24,330 TRACE Hibernate Setup Complete.
2016-09-16 15:55:24,330 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:24,331 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,331 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,331 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,331 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,331 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,331 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,331 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,332 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,332 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,333 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:24,333 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,340 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,341 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2e1c3b8f
2016-09-16 15:55:24,342 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:24,343 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-16 15:55:24,349 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@69780093
2016-09-16 15:55:24,350  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:24,350 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:24,350 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7c590039
2016-09-16 15:55:24,445 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,445 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,445 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:24,445 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,445 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,445 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,453 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,453 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:24,455  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:24,484 TRACE Hibernate Setup Complete.
2016-09-16 15:55:24,485 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:24,485 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,485 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,485 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,485 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,486 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,486 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,486 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,486 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,486 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,486 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,486 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,487 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,487 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:24,487 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,489 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,490 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42748f59
2016-09-16 15:55:24,490 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:24,490 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-16 15:55:24,491 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b20024b
2016-09-16 15:55:24,492  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:24,492 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:24,492 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1e0383d3
2016-09-16 15:55:24,589 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,589 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,589 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:24,589 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,589 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,590 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,590 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,590 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:24,616  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:24,647 TRACE Hibernate Setup Complete.
2016-09-16 15:55:24,647 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:24,647 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,647 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,648 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,649 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,649 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,649 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,650 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,650 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,650 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,650 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,650 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,650 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,651 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:24,651 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,656 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,659 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5efb7f82
2016-09-16 15:55:24,659 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:24,663 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2016-09-16 15:55:24,665 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@423ddfe1
2016-09-16 15:55:24,669  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:24,669 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:24,670 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@124ba047
2016-09-16 15:55:24,790 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,790 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,790 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:24,790 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,790 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,790 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,791 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,791 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:24,793  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:24,855 TRACE Hibernate Setup Complete.
2016-09-16 15:55:24,855 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:24,856 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,856 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,856 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,856 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,856 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,856 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,857 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,857 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,859 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:24,860 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,862 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:24,864 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4b9be679
2016-09-16 15:55:24,864 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2016-09-16 15:55:24,864 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:24,864 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2016-09-16 15:55:24,866 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@65b869b4
2016-09-16 15:55:24,866  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:24,866 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:24,867 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@171b3f38
2016-09-16 15:55:24,966 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:24,966 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:24,966 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:24,967 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:24,967 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:24,967 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,967 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,967 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:24,969  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:24,998 TRACE Hibernate Setup Complete.
2016-09-16 15:55:24,998 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:24,999 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:24,999 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,999 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:24,999 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,000 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,000 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,000 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,000 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,000 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,000 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,001 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,001 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,002 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:25,002 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:25,003 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:25,004 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@311a569d
2016-09-16 15:55:25,004 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,005 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,011 DEBUG IllegalArgumentException causes rollback
2016-09-16 15:55:25,012  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:25,012 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:25,013 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@8cad98b
2016-09-16 15:55:25,209 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:25,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,210 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:25,211 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:25,212  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:25,308 TRACE Hibernate Setup Complete.
2016-09-16 15:55:25,308 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:25,308 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,308 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:25,309 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:25,309 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,309 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,309 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,309 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,309 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,310 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,310 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,310 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,310 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,311 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:25,311 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:25,312 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:25,313 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7ce2bfb
2016-09-16 15:55:25,313 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:25,315 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@d4fe4d
2016-09-16 15:55:25,315 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2016-09-16 15:55:25,316 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7b0ad007
2016-09-16 15:55:25,317 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,317 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2016-09-16 15:55:25,319 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@76f18f68
2016-09-16 15:55:25,319  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:25,319 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:25,319 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6c43d4dd
2016-09-16 15:55:25,416 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,417 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,417 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:25,417 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,417 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,417 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,417 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:25,418 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:25,419  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:25,445 TRACE Hibernate Setup Complete.
2016-09-16 15:55:25,445 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:25,445 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,445 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:25,445 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2016-09-16 15:55:25,446 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2016-09-16 15:55:25,446 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,446 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2016-09-16 15:55:25,446 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,446 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,446 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,446 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,447 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,447 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,447 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2016-09-16 15:55:25,447 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:25,449 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2016-09-16 15:55:25,449 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a2cf1b6
2016-09-16 15:55:25,471 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,474 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2016-09-16 15:55:25,483 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2c30bedc
2016-09-16 15:55:25,483  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:25,483 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:25,483 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@25a93e0f
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.467 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.027 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2016-09-16 15:55:25,630 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,630 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:25,630 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,631 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:25,633  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:25,678 TRACE Hibernate Setup Complete.
2016-09-16 15:55:25,678 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:25,678 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,678 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,678 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,679 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,680 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-09-16 15:55:25,684 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@726bbe64
2016-09-16 15:55:25,685 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-09-16 15:55:25,690 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@33dbd53
2016-09-16 15:55:25,692 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,692 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,692 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:25,693 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_one this_1_ on this_.id=this_1_.id left outer join inherit_two this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2016-09-16 15:55:25,703 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@167eab4
2016-09-16 15:55:25,703  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:25,703 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:25,704 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7fab8e9a
2016-09-16 15:55:25,792 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,792 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2016-09-16 15:55:25,792 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,793 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:25,795  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2016-09-16 15:55:25,806 TRACE Hibernate Setup Complete.
2016-09-16 15:55:25,807 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2016-09-16 15:55:25,807 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,807 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2016-09-16 15:55:25,807 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,807 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2016-09-16 15:55:25,808 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2016-09-16 15:55:25,809 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@76225435
2016-09-16 15:55:25,809 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2016-09-16 15:55:25,810 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42bd5540
2016-09-16 15:55:25,810 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-09-16 15:55:25,818 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2bbadc1
2016-09-16 15:55:25,819 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_one mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_two mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2016-09-16 15:55:25,820 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1d9f9c9d
2016-09-16 15:55:25,820  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:25,820 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:25,820 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5f0b3abb
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.298 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2016-09-16 15:55:25,933 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,934 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:25,935  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-09-16 15:55:25,943 TRACE Hibernate Setup Complete.
2016-09-16 15:55:25,943 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-09-16 15:55:25,944 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,944 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:25,944 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:25,945 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2016-09-16 15:55:25,946 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@53339642
2016-09-16 15:55:25,946  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:25,946 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:25,946 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@40ea25b0
2016-09-16 15:55:26,066 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:26,066 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:26,068  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-09-16 15:55:26,088 TRACE Hibernate Setup Complete.
2016-09-16 15:55:26,089 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-09-16 15:55:26,089 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:26,089 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:26,090 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:26,090 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2016-09-16 15:55:26,092 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5f5e99af
2016-09-16 15:55:26,092  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:26,092 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:26,095 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4f1fabe5
2016-09-16 15:55:26,326 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:26,327 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:26,329  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2016-09-16 15:55:26,371 TRACE Hibernate Setup Complete.
2016-09-16 15:55:26,371 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2016-09-16 15:55:26,371 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:26,372 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2016-09-16 15:55:26,372 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2016-09-16 15:55:26,386 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@690406d0
2016-09-16 15:55:26,386  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:26,386 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:26,386 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@62e06e2e
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.576 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2016-09-16 15:55:26,561 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-09-16 15:55:26,561 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:26,563  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2016-09-16 15:55:26,572 TRACE Hibernate Setup Complete.
2016-09-16 15:55:26,572 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2016-09-16 15:55:26,572 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-09-16 15:55:26,572 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2016-09-16 15:55:26,573 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2016-09-16 15:55:26,575 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3a435908
2016-09-16 15:55:26,575 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2016-09-16 15:55:26,576 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c568706
2016-09-16 15:55:26,577 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-09-16 15:55:26,578 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7e561665
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2016-09-16 15:55:26,586  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:26,586 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:26,586 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@472fb6c
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.167 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2016-09-16 15:55:26,680 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-09-16 15:55:26,681 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:26,682  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2016-09-16 15:55:26,711 TRACE Hibernate Setup Complete.
2016-09-16 15:55:26,711 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2016-09-16 15:55:26,711 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-09-16 15:55:26,711 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2016-09-16 15:55:26,712 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2016-09-16 15:55:26,713 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1bf0208c
2016-09-16 15:55:26,722 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2016-09-16 15:55:26,801 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1a714d1
2016-09-16 15:55:26,802 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2016-09-16 15:55:26,802 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e432c80
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2016-09-16 15:55:26,804  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:26,813 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:26,815 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@e11248f
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.235 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2016-09-16 15:55:27,083 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-16 15:55:27,084 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-16 15:55:27,084 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:27,086  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-09-16 15:55:27,111 TRACE Hibernate Setup Complete.
2016-09-16 15:55:27,111 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-09-16 15:55:27,111 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-16 15:55:27,111 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-16 15:55:27,111 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-16 15:55:27,112 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-16 15:55:27,112 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2016-09-16 15:55:27,114 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-16 15:55:27,125 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-16 15:55:27,126 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-16 15:55:27,127 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-16 15:55:27,127 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2016-09-16 15:55:27,128 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2016-09-16 15:55:27,147 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:27,148 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2016-09-16 15:55:27,153 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@466f2aaf
2016-09-16 15:55:27,154  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:27,155 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:27,155 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1cfbcd9f
2016-09-16 15:55:27,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-16 15:55:27,259 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-16 15:55:27,259 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:27,261  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2016-09-16 15:55:27,271 TRACE Hibernate Setup Complete.
2016-09-16 15:55:27,271 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2016-09-16 15:55:27,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-16 15:55:27,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2016-09-16 15:55:27,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-16 15:55:27,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2016-09-16 15:55:27,272 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2016-09-16 15:55:27,272 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-16 15:55:27,273 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-16 15:55:27,274 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-16 15:55:27,274 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-16 15:55:27,274 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2016-09-16 15:55:27,275 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2016-09-16 15:55:27,275 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2016-09-16 15:55:27,286 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@38b2ab01
2016-09-16 15:55:27,287  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:27,287 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:27,287 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@48d46402
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.429 sec - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2016-09-16 15:55:27,432 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-09-16 15:55:27,432 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:27,442  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-09-16 15:55:27,476 TRACE Hibernate Setup Complete.
2016-09-16 15:55:27,476 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-09-16 15:55:27,494 DEBUG KillTransaction causes rollback
2016-09-16 15:55:27,506  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:27,506 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:27,506 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@76c944ce
2016-09-16 15:55:27,685 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-09-16 15:55:27,686 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:27,688  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-09-16 15:55:27,712 TRACE Hibernate Setup Complete.
2016-09-16 15:55:27,712 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2016-09-16 15:55:27,712 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@44371c54
2016-09-16 15:55:27,713  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:27,713 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:27,713 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3e476882
2016-09-16 15:55:27,828 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2016-09-16 15:55:27,829 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:27,831  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2016-09-16 15:55:27,846 TRACE Hibernate Setup Complete.
2016-09-16 15:55:27,846  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:27,846 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:27,846 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1c1ae8cc
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.549 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2016-09-16 15:55:28,063 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-16 15:55:28,063 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-16 15:55:28,063 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:28,076  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-09-16 15:55:28,131 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2016-09-16 15:55:28,132 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-09-16 15:55:28,140 TRACE Hibernate Setup Complete.
2016-09-16 15:55:28,141 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-09-16 15:55:28,142 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-16 15:55:28,142 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-16 15:55:28,142 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-16 15:55:28,142 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-16 15:55:28,143 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2016-09-16 15:55:28,239 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@12a1a7b2
2016-09-16 15:55:28,239  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:28,240 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:28,240 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2d6726f6
2016-09-16 15:55:28,542 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-16 15:55:28,542 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-16 15:55:28,542 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2016-09-16 15:55:28,544  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2016-09-16 15:55:28,638 TRACE Hibernate Setup Complete.
2016-09-16 15:55:28,638 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2016-09-16 15:55:28,638 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-16 15:55:28,639 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-16 15:55:28,639 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2016-09-16 15:55:28,639 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2016-09-16 15:55:28,639 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2016-09-16 15:55:28,640 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@fe619cb
2016-09-16 15:55:28,641 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2016-09-16 15:55:28,650 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@719240b5
2016-09-16 15:55:28,650 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-09-16 15:55:28,756 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@e1cc4e5
2016-09-16 15:55:28,756 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-09-16 15:55:28,757 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@67968225
2016-09-16 15:55:28,758 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-09-16 15:55:28,759 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6143cbe
2016-09-16 15:55:28,759 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-09-16 15:55:28,760 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3284e07c
2016-09-16 15:55:28,760 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2016-09-16 15:55:28,762 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6893fc3c
2016-09-16 15:55:28,763 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2016-09-16 15:55:28,765 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6109c8ba
2016-09-16 15:55:28,766 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2016-09-16 15:55:28,791 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@9a625fb
2016-09-16 15:55:28,791  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:55:28,791 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2016-09-16 15:55:28,792 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@ef935a
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.966 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest

Results :

Tests run: 55, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.hibernatetest.DbunitModuleTest
2016-09-16 15:55:31,612  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-09-16 15:55:33,315 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2016-09-16 15:55:33,315 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-09-16 15:55:33,316 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2016-09-16 15:55:33,316 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: drop table GroupEntity if exists
Hibernate: drop table SimpleEntity if exists
Hibernate: drop table simple_entity_join_table if exists
Hibernate: create table GroupEntity (id bigint not null, primary key (id))
Hibernate: create table SimpleEntity (id bigint not null, name varchar(255), primary key (id))
Hibernate: create table simple_entity_join_table (simple_id bigint not null, group_id bigint not null, primary key (simple_id, group_id))
Hibernate: alter table simple_entity_join_table add constraint FK_immmw5r3yntht63c24psmno0m foreign key (group_id) references GroupEntity
Hibernate: alter table simple_entity_join_table add constraint FK_f2ec0exlk361s4ww77hdync48 foreign key (simple_id) references SimpleEntity
Sep 16, 2016 3:55:33 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 16, 2016 3:55:33 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 16, 2016 3:55:33 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Sep 16, 2016 3:55:33 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 16, 2016 3:55:33 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Sep 16, 2016 3:55:33 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.001 sec - in com.peterphi.std.guice.hibernatetest.DbunitModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
2016-09-16 15:55:41,160  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: select this_.id as id1_0_0_, this_.name as name2_0_0_ from something this_
Hibernate: select someentity0_.id as id1_0_0_, someentity0_.name as name2_0_0_ from something someentity0_ where someentity0_.id=?
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.948 sec - in com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
Running com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.carbon.util.mediainfo.MediaInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.25 sec - in com.peterphi.carbon.util.mediainfo.MediaInfoTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building service-manager 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.configuration.service.git.RepoHelperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.498 sec - in com.peterphi.configuration.service.git.RepoHelperTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-rules 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-rules ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/rules/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-rules ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2016-09-16 15:55:45,494 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/rules/target/test-classes/test-config.properties
Running com.peterphi.rules.RuleTest
2016-09-16 15:55:45,519 DEBUG Loading property file: file:/home/travis/build/petergeneric/stdlib/rules/target/test-classes/test-config.properties
2016-09-16 15:55:45,526  INFO Trying to create Guice Injector...
2016-09-16 15:55:45,528 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@17c68925
2016-09-16 15:55:45,534 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@7e0ea639
2016-09-16 15:55:45,534 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@3d24753a
2016-09-16 15:55:45,534 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@59a6e353
2016-09-16 15:55:45,534 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@17c68925
2016-09-16 15:55:45,604 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@735b5592
2016-09-16 15:55:46,208 DEBUG Discovered new property: guice.bootstrap.class
2016-09-16 15:55:46,209 DEBUG Discovered new property: scan.packages
2016-09-16 15:55:46,209 DEBUG Discovered new property: override-properties.file
2016-09-16 15:55:46,209 DEBUG Discovered new property: mode
2016-09-16 15:55:46,210 DEBUG Discovered new property: log4j.properties
2016-09-16 15:55:46,210 DEBUG Discovered new property: guice.jaxb.moxy
2016-09-16 15:55:46,210 DEBUG Discovered new property: unit-test
2016-09-16 15:55:46,210 DEBUG Discovered new property: service.instance-id
2016-09-16 15:55:46,210 DEBUG Discovered new property: service-manager.logging.skip
2016-09-16 15:55:46,211 DEBUG Discovered new property: service-manager.logging.max-backlog
2016-09-16 15:55:46,211 DEBUG Discovered new property: service.config.endpoint
2016-09-16 15:55:46,211 DEBUG Discovered new property: service.config.path
2016-09-16 15:55:46,211 DEBUG Discovered new property: service.config.source
2016-09-16 15:55:46,211 DEBUG Discovered new property: service.config.last-revision
2016-09-16 15:55:46,212 DEBUG Discovered new property: service.config.skip
2016-09-16 15:55:46,212 DEBUG Discovered new property: restutils.allow-restart
2016-09-16 15:55:46,212 DEBUG Discovered new property: restutils.show-serviceprops
2016-09-16 15:55:46,212 DEBUG Discovered new property: restutils.allow-reconfigure
2016-09-16 15:55:46,213 DEBUG Discovered new property: restutils.show-bound-values
2016-09-16 15:55:46,213 DEBUG Discovered new property: local.restservices.endpoint
2016-09-16 15:55:46,213 DEBUG Discovered new property: local.restservices.prefix
2016-09-16 15:55:46,213 DEBUG Discovered new property: servlet.context-name
2016-09-16 15:55:46,214 DEBUG Discovered new property: context-name
2016-09-16 15:55:46,214 DEBUG Discovered new property: role.jaxrs-server.auto
2016-09-16 15:55:46,214 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-09-16 15:55:46,214 DEBUG Discovered new property: local.webapp.endpoint
2016-09-16 15:55:46,214 DEBUG Discovered new property: local.container.endpoint
2016-09-16 15:55:46,215 DEBUG Discovered new property: local.webapp.context-path
2016-09-16 15:55:46,215 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-09-16 15:55:46,215 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-09-16 15:55:46,215 DEBUG Discovered new property: framework.webauth.provider
2016-09-16 15:55:46,216 DEBUG Discovered new property: framework.webauth.enabled
2016-09-16 15:55:46,216 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-09-16 15:55:46,216 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-09-16 15:55:46,216 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-09-16 15:55:46,216 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-09-16 15:55:46,217 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-09-16 15:55:46,217 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-09-16 15:55:46,217 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-09-16 15:55:46,217 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-09-16 15:55:46,217 DEBUG Discovered new property: service.oauth2.endpoint
2016-09-16 15:55:46,218 DEBUG Discovered new property: service.oauth2.client_id
2016-09-16 15:55:46,218 DEBUG Discovered new property: service.oauth2.client_secret
2016-09-16 15:55:46,218 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-09-16 15:55:46,218 DEBUG Discovered new property: rest.exception.html.highlight.terms
2016-09-16 15:55:46,219 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2016-09-16 15:55:46,219 DEBUG Discovered new property: rest.exception.html.enabled
2016-09-16 15:55:46,219 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2016-09-16 15:55:46,219 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2016-09-16 15:55:46,219 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2016-09-16 15:55:46,220 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2016-09-16 15:55:46,220 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2016-09-16 15:55:46,220 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2016-09-16 15:55:46,220 DEBUG Discovered new property: rest.exception.html.jira.enabled
2016-09-16 15:55:46,220 DEBUG Discovered new property: rest.exception.html.jira.pid
2016-09-16 15:55:46,221 DEBUG Discovered new property: rest.exception.html.jira.issueType
2016-09-16 15:55:46,221 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2016-09-16 15:55:46,221 DEBUG Discovered new property: hibernate.properties
2016-09-16 15:55:46,221 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-09-16 15:55:46,222 DEBUG Discovered new property: role.hibernate.auto
2016-09-16 15:55:46,222 DEBUG Discovered new property: role.thymeleaf.auto
2016-09-16 15:55:46,222 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-09-16 15:55:46,222 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-09-16 15:55:46,222 DEBUG Discovered new property: role.dbunit.auto
2016-09-16 15:55:46,223 DEBUG Discovered new property: liquibase.action
2016-09-16 15:55:46,223 DEBUG Discovered new property: liquibase.changelog
2016-09-16 15:55:46,223 DEBUG Discovered new property: liquibase.contexts
2016-09-16 15:55:46,224 DEBUG Discovered new property: liquibase.labels
2016-09-16 15:55:46,224 DEBUG Discovered new property: liquibase.parameter.
2016-09-16 15:55:46,310 DEBUG Leaving logging subsystem to initialise itself
2016-09-16 15:55:46,584 DEBUG Injector for (app) created in 980 ms
2016-09-16 15:55:46,588 DEBUG Discovered new property: verifier1
2016-09-16 15:55:46,588 DEBUG Discovered new property: verifier2
2016-09-16 15:55:46,589 DEBUG Discovered new property: verifier3
2016-09-16 15:55:47,151 DEBUG Assessing input for ruleset : local-object-value-match
2016-09-16 15:55:47,243 DEBUG Assessing input for ruleset : jaxb-value-match
2016-09-16 15:55:47,245 DEBUG Assessing input for ruleset : rest-service-call
2016-09-16 15:55:47,367  INFO Trying to create Guice Injector...
2016-09-16 15:55:47,376 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@655f7ea
2016-09-16 15:55:47,384 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@7e0ea639
2016-09-16 15:55:47,390 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@3d24753a
2016-09-16 15:55:47,390 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@59a6e353
2016-09-16 15:55:47,391 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@655f7ea
2016-09-16 15:55:47,391 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@735b5592
2016-09-16 15:55:47,518 DEBUG Discovered new property: guice.bootstrap.class
2016-09-16 15:55:47,519 DEBUG Discovered new property: scan.packages
2016-09-16 15:55:47,519 DEBUG Discovered new property: override-properties.file
2016-09-16 15:55:47,519 DEBUG Discovered new property: mode
2016-09-16 15:55:47,519 DEBUG Discovered new property: log4j.properties
2016-09-16 15:55:47,520 DEBUG Discovered new property: guice.jaxb.moxy
2016-09-16 15:55:47,520 DEBUG Discovered new property: unit-test
2016-09-16 15:55:47,520 DEBUG Discovered new property: service.instance-id
2016-09-16 15:55:47,520 DEBUG Discovered new property: service-manager.logging.skip
2016-09-16 15:55:47,520 DEBUG Discovered new property: service-manager.logging.max-backlog
2016-09-16 15:55:47,521 DEBUG Discovered new property: service.config.endpoint
2016-09-16 15:55:47,521 DEBUG Discovered new property: service.config.path
2016-09-16 15:55:47,521 DEBUG Discovered new property: service.config.source
2016-09-16 15:55:47,521 DEBUG Discovered new property: service.config.last-revision
2016-09-16 15:55:47,521 DEBUG Discovered new property: service.config.skip
2016-09-16 15:55:47,522 DEBUG Discovered new property: restutils.allow-restart
2016-09-16 15:55:47,522 DEBUG Discovered new property: restutils.show-serviceprops
2016-09-16 15:55:47,522 DEBUG Discovered new property: restutils.allow-reconfigure
2016-09-16 15:55:47,522 DEBUG Discovered new property: restutils.show-bound-values
2016-09-16 15:55:47,522 DEBUG Discovered new property: local.restservices.endpoint
2016-09-16 15:55:47,522 DEBUG Discovered new property: local.restservices.prefix
2016-09-16 15:55:47,523 DEBUG Discovered new property: servlet.context-name
2016-09-16 15:55:47,523 DEBUG Discovered new property: context-name
2016-09-16 15:55:47,523 DEBUG Discovered new property: role.jaxrs-server.auto
2016-09-16 15:55:47,523 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-09-16 15:55:47,523 DEBUG Discovered new property: local.webapp.endpoint
2016-09-16 15:55:47,523 DEBUG Discovered new property: local.container.endpoint
2016-09-16 15:55:47,524 DEBUG Discovered new property: local.webapp.context-path
2016-09-16 15:55:47,524 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-09-16 15:55:47,524 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-09-16 15:55:47,524 DEBUG Discovered new property: framework.webauth.provider
2016-09-16 15:55:47,524 DEBUG Discovered new property: framework.webauth.enabled
2016-09-16 15:55:47,524 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-09-16 15:55:47,525 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-09-16 15:55:47,525 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-09-16 15:55:47,525 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-09-16 15:55:47,525 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-09-16 15:55:47,525 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-09-16 15:55:47,526 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-09-16 15:55:47,526 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-09-16 15:55:47,526 DEBUG Discovered new property: service.oauth2.endpoint
2016-09-16 15:55:47,526 DEBUG Discovered new property: service.oauth2.client_id
2016-09-16 15:55:47,526 DEBUG Discovered new property: service.oauth2.client_secret
2016-09-16 15:55:47,526 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-09-16 15:55:47,527 DEBUG Discovered new property: rest.exception.html.highlight.terms
2016-09-16 15:55:47,527 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2016-09-16 15:55:47,527 DEBUG Discovered new property: rest.exception.html.enabled
2016-09-16 15:55:47,527 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2016-09-16 15:55:47,527 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2016-09-16 15:55:47,527 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2016-09-16 15:55:47,528 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2016-09-16 15:55:47,528 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2016-09-16 15:55:47,528 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2016-09-16 15:55:47,528 DEBUG Discovered new property: rest.exception.html.jira.enabled
2016-09-16 15:55:47,528 DEBUG Discovered new property: rest.exception.html.jira.pid
2016-09-16 15:55:47,529 DEBUG Discovered new property: rest.exception.html.jira.issueType
2016-09-16 15:55:47,529 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2016-09-16 15:55:47,529 DEBUG Discovered new property: hibernate.properties
2016-09-16 15:55:47,529 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-09-16 15:55:47,529 DEBUG Discovered new property: role.hibernate.auto
2016-09-16 15:55:47,529 DEBUG Discovered new property: role.thymeleaf.auto
2016-09-16 15:55:47,530 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-09-16 15:55:47,530 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-09-16 15:55:47,530 DEBUG Discovered new property: role.dbunit.auto
2016-09-16 15:55:47,530 DEBUG Discovered new property: liquibase.action
2016-09-16 15:55:47,530 DEBUG Discovered new property: liquibase.changelog
2016-09-16 15:55:47,530 DEBUG Discovered new property: liquibase.contexts
2016-09-16 15:55:47,531 DEBUG Discovered new property: liquibase.labels
2016-09-16 15:55:47,531 DEBUG Discovered new property: liquibase.parameter.
2016-09-16 15:55:47,557 DEBUG Leaving logging subsystem to initialise itself
2016-09-16 15:55:47,691 DEBUG Injector for (app) created in 299 ms
2016-09-16 15:55:47,694 DEBUG Discovered new property: verifier1
2016-09-16 15:55:47,694 DEBUG Discovered new property: verifier2
2016-09-16 15:55:47,696 DEBUG Discovered new property: verifier3
2016-09-16 15:55:47,750  INFO Trying to create Guice Injector...
2016-09-16 15:55:47,751 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@a53bb6f
2016-09-16 15:55:47,757 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@7e0ea639
2016-09-16 15:55:47,757 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@3d24753a
2016-09-16 15:55:47,759 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@59a6e353
2016-09-16 15:55:47,759 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@a53bb6f
2016-09-16 15:55:47,760 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@735b5592
2016-09-16 15:55:47,937 DEBUG Discovered new property: guice.bootstrap.class
2016-09-16 15:55:47,938 DEBUG Discovered new property: scan.packages
2016-09-16 15:55:47,938 DEBUG Discovered new property: override-properties.file
2016-09-16 15:55:47,938 DEBUG Discovered new property: mode
2016-09-16 15:55:47,938 DEBUG Discovered new property: log4j.properties
2016-09-16 15:55:47,939 DEBUG Discovered new property: guice.jaxb.moxy
2016-09-16 15:55:47,939 DEBUG Discovered new property: unit-test
2016-09-16 15:55:47,939 DEBUG Discovered new property: service.instance-id
2016-09-16 15:55:47,939 DEBUG Discovered new property: service-manager.logging.skip
2016-09-16 15:55:47,939 DEBUG Discovered new property: service-manager.logging.max-backlog
2016-09-16 15:55:47,940 DEBUG Discovered new property: service.config.endpoint
2016-09-16 15:55:47,940 DEBUG Discovered new property: service.config.path
2016-09-16 15:55:47,940 DEBUG Discovered new property: service.config.source
2016-09-16 15:55:47,940 DEBUG Discovered new property: service.config.last-revision
2016-09-16 15:55:47,940 DEBUG Discovered new property: service.config.skip
2016-09-16 15:55:47,941 DEBUG Discovered new property: restutils.allow-restart
2016-09-16 15:55:47,941 DEBUG Discovered new property: restutils.show-serviceprops
2016-09-16 15:55:47,941 DEBUG Discovered new property: restutils.allow-reconfigure
2016-09-16 15:55:47,941 DEBUG Discovered new property: restutils.show-bound-values
2016-09-16 15:55:47,941 DEBUG Discovered new property: local.restservices.endpoint
2016-09-16 15:55:47,941 DEBUG Discovered new property: local.restservices.prefix
2016-09-16 15:55:47,942 DEBUG Discovered new property: servlet.context-name
2016-09-16 15:55:47,942 DEBUG Discovered new property: context-name
2016-09-16 15:55:47,942 DEBUG Discovered new property: role.jaxrs-server.auto
2016-09-16 15:55:47,942 DEBUG Discovered new property: framework.restcoreservices.disabled
2016-09-16 15:55:47,942 DEBUG Discovered new property: local.webapp.endpoint
2016-09-16 15:55:47,942 DEBUG Discovered new property: local.container.endpoint
2016-09-16 15:55:47,943 DEBUG Discovered new property: local.webapp.context-path
2016-09-16 15:55:47,943 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2016-09-16 15:55:47,943 DEBUG Discovered new property: framework.suppress-ClientAbortException
2016-09-16 15:55:47,943 DEBUG Discovered new property: framework.webauth.provider
2016-09-16 15:55:47,944 DEBUG Discovered new property: framework.webauth.enabled
2016-09-16 15:55:47,944 DEBUG Discovered new property: framework.webauth.only-servlet-request
2016-09-16 15:55:47,944 DEBUG Discovered new property: framework.webauth.scope.default.role
2016-09-16 15:55:47,944 DEBUG Discovered new property: framework.webauth.scope.default.skip
2016-09-16 15:55:47,944 DEBUG Discovered new property: framework.webauth.jwt.secret
2016-09-16 15:55:47,944 DEBUG Discovered new property: framework.webauth.jwt.issuer
2016-09-16 15:55:47,945 DEBUG Discovered new property: framework.webauth.jwt.audience
2016-09-16 15:55:47,945 DEBUG Discovered new property: framework.webauth.jwt.header-name
2016-09-16 15:55:47,945 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2016-09-16 15:55:47,945 DEBUG Discovered new property: service.oauth2.endpoint
2016-09-16 15:55:47,945 DEBUG Discovered new property: service.oauth2.client_id
2016-09-16 15:55:47,945 DEBUG Discovered new property: service.oauth2.client_secret
2016-09-16 15:55:47,946 DEBUG Discovered new property: framework.http-request.default-to-utf8
2016-09-16 15:55:47,951 DEBUG Discovered new property: rest.exception.html.highlight.terms
2016-09-16 15:55:47,951 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2016-09-16 15:55:47,951 DEBUG Discovered new property: rest.exception.html.enabled
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2016-09-16 15:55:47,952 DEBUG Discovered new property: rest.exception.html.jira.enabled
2016-09-16 15:55:47,953 DEBUG Discovered new property: rest.exception.html.jira.pid
2016-09-16 15:55:47,953 DEBUG Discovered new property: rest.exception.html.jira.issueType
2016-09-16 15:55:47,953 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2016-09-16 15:55:47,954 DEBUG Discovered new property: hibernate.properties
2016-09-16 15:55:47,954 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2016-09-16 15:55:47,954 DEBUG Discovered new property: role.hibernate.auto
2016-09-16 15:55:47,954 DEBUG Discovered new property: role.thymeleaf.auto
2016-09-16 15:55:47,954 DEBUG Discovered new property: role.metrics-jaxrs.auto
2016-09-16 15:55:47,954 DEBUG Discovered new property: metrics-jaxrs.show-samples
2016-09-16 15:55:47,955 DEBUG Discovered new property: role.dbunit.auto
2016-09-16 15:55:47,956 DEBUG Discovered new property: liquibase.action
2016-09-16 15:55:47,956 DEBUG Discovered new property: liquibase.changelog
2016-09-16 15:55:47,956 DEBUG Discovered new property: liquibase.contexts
2016-09-16 15:55:47,956 DEBUG Discovered new property: liquibase.labels
2016-09-16 15:55:47,956 DEBUG Discovered new property: liquibase.parameter.
2016-09-16 15:55:47,970 DEBUG Leaving logging subsystem to initialise itself
2016-09-16 15:55:48,088 DEBUG Injector for (app) created in 328 ms
2016-09-16 15:55:48,119 DEBUG Discovered new property: verifier1
2016-09-16 15:55:48,119 DEBUG Discovered new property: verifier2
2016-09-16 15:55:48,119 DEBUG Discovered new property: verifier3
2016-09-16 15:55:48,165 DEBUG Assessing input for ruleset : local-object-value-match
2016-09-16 15:55:48,167 DEBUG input.equals("n") matches
2016-09-16 15:55:48,167 DEBUG Assessing input for ruleset : jaxb-value-match
2016-09-16 15:55:48,171 DEBUG input.equals("text") matches
2016-09-16 15:55:48,171 DEBUG Assessing input for ruleset : rest-service-call
2016-09-16 15:55:48,172 DEBUG input == "proceed" matches
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.66 sec - in com.peterphi.rules.RuleTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-azure 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-azure ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/azure/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-azure ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.azure.AzureTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.007 sec - in com.peterphi.std.azure.AzureTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 1

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager Main 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/petergeneric/stdlib/service-manager/service-manager/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.5-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest
2016-09-16 15:55:52,598  INFO Trying to create Guice Injector...
2016-09-16 15:55:52,902  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes/com/peterphi/
2016-09-16 15:55:52,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/com/peterphi/
2016-09-16 15:55:52,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes/com/peterphi/
2016-09-16 15:55:52,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/stdlib/target/classes/com/peterphi/
2016-09-16 15:55:52,903  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/common/target/classes/com/peterphi/
2016-09-16 15:55:52,904  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes/com/peterphi/
2016-09-16 15:55:52,904  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/
2016-09-16 15:55:52,904  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes/com/peterphi/
2016-09-16 15:55:52,904  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes/com/peterphi/
2016-09-16 15:55:52,905  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes/com/peterphi/
2016-09-16 15:55:52,905  INFO Found source: file:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes/com/peterphi/
2016-09-16 15:55:54,374 DEBUG Discovered new property: dbunit.schema
2016-09-16 15:55:54,510 DEBUG Injector for (app) created in 1765 ms
2016-09-16 15:55:54,510 DEBUG Class scanner stats: insts=1 cached createTime=493, scanTime=0
2016-09-16 15:55:54,576 DEBUG Discovered new property: hibernate.perform-separate-id-query-for-large-tables
2016-09-16 15:55:54,832 DEBUG Logging Provider: org.jboss.logging.Log4jLoggerProvider
2016-09-16 15:55:54,848 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@6b98a075
2016-09-16 15:55:54,848 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@6b98a075
2016-09-16 15:55:54,848 DEBUG Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@6b98a075
2016-09-16 15:55:54,849 DEBUG Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@2e554a3b
2016-09-16 15:55:54,851 DEBUG Adding type registration true_false -> org.hibernate.type.TrueFalseType@5ddea849
2016-09-16 15:55:54,851 DEBUG Adding type registration yes_no -> org.hibernate.type.YesNoType@704f1591
2016-09-16 15:55:54,854 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@4b9df8a
2016-09-16 15:55:54,855 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@4b9df8a
2016-09-16 15:55:54,855 DEBUG Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@4b9df8a
2016-09-16 15:55:54,856 DEBUG Adding type registration character -> org.hibernate.type.CharacterType@2b5f4d54
2016-09-16 15:55:54,857 DEBUG Adding type registration char -> org.hibernate.type.CharacterType@2b5f4d54
2016-09-16 15:55:54,858 DEBUG Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@2b5f4d54
2016-09-16 15:55:54,860 DEBUG Adding type registration short -> org.hibernate.type.ShortType@68044f4
2016-09-16 15:55:54,860 DEBUG Adding type registration short -> org.hibernate.type.ShortType@68044f4
2016-09-16 15:55:54,861 DEBUG Adding type registration java.lang.Short -> org.hibernate.type.ShortType@68044f4
2016-09-16 15:55:54,862 DEBUG Adding type registration integer -> org.hibernate.type.IntegerType@2f05be7f
2016-09-16 15:55:54,863 DEBUG Adding type registration int -> org.hibernate.type.IntegerType@2f05be7f
2016-09-16 15:55:54,864 DEBUG Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@2f05be7f
2016-09-16 15:55:54,866 DEBUG Adding type registration long -> org.hibernate.type.LongType@52de51b6
2016-09-16 15:55:54,866 DEBUG Adding type registration long -> org.hibernate.type.LongType@52de51b6
2016-09-16 15:55:54,866 DEBUG Adding type registration java.lang.Long -> org.hibernate.type.LongType@52de51b6
2016-09-16 15:55:54,868 DEBUG Adding type registration float -> org.hibernate.type.FloatType@1755e85b
2016-09-16 15:55:54,868 DEBUG Adding type registration float -> org.hibernate.type.FloatType@1755e85b
2016-09-16 15:55:54,869 DEBUG Adding type registration java.lang.Float -> org.hibernate.type.FloatType@1755e85b
2016-09-16 15:55:54,870 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@1af687fe
2016-09-16 15:55:54,871 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@1af687fe
2016-09-16 15:55:54,871 DEBUG Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@1af687fe
2016-09-16 15:55:54,874 DEBUG Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@1a45193b
2016-09-16 15:55:54,874 DEBUG Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@1a45193b
2016-09-16 15:55:54,877 DEBUG Adding type registration big_integer -> org.hibernate.type.BigIntegerType@85e6769
2016-09-16 15:55:54,877 DEBUG Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@85e6769
2016-09-16 15:55:54,878 DEBUG Adding type registration string -> org.hibernate.type.StringType@b70da4c
2016-09-16 15:55:54,878 DEBUG Adding type registration java.lang.String -> org.hibernate.type.StringType@b70da4c
2016-09-16 15:55:54,880 DEBUG Adding type registration nstring -> org.hibernate.type.StringNVarcharType@b7838a9
2016-09-16 15:55:54,881 DEBUG Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@47a86fbb
2016-09-16 15:55:54,884 DEBUG Adding type registration url -> org.hibernate.type.UrlType@4c4748bf
2016-09-16 15:55:54,885 DEBUG Adding type registration java.net.URL -> org.hibernate.type.UrlType@4c4748bf
2016-09-16 15:55:54,887 DEBUG Adding type registration date -> org.hibernate.type.DateType@47c4ecdc
2016-09-16 15:55:54,888 DEBUG Adding type registration java.sql.Date -> org.hibernate.type.DateType@47c4ecdc
2016-09-16 15:55:54,890 DEBUG Adding type registration time -> org.hibernate.type.TimeType@7096b474
2016-09-16 15:55:54,890 DEBUG Adding type registration java.sql.Time -> org.hibernate.type.TimeType@7096b474
2016-09-16 15:55:54,892 DEBUG Adding type registration timestamp -> org.hibernate.type.TimestampType@793138bd
2016-09-16 15:55:54,892 DEBUG Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@793138bd
2016-09-16 15:55:54,892 DEBUG Adding type registration java.util.Date -> org.hibernate.type.TimestampType@793138bd
2016-09-16 15:55:54,894 DEBUG Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@33aeca0b
2016-09-16 15:55:54,895 DEBUG Adding type registration calendar -> org.hibernate.type.CalendarType@2f6e28bc
2016-09-16 15:55:54,895 DEBUG Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@2f6e28bc
2016-09-16 15:55:54,896 DEBUG Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@2f6e28bc
2016-09-16 15:55:54,897 DEBUG Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@18cebaa5
2016-09-16 15:55:54,898 DEBUG Adding type registration locale -> org.hibernate.type.LocaleType@1d0d6318
2016-09-16 15:55:54,899 DEBUG Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@1d0d6318
2016-09-16 15:55:54,901 DEBUG Adding type registration currency -> org.hibernate.type.CurrencyType@7ec3394b
2016-09-16 15:55:54,901 DEBUG Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@7ec3394b
2016-09-16 15:55:54,903 DEBUG Adding type registration timezone -> org.hibernate.type.TimeZoneType@278bb07e
2016-09-16 15:55:54,904 DEBUG Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@278bb07e
2016-09-16 15:55:54,905 DEBUG Adding type registration class -> org.hibernate.type.ClassType@5c42d2b7
2016-09-16 15:55:54,906 DEBUG Adding type registration java.lang.Class -> org.hibernate.type.ClassType@5c42d2b7
2016-09-16 15:55:54,909 DEBUG Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@45905bff
2016-09-16 15:55:54,909 DEBUG Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@45905bff
2016-09-16 15:55:54,910 DEBUG Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@6b44435b
2016-09-16 15:55:54,910 DEBUG Adding type registration pg-uuid -> org.hibernate.type.PostgresUUIDType@3542162a
2016-09-16 15:55:54,912 DEBUG Adding type registration binary -> org.hibernate.type.BinaryType@c1bd0be
2016-09-16 15:55:54,913 DEBUG Adding type registration byte[] -> org.hibernate.type.BinaryType@c1bd0be
2016-09-16 15:55:54,913 DEBUG Adding type registration [B -> org.hibernate.type.BinaryType@c1bd0be
2016-09-16 15:55:54,914 DEBUG Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@17a87e37
2016-09-16 15:55:54,914 DEBUG Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@17a87e37
2016-09-16 15:55:54,914 DEBUG Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@17a87e37
2016-09-16 15:55:54,917 DEBUG Adding type registration image -> org.hibernate.type.ImageType@a202ccb
2016-09-16 15:55:54,919 DEBUG Adding type registration characters -> org.hibernate.type.CharArrayType@3a3e4aff
2016-09-16 15:55:54,920 DEBUG Adding type registration char[] -> org.hibernate.type.CharArrayType@3a3e4aff
2016-09-16 15:55:54,921 DEBUG Adding type registration [C -> org.hibernate.type.CharArrayType@3a3e4aff
2016-09-16 15:55:54,922 DEBUG Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@3e10dc6
2016-09-16 15:55:54,922 DEBUG Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@3e10dc6
2016-09-16 15:55:54,922 DEBUG Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@3e10dc6
2016-09-16 15:55:54,924 DEBUG Adding type registration text -> org.hibernate.type.TextType@5a7005d
2016-09-16 15:55:54,924 DEBUG Adding type registration ntext -> org.hibernate.type.NTextType@5e81e5ac
2016-09-16 15:55:54,929 DEBUG Adding type registration blob -> org.hibernate.type.BlobType@1af146
2016-09-16 15:55:54,930 DEBUG Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@1af146
2016-09-16 15:55:54,930 DEBUG Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@25b2cfcb
2016-09-16 15:55:54,934 DEBUG Adding type registration clob -> org.hibernate.type.ClobType@674658f7
2016-09-16 15:55:54,935 DEBUG Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@674658f7
2016-09-16 15:55:54,938 DEBUG Adding type registration nclob -> org.hibernate.type.NClobType@7e928e2f
2016-09-16 15:55:54,939 DEBUG Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@7e928e2f
2016-09-16 15:55:54,941 DEBUG Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@4febb875
2016-09-16 15:55:54,942 DEBUG Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@10c626be
2016-09-16 15:55:54,946 DEBUG Adding type registration serializable -> org.hibernate.type.SerializableType@75459c75
2016-09-16 15:55:54,949 DEBUG Adding type registration object -> org.hibernate.type.ObjectType@792bbc74
2016-09-16 15:55:54,949 DEBUG Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@792bbc74
2016-09-16 15:55:54,950 DEBUG Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@4c4d27c8
2016-09-16 15:55:54,950 DEBUG Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@6821ea29
2016-09-16 15:55:54,950 DEBUG Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@338494fa
2016-09-16 15:55:54,950 DEBUG Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@505a9d7c
2016-09-16 15:55:54,951 DEBUG Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@758c83d8
2016-09-16 15:55:54,951 DEBUG Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@129b4fe2
2016-09-16 15:55:54,951 DEBUG Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@5af3a0f
2016-09-16 15:55:54,952 DEBUG Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@19ae6bb
2016-09-16 15:55:54,968  INFO HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-09-16 15:55:54,974  INFO HHH000412: Hibernate Core {4.3.8.Final}
2016-09-16 15:55:54,976  INFO HHH000206: hibernate.properties not found
2016-09-16 15:55:54,978  INFO HHH000021: Bytecode provider name : javassist
2016-09-16 15:55:54,989 DEBUG Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2016-09-16 15:55:54,990 DEBUG Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2016-09-16 15:55:54,991 DEBUG Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2016-09-16 15:55:54,991 DEBUG Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2016-09-16 15:55:54,998 DEBUG Registering IdentifierGenerator strategy [hilo] -> [org.hibernate.id.TableHiLoGenerator]
2016-09-16 15:55:54,999 DEBUG Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2016-09-16 15:55:55,001 DEBUG Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2016-09-16 15:55:55,002 DEBUG Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2016-09-16 15:55:55,003 DEBUG Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.SequenceGenerator]
2016-09-16 15:55:55,004 DEBUG Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2016-09-16 15:55:55,008 DEBUG Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2016-09-16 15:55:55,010 DEBUG Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2016-09-16 15:55:55,011 DEBUG Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2016-09-16 15:55:55,012 DEBUG Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2016-09-16 15:55:55,013 DEBUG Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2016-09-16 15:55:55,037 DEBUG Adding type registration java.util.Date -> org.hibernate.type.CustomType@62fad19
2016-09-16 15:55:55,037  INFO HHH000270: Type registration [java.util.Date] overrides previous : org.hibernate.type.TimestampType@793138bd
2016-09-16 15:55:55,039 DEBUG Adding type registration org.joda.time.DateTime -> org.hibernate.type.CustomType@47dbb1e2
2016-09-16 15:55:55,040 DEBUG Adding type registration com.peterphi.std.types.Timecode -> org.hibernate.type.CustomType@74cadd41
2016-09-16 15:55:55,041 DEBUG Adding type registration com.peterphi.std.types.SampleCount -> org.hibernate.type.CustomType@2e54db99
2016-09-16 15:55:55,046 DEBUG Adding type registration org.joda.time.LocalDate -> org.hibernate.type.CustomType@55e8ec2f
2016-09-16 15:55:55,054 DEBUG Execute called: UPDATE
2016-09-16 15:55:55,066 DEBUG Create JDBC Connection directly: jdbc:hsqldb:mem:testdb
2016-09-16 15:55:55,680 DEBUG Opening jar:file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter9057267023678863540.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:55,681 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/maven/surefire/surefire-booter/2.19/surefire-booter-2.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:55,681 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/maven/surefire/surefire-api/2.19/surefire-api-2.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:55,681 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:55,682 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:55,683 DEBUG Opening jar:file:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:55,830 DEBUG Opening jar:file:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,193 DEBUG Opening jar:file:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,220 DEBUG Opening jar:file:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,224 DEBUG Opening jar:file:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,224 DEBUG Opening jar:file:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,224 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,225 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,225 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,225 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,225 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,226 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,226 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,226 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,226 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,229 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,229 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,229 DEBUG Opening jar:file:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,230 DEBUG Opening jar:file:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,230 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,230 DEBUG Opening jar:file:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,230 DEBUG Opening jar:file:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,231 DEBUG Opening jar:file:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,231 DEBUG Opening jar:file:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,231 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,232 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.19.Final/resteasy-jettison-provider-3.0.19.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,232 DEBUG Opening jar:file:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,232 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,232 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,233 DEBUG Opening jar:file:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,233 DEBUG Opening jar:file:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,234 DEBUG Opening jar:file:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,234 DEBUG Opening jar:file:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,234 DEBUG Opening jar:file:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,234 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,235 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,235 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,236 DEBUG Opening jar:file:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,236 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,236 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,236 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,237 DEBUG Opening jar:file:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,237 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,238 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,238 DEBUG Opening jar:file:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,238 DEBUG Opening jar:file:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,238 DEBUG Opening jar:file:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,239 DEBUG Opening jar:file:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,240 DEBUG Opening jar:file:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,240 DEBUG Opening jar:file:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,240 DEBUG Opening jar:file:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,241 DEBUG Opening jar:file:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,241 DEBUG Opening jar:file:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,242 DEBUG Opening jar:file:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,242 DEBUG Opening jar:file:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,242 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,243 DEBUG Opening jar:file:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,243 DEBUG Opening jar:file:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,243 DEBUG Opening jar:file:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,244 DEBUG Opening jar:file:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,244 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,244 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,246 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,247 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,247 DEBUG Opening jar:file:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,247 DEBUG Opening jar:file:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,248 DEBUG Opening jar:file:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,248 DEBUG Opening jar:file:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:56,248 DEBUG Opening jar:file:/home/travis/.m2/repository/org/apache/maven/surefire/surefire-junit4/2.19/surefire-junit4-2.19.jar!/META-INF/MANIFEST.MF as META-INF/MANIFEST.MF
2016-09-16 15:55:57,566 DEBUG Connected to SA@jdbc:hsqldb:mem:testdb
2016-09-16 15:55:57,566 DEBUG Setting auto commit to false from true
2016-09-16 15:55:57,573 DEBUG Execute liquibase action: UPDATE
2016-09-16 15:55:57,623 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOGLOCK
2016-09-16 15:55:57,626 DEBUG Create Database Lock Table
2016-09-16 15:55:57,639 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID))
2016-09-16 15:55:57,640 DEBUG Created database lock table with name: PUBLIC.DATABASECHANGELOGLOCK
2016-09-16 15:55:57,641 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOGLOCK
2016-09-16 15:55:57,642 DEBUG Initialize Database Lock Table
2016-09-16 15:55:57,644 DEBUG Executing EXECUTE database command: DELETE FROM PUBLIC.DATABASECHANGELOGLOCK
2016-09-16 15:55:57,648 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOGLOCK (ID, LOCKED) VALUES (1, FALSE)
2016-09-16 15:55:57,650 DEBUG Executing QUERY database command: SELECT LOCKED FROM PUBLIC.DATABASECHANGELOGLOCK WHERE ID=1
2016-09-16 15:55:57,650 DEBUG Lock Database
2016-09-16 15:55:57,655 DEBUG Executing UPDATE database command: UPDATE PUBLIC.DATABASECHANGELOGLOCK SET LOCKED = TRUE, LOCKEDBY = 'fe80:0:0:0:2431:32ff:fe86:14b2%eth0 (fe80:0:0:0:2431:32ff:fe86:14b2%eth0)', LOCKGRANTED = '2016-09-16 15:55:57.651' WHERE ID = 1 AND LOCKED = FALSE
2016-09-16 15:55:57,656  INFO Successfully acquired change log lock
2016-09-16 15:55:57,681 DEBUG Opening file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/liquibase/changelog.xml as liquibase/changelog.xml
2016-09-16 15:55:59,098 DEBUG Resolving XML entity name='null', publicId='null', baseURI='null', systemId='http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd'
2016-09-16 15:55:59,100 DEBUG Found namespace details class liquibase.parser.core.xml.StandardNamespaceDetails for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd
2016-09-16 15:55:59,100 DEBUG Local path for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd is liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-16 15:55:59,100 DEBUG Opening jar:file:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar!/liquibase/parser/core/xml/dbchangelog-3.3.xsd as liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-16 15:55:59,100 DEBUG Successfully loaded XSD from liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-16 15:55:59,329 DEBUG Opening file:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes/liquibase/000-Original.xml as liquibase/000-Original.xml
2016-09-16 15:55:59,331 DEBUG Resolving XML entity name='null', publicId='null', baseURI='null', systemId='http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd'
2016-09-16 15:55:59,331 DEBUG Found namespace details class liquibase.parser.core.xml.StandardNamespaceDetails for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd
2016-09-16 15:55:59,331 DEBUG Local path for http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd is liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-16 15:55:59,332 DEBUG Opening jar:file:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar!/liquibase/parser/core/xml/dbchangelog-3.3.xsd as liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-16 15:55:59,332 DEBUG Successfully loaded XSD from liquibase/parser/core/xml/dbchangelog-3.3.xsd
2016-09-16 15:55:59,477 DEBUG Computed checksum for 1474041359477 as 9dfa2ee66ceeaeeeaf4f580248202830
2016-09-16 15:55:59,497 DEBUG Create Database Change Log Table
2016-09-16 15:55:59,499  INFO Creating database history table with name: PUBLIC.DATABASECHANGELOG
2016-09-16 15:55:59,500 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.DATABASECHANGELOG (ID VARCHAR(255) NOT NULL, AUTHOR VARCHAR(255) NOT NULL, FILENAME VARCHAR(255) NOT NULL, DATEEXECUTED TIMESTAMP NOT NULL, ORDEREXECUTED INT NOT NULL, EXECTYPE VARCHAR(10) NOT NULL, MD5SUM VARCHAR(35), DESCRIPTION VARCHAR(255), COMMENTS VARCHAR(255), TAG VARCHAR(255), LIQUIBASE VARCHAR(20), CONTEXTS VARCHAR(255), LABELS VARCHAR(255))
2016-09-16 15:55:59,502 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOG
2016-09-16 15:55:59,502  INFO Reading from PUBLIC.DATABASECHANGELOG
2016-09-16 15:55:59,503 DEBUG Executing QUERY database command: SELECT * FROM PUBLIC.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2016-09-16 15:55:59,504 DEBUG Executing QUERY database command: select count(*) from PUBLIC.DATABASECHANGELOGLOCK
2016-09-16 15:55:59,518 DEBUG Running Changeset:./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com
2016-09-16 15:55:59,519 DEBUG Changeset ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com
2016-09-16 15:55:59,519 DEBUG Reading ChangeSet: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com
2016-09-16 15:55:59,519 DEBUG Executing Statement: liquibase.statement.core.CreateSequenceStatement@7cb8437d
2016-09-16 15:55:59,520 DEBUG Executing EXECUTE database command: CREATE SEQUENCE PUBLIC.hibernate_sequence AS BIGINT
2016-09-16 15:55:59,520  INFO Sequence hibernate_sequence created
2016-09-16 15:55:59,521  INFO ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com ran successfully in 1ms
2016-09-16 15:55:59,521 DEBUG Executing QUERY database command: SELECT MAX(ORDEREXECUTED) FROM PUBLIC.DATABASECHANGELOG
2016-09-16 15:55:59,526 DEBUG Computed checksum for createSequence:[
    sequenceName="hibernate_sequence"
] as 3b59bc60f6cf5c7c76b020ae29954565
2016-09-16 15:55:59,526 DEBUG Computed checksum for 7:3b59bc60f6cf5c7c76b020ae29954565: as afe897bea20bc08d1681087c94d0967d
2016-09-16 15:55:59,528 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('pk_sequence_on_supported_dbs', 'peter@peterphi.com', './000-Original.xml', NOW, 1, '7:afe897bea20bc08d1681087c94d0967d', 'createSequence', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-16 15:55:59,529 DEBUG Computed checksum for createSequence:[
    sequenceName="hibernate_sequence"
] as 3b59bc60f6cf5c7c76b020ae29954565
2016-09-16 15:55:59,529 DEBUG Computed checksum for 7:3b59bc60f6cf5c7c76b020ae29954565: as afe897bea20bc08d1681087c94d0967d
2016-09-16 15:55:59,530 DEBUG Running Changeset:./000-Original.xml::create_user_account::peter@peterphi.com
2016-09-16 15:55:59,530 DEBUG Changeset ./000-Original.xml::create_user_account::peter@peterphi.com
2016-09-16 15:55:59,530 DEBUG Reading ChangeSet: ./000-Original.xml::create_user_account::peter@peterphi.com
2016-09-16 15:55:59,530 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@367b22e5
2016-09-16 15:55:59,531 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.user_account (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, email VARCHAR(200) NOT NULL, password VARCHAR(60) NOT NULL, name VARCHAR(100) NOT NULL, local_session_id VARCHAR(36), date_format VARCHAR(50) NOT NULL, date_timezone VARCHAR(50) NOT NULL, created_ts BIGINT NOT NULL, last_login_ts BIGINT, CONSTRAINT PK__user_account PRIMARY KEY (id))
2016-09-16 15:55:59,532  INFO Table user_account created
2016-09-16 15:55:59,532 DEBUG Executing Statement: liquibase.statement.core.AddUniqueConstraintStatement@38320e34
2016-09-16 15:55:59,534 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_account ADD CONSTRAINT UX_user_account__email UNIQUE (email)
2016-09-16 15:55:59,535  INFO Unique constraint added to user_account(email)
2016-09-16 15:55:59,536  INFO ChangeSet ./000-Original.xml::create_user_account::peter@peterphi.com ran successfully in 6ms
2016-09-16 15:55:59,575 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__user_account"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="email"
            type="VARCHAR(200)"
        ],
        [
            [
                nullable="false"
            ]
            name="password"
            type="VARCH... [truncated in log] as 5e2bb1e3bad2ff4525459176f518ba75
2016-09-16 15:55:59,578 DEBUG Computed checksum for addUniqueConstraint:[
    columnNames="email"
    constraintName="UX_user_account__email"
    deferrable="false"
    disabled="false"
    initiallyDeferred="false"
    tableName="user_account"
] as 6562c099e536b47766ad0e2eab062964
2016-09-16 15:55:59,579 DEBUG Computed checksum for 7:5e2bb1e3bad2ff4525459176f518ba75:7:6562c099e536b47766ad0e2eab062964: as 326b1fbd4a7f1401b1f6fa24d24c6da2
2016-09-16 15:55:59,580 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_user_account', 'peter@peterphi.com', './000-Original.xml', NOW, 2, '7:326b1fbd4a7f1401b1f6fa24d24c6da2', 'createTable, addUniqueConstraint', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-16 15:55:59,582 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__user_account"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="email"
            type="VARCHAR(200)"
        ],
        [
            [
                nullable="false"
            ]
            name="password"
            type="VARCH... [truncated in log] as 5e2bb1e3bad2ff4525459176f518ba75
2016-09-16 15:55:59,582 DEBUG Computed checksum for addUniqueConstraint:[
    columnNames="email"
    constraintName="UX_user_account__email"
    deferrable="false"
    disabled="false"
    initiallyDeferred="false"
    tableName="user_account"
] as 6562c099e536b47766ad0e2eab062964
2016-09-16 15:55:59,584 DEBUG Computed checksum for 7:5e2bb1e3bad2ff4525459176f518ba75:7:6562c099e536b47766ad0e2eab062964: as 326b1fbd4a7f1401b1f6fa24d24c6da2
2016-09-16 15:55:59,584 DEBUG Running Changeset:./000-Original.xml::add_role_definition_table::peter@peterphi.com
2016-09-16 15:55:59,584 DEBUG Changeset ./000-Original.xml::add_role_definition_table::peter@peterphi.com
2016-09-16 15:55:59,585 DEBUG Reading ChangeSet: ./000-Original.xml::add_role_definition_table::peter@peterphi.com
2016-09-16 15:55:59,593 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@11d4dbd6
2016-09-16 15:55:59,594 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.role_definition (id VARCHAR(255) NOT NULL, caption VARCHAR(1024) NOT NULL, CONSTRAINT PK__role_definition PRIMARY KEY (id))
2016-09-16 15:55:59,594  INFO Table role_definition created
2016-09-16 15:55:59,594 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@eb507b9
2016-09-16 15:55:59,595 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.user_has_role (user_id INT NOT NULL, role_id VARCHAR(255) NOT NULL)
2016-09-16 15:55:59,595  INFO Table user_has_role created
2016-09-16 15:55:59,595 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@186cb891
2016-09-16 15:55:59,596 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_has_role ADD CONSTRAINT FK__user_has_role__user_id FOREIGN KEY (user_id) REFERENCES PUBLIC.user_account (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-16 15:55:59,597  INFO Foreign key constraint added to user_has_role (user_id)
2016-09-16 15:55:59,601 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@7fc7c4a
2016-09-16 15:55:59,604 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_has_role ADD CONSTRAINT FK__user_has_role__role_id FOREIGN KEY (role_id) REFERENCES PUBLIC.role_definition (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-16 15:55:59,605  INFO Foreign key constraint added to user_has_role (role_id)
2016-09-16 15:55:59,605 DEBUG Executing Statement: liquibase.statement.core.AddPrimaryKeyStatement@624a24f6
2016-09-16 15:55:59,605 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.user_has_role ADD CONSTRAINT PK__user_has_role PRIMARY KEY (user_id, role_id)
2016-09-16 15:55:59,606  INFO Primary key added to user_has_role (user_id, role_id)
2016-09-16 15:55:59,606 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@4f453e63
2016-09-16 15:55:59,607 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('user-manager-admin', 'User Administrator')
2016-09-16 15:55:59,607  INFO New row inserted into role_definition
2016-09-16 15:55:59,607 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@7c9bdee9
2016-09-16 15:55:59,607 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('admin', 'Administrator')
2016-09-16 15:55:59,608  INFO New row inserted into role_definition
2016-09-16 15:55:59,608 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@7afbf561
2016-09-16 15:55:59,608 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('framework-admin', 'Application Framework Administrator (for service /guice pages)')
2016-09-16 15:55:59,610  INFO New row inserted into role_definition
2016-09-16 15:55:59,610 DEBUG Executing Statement: liquibase.statement.core.InsertStatement@2f98635e
2016-09-16 15:55:59,611 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.role_definition (id, caption) VALUES ('framework-info', 'Application Framework User (for service /guice pages)')
2016-09-16 15:55:59,611  INFO New row inserted into role_definition
2016-09-16 15:55:59,611  INFO ChangeSet ./000-Original.xml::add_role_definition_table::peter@peterphi.com ran successfully in 27ms
2016-09-16 15:55:59,612 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__role_definition"
            ]
            name="id"
            type="VARCHAR(255)"
        ],
        [
            [
                nullable="false"
            ]
            name="caption"
            type="VARCHAR(1024)"
        ]
    ]
    tableName="role_definition"
] as 638e00ed1d0eabae58a30d51c1e4e490
2016-09-16 15:55:59,613 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="role_id"
            type="VARCHAR(255)"
        ]
    ]
    tableName="user_has_role"
] as 428f13250051c9ad6d1a2ff308215002
2016-09-16 15:55:59,614 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b0c345c00852105cfccca02f65133554
2016-09-16 15:55:59,616 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="role_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__role_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="role_definition"
] as 7a93c8fbdae38ad478df2a91ae9cf04e
2016-09-16 15:55:59,617 DEBUG Computed checksum for addPrimaryKey:[
    columnNames="user_id, role_id"
    constraintName="PK__user_has_role"
    tableName="user_has_role"
] as 9e5cc2c235e8568629cd6f0387405ff8
2016-09-16 15:55:59,625 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="user-manager-admin"
        ],
        [
            name="caption"
            value="User Administrator"
        ]
    ]
    tableName="role_definition"
] as 74b5a5e1afd8946069d05d2df6ec78ad
2016-09-16 15:55:59,626 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="admin"
        ],
        [
            name="caption"
            value="Administrator"
        ]
    ]
    tableName="role_definition"
] as b597557de631132d4c7162dac336e385
2016-09-16 15:55:59,626 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-admin"
        ],
        [
            name="caption"
            value="Application Framework Administrator (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as a17f55639f9f8c23be54dcd3557016ed
2016-09-16 15:55:59,626 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-info"
        ],
        [
            name="caption"
            value="Application Framework User (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as 2e2fff5e8c7d1bdedcda2f627760e230
2016-09-16 15:55:59,627 DEBUG Computed checksum for 7:638e00ed1d0eabae58a30d51c1e4e490:7:428f13250051c9ad6d1a2ff308215002:7:b0c345c00852105cfccca02f65133554:7:7a93c8fbdae38ad478df2a91ae9cf04e:7:9e5cc2c235e8568629cd6f0387405ff8:7:74b5a5e1afd8946069d05d2df6ec78ad:7:b597557de631132d4c7162dac336e385:7:a17f55639f9f8c23be54dcd3557016ed:7:2e2fff5e8c7d1bdedcda2f627760e230: as 8ddc35e308ab46b077bda7393544fbb6
2016-09-16 15:55:59,628 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('add_role_definition_table', 'peter@peterphi.com', './000-Original.xml', NOW, 3, '7:8ddc35e308ab46b077bda7393544fbb6', 'createTable (x2), addForeignKeyConstraint (x2), addPrimaryKey, insert (x4)', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-16 15:55:59,628 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__role_definition"
            ]
            name="id"
            type="VARCHAR(255)"
        ],
        [
            [
                nullable="false"
            ]
            name="caption"
            type="VARCHAR(1024)"
        ]
    ]
    tableName="role_definition"
] as 638e00ed1d0eabae58a30d51c1e4e490
2016-09-16 15:55:59,629 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="role_id"
            type="VARCHAR(255)"
        ]
    ]
    tableName="user_has_role"
] as 428f13250051c9ad6d1a2ff308215002
2016-09-16 15:55:59,629 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b0c345c00852105cfccca02f65133554
2016-09-16 15:55:59,629 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="role_id"
    baseTableName="user_has_role"
    constraintName="FK__user_has_role__role_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="role_definition"
] as 7a93c8fbdae38ad478df2a91ae9cf04e
2016-09-16 15:55:59,630 DEBUG Computed checksum for addPrimaryKey:[
    columnNames="user_id, role_id"
    constraintName="PK__user_has_role"
    tableName="user_has_role"
] as 9e5cc2c235e8568629cd6f0387405ff8
2016-09-16 15:55:59,630 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="user-manager-admin"
        ],
        [
            name="caption"
            value="User Administrator"
        ]
    ]
    tableName="role_definition"
] as 74b5a5e1afd8946069d05d2df6ec78ad
2016-09-16 15:55:59,630 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="admin"
        ],
        [
            name="caption"
            value="Administrator"
        ]
    ]
    tableName="role_definition"
] as b597557de631132d4c7162dac336e385
2016-09-16 15:55:59,630 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-admin"
        ],
        [
            name="caption"
            value="Application Framework Administrator (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as a17f55639f9f8c23be54dcd3557016ed
2016-09-16 15:55:59,630 DEBUG Computed checksum for insert:[
    columns=[
        [
            name="id"
            value="framework-info"
        ],
        [
            name="caption"
            value="Application Framework User (for service /guice pages)"
        ]
    ]
    tableName="role_definition"
] as 2e2fff5e8c7d1bdedcda2f627760e230
2016-09-16 15:55:59,631 DEBUG Computed checksum for 7:638e00ed1d0eabae58a30d51c1e4e490:7:428f13250051c9ad6d1a2ff308215002:7:b0c345c00852105cfccca02f65133554:7:7a93c8fbdae38ad478df2a91ae9cf04e:7:9e5cc2c235e8568629cd6f0387405ff8:7:74b5a5e1afd8946069d05d2df6ec78ad:7:b597557de631132d4c7162dac336e385:7:a17f55639f9f8c23be54dcd3557016ed:7:2e2fff5e8c7d1bdedcda2f627760e230: as 8ddc35e308ab46b077bda7393544fbb6
2016-09-16 15:55:59,631 DEBUG Running Changeset:./000-Original.xml::create_oauth_tables::peter@peterphi.com
2016-09-16 15:55:59,631 DEBUG Changeset ./000-Original.xml::create_oauth_tables::peter@peterphi.com
2016-09-16 15:55:59,631 DEBUG Reading ChangeSet: ./000-Original.xml::create_oauth_tables::peter@peterphi.com
2016-09-16 15:55:59,631 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@240f6c41
2016-09-16 15:55:59,631 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.oauth_service (id VARCHAR(36) NOT NULL, owner_id INT NOT NULL, client_name VARCHAR(1000) NOT NULL, client_endpoints VARCHAR(2000) NOT NULL, client_secret VARCHAR(36) NOT NULL, is_enabled BOOLEAN NOT NULL, created_ts BIGINT NOT NULL, updated_ts BIGINT NOT NULL, CONSTRAINT PK__oauth_service PRIMARY KEY (id))
2016-09-16 15:55:59,632  INFO Table oauth_service created
2016-09-16 15:55:59,633 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@21d1b321
2016-09-16 15:55:59,633 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.oauth_session_context (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, user_id INT NOT NULL, service_id VARCHAR(36) NOT NULL, approved_scope VARCHAR(1000) NOT NULL, is_active BOOLEAN NOT NULL, created_ts BIGINT NOT NULL, updated_ts BIGINT NOT NULL, CONSTRAINT PK__oauth_session_context PRIMARY KEY (id))
2016-09-16 15:55:59,639  INFO Table oauth_session_context created
2016-09-16 15:55:59,640 DEBUG Executing Statement: liquibase.statement.core.CreateTableStatement@4da9f723
2016-09-16 15:55:59,643 DEBUG Executing EXECUTE database command: CREATE TABLE PUBLIC.oauth_session (id VARCHAR(36) NOT NULL, context_id INT NOT NULL, authorisation_code VARCHAR(36), current_token VARCHAR(36), initiator_detail VARCHAR(8192), is_active BOOLEAN NOT NULL, expires_ts BIGINT NOT NULL, created_ts BIGINT NOT NULL, updated_ts BIGINT NOT NULL, CONSTRAINT PK__oauth_session PRIMARY KEY (id))
2016-09-16 15:55:59,644  INFO Table oauth_session created
2016-09-16 15:55:59,644  INFO ChangeSet ./000-Original.xml::create_oauth_tables::peter@peterphi.com ran successfully in 13ms
2016-09-16 15:55:59,644 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_service"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="owner_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="client_name"
            type="VARCHAR(1000)"
        ],
      ... [truncated in log] as d652f2725d636decde33dc47c5f13555
2016-09-16 15:55:59,645 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session_context"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="service_id"
            type="V... [truncated in log] as 2f1d811927e50ec7baf0d3d048a8df42
2016-09-16 15:55:59,646 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="context_id"
            type="INT"
        ],
        [
            [
                nullable="true"
            ]
            name="authorisation_code"
            type="VARCHAR(36)"
        ],
... [truncated in log] as 74c0354c2ccc797443a81bb8c3a1db5e
2016-09-16 15:55:59,646 DEBUG Computed checksum for 7:d652f2725d636decde33dc47c5f13555:7:2f1d811927e50ec7baf0d3d048a8df42:7:74c0354c2ccc797443a81bb8c3a1db5e: as badb1c0a44480c1bfdc74fac90e2fe7b
2016-09-16 15:55:59,651 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_oauth_tables', 'peter@peterphi.com', './000-Original.xml', NOW, 4, '7:badb1c0a44480c1bfdc74fac90e2fe7b', 'createTable (x3)', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-16 15:55:59,661 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_service"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="owner_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="client_name"
            type="VARCHAR(1000)"
        ],
      ... [truncated in log] as d652f2725d636decde33dc47c5f13555
2016-09-16 15:55:59,674 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session_context"
            ]
            autoIncrement="true"
            name="id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="user_id"
            type="INT"
        ],
        [
            [
                nullable="false"
            ]
            name="service_id"
            type="V... [truncated in log] as 2f1d811927e50ec7baf0d3d048a8df42
2016-09-16 15:55:59,680 DEBUG Computed checksum for createTable:[
    columns=[
        [
            [
                primaryKey="true"
                primaryKeyName="PK__oauth_session"
            ]
            name="id"
            type="VARCHAR(36)"
        ],
        [
            [
                nullable="false"
            ]
            name="context_id"
            type="INT"
        ],
        [
            [
                nullable="true"
            ]
            name="authorisation_code"
            type="VARCHAR(36)"
        ],
... [truncated in log] as 74c0354c2ccc797443a81bb8c3a1db5e
2016-09-16 15:55:59,680 DEBUG Computed checksum for 7:d652f2725d636decde33dc47c5f13555:7:2f1d811927e50ec7baf0d3d048a8df42:7:74c0354c2ccc797443a81bb8c3a1db5e: as badb1c0a44480c1bfdc74fac90e2fe7b
2016-09-16 15:55:59,681 DEBUG Running Changeset:./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com
2016-09-16 15:55:59,681 DEBUG Changeset ./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com
2016-09-16 15:55:59,681 DEBUG Reading ChangeSet: ./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com
2016-09-16 15:55:59,682 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@3e84111a
2016-09-16 15:55:59,682 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_service ADD CONSTRAINT FK__oauth_service__user_id FOREIGN KEY (owner_id) REFERENCES PUBLIC.user_account (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-16 15:55:59,687  INFO Foreign key constraint added to oauth_service (owner_id)
2016-09-16 15:55:59,687 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@b174a73
2016-09-16 15:55:59,687 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_session_context ADD CONSTRAINT FK__oauth_session_context__service_id FOREIGN KEY (service_id) REFERENCES PUBLIC.oauth_service (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-16 15:55:59,688  INFO Foreign key constraint added to oauth_session_context (service_id)
2016-09-16 15:55:59,689 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@68b58644
2016-09-16 15:55:59,689 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_session_context ADD CONSTRAINT FK__oauth_session_context__user_id FOREIGN KEY (user_id) REFERENCES PUBLIC.user_account (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-16 15:55:59,690  INFO Foreign key constraint added to oauth_session_context (user_id)
2016-09-16 15:55:59,690 DEBUG Executing Statement: liquibase.statement.core.AddForeignKeyConstraintStatement@7c129ef6
2016-09-16 15:55:59,690 DEBUG Executing EXECUTE database command: ALTER TABLE PUBLIC.oauth_session ADD CONSTRAINT FK__oauth_session__context_id FOREIGN KEY (context_id) REFERENCES PUBLIC.oauth_session_context (id) ON UPDATE CASCADE ON DELETE CASCADE
2016-09-16 15:55:59,691  INFO Foreign key constraint added to oauth_session (context_id)
2016-09-16 15:55:59,691  INFO ChangeSet ./000-Original.xml::create_oauth_constraints__cascade::peter@peterphi.com ran successfully in 10ms
2016-09-16 15:55:59,692 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-16 15:55:59,716 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-16 15:55:59,716 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as 6dec6bc5a8c9bbae5cc11997a3b63c7a
2016-09-16 15:55:59,717 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-16 15:55:59,717 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:6dec6bc5a8c9bbae5cc11997a3b63c7a:7:c968be166911e02badf53b57ba98c43a: as 688c5e190db7b4699d96b7916ec2536d
2016-09-16 15:55:59,718 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_oauth_constraints__cascade', 'peter@peterphi.com', './000-Original.xml', NOW, 5, '7:688c5e190db7b4699d96b7916ec2536d', 'addForeignKeyConstraint (x4)', '', 'EXECUTED', NULL, NULL, '3.4.1')
2016-09-16 15:55:59,719 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-16 15:55:59,725 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-16 15:55:59,725 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as 6dec6bc5a8c9bbae5cc11997a3b63c7a
2016-09-16 15:55:59,726 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-16 15:55:59,726 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:6dec6bc5a8c9bbae5cc11997a3b63c7a:7:c968be166911e02badf53b57ba98c43a: as 688c5e190db7b4699d96b7916ec2536d
2016-09-16 15:55:59,726 DEBUG Running Changeset:./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com
2016-09-16 15:55:59,726 DEBUG Changeset ./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com
2016-09-16 15:55:59,726  INFO Marking ChangeSet: ./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com ran despite precondition failure due to onFail='MARK_RAN': 
          /liquibase/changelog.xml : DBMS Precondition failed: expected mssql, got hsqldb

2016-09-16 15:55:59,727 DEBUG Skipping ChangeSet: ./000-Original.xml::create_oauth_constraints__sqlserver::peter@peterphi.com
2016-09-16 15:55:59,727 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-16 15:55:59,727 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-16 15:55:59,728 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="NO ACTION"
    onUpdate="NO ACTION"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as e1c12a2c3e2c50838fb73d0adfe933d2
2016-09-16 15:55:59,729 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-16 15:55:59,730 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:e1c12a2c3e2c50838fb73d0adfe933d2:7:c968be166911e02badf53b57ba98c43a: as 082498e3a3de1f4a79a3a540ef1ea4eb
2016-09-16 15:55:59,730 DEBUG Executing EXECUTE database command: INSERT INTO PUBLIC.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE) VALUES ('create_oauth_constraints__sqlserver', 'peter@peterphi.com', './000-Original.xml', NOW, 6, '7:082498e3a3de1f4a79a3a540ef1ea4eb', 'addForeignKeyConstraint (x4)', '', 'MARK_RAN', NULL, NULL, '3.4.1')
2016-09-16 15:55:59,731 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="owner_id"
    baseTableName="oauth_service"
    constraintName="FK__oauth_service__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as b76ec612ee08ff2319736d99a5a04eed
2016-09-16 15:55:59,732 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="service_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__service_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_service"
] as ad08e677ecff0ce1722ee57ac23e7240
2016-09-16 15:55:59,732 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="user_id"
    baseTableName="oauth_session_context"
    constraintName="FK__oauth_session_context__user_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="NO ACTION"
    onUpdate="NO ACTION"
    referencedColumnNames="id"
    referencedTableName="user_account"
] as e1c12a2c3e2c50838fb73d0adfe933d2
2016-09-16 15:55:59,732 DEBUG Computed checksum for addForeignKeyConstraint:[
    baseColumnNames="context_id"
    baseTableName="oauth_session"
    constraintName="FK__oauth_session__context_id"
    deferrable="false"
    initiallyDeferred="false"
    onDelete="CASCADE"
    onUpdate="CASCADE"
    referencedColumnNames="id"
    referencedTableName="oauth_session_context"
] as c968be166911e02badf53b57ba98c43a
2016-09-16 15:55:59,732 DEBUG Computed checksum for 7:b76ec612ee08ff2319736d99a5a04eed:7:ad08e677ecff0ce1722ee57ac23e7240:7:e1c12a2c3e2c50838fb73d0adfe933d2:7:c968be166911e02badf53b57ba98c43a: as 082498e3a3de1f4a79a3a540ef1ea4eb
2016-09-16 15:55:59,733 DEBUG Release Database Lock
2016-09-16 15:55:59,745 DEBUG Executing UPDATE database command: UPDATE PUBLIC.DATABASECHANGELOGLOCK SET LOCKED = FALSE, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1
2016-09-16 15:55:59,750  INFO Successfully released change log lock
2016-09-16 15:55:59,750 DEBUG Register for shutdown: com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@28e19366
2016-09-16 15:55:59,759 DEBUG Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2016-09-16 15:55:59,760 DEBUG Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2016-09-16 15:55:59,762 DEBUG Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2016-09-16 15:55:59,776 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5] -> [org.hibernate.dialect.MySQL5Dialect] (replacing [org.hibernate.dialect.MySQL5Dialect])
2016-09-16 15:55:59,777 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5InnoDB] -> [org.hibernate.dialect.MySQL5InnoDBDialect] (replacing [org.hibernate.dialect.MySQL5InnoDBDialect])
2016-09-16 15:55:59,838 DEBUG Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2016-09-16 15:55:59,838 DEBUG Preparing to build session factory with filters : {}
2016-09-16 15:55:59,845  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
2016-09-16 15:55:59,846  INFO HHH000401: using driver [org.hsqldb.jdbcDriver] at URL [jdbc:hsqldb:mem:testdb]
2016-09-16 15:55:59,846  INFO HHH000046: Connection properties: {user=sa, password=, readOnly=false}
2016-09-16 15:55:59,846  INFO HHH000006: Autocommit mode: false
2016-09-16 15:55:59,847  INFO HHH000115: Hibernate connection pool size: 20 (min=1)
2016-09-16 15:55:59,847 DEBUG Initializing Connection pool with 1 Connections
2016-09-16 15:55:59,854 DEBUG Database ->
       name : HSQL Database Engine
    version : 2.3.2
      major : 2
      minor : 3
2016-09-16 15:55:59,854 DEBUG Driver ->
       name : HSQL Database Engine Driver
    version : 2.3.2
      major : 2
      minor : 3
2016-09-16 15:55:59,855 DEBUG JDBC version : 4.0
2016-09-16 15:55:59,856 DEBUG Unexpected error trying to gauge level of JDBC REF_CURSOR support : null
2016-09-16 15:55:59,870  INFO HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2016-09-16 15:55:59,907 DEBUG Processing hbm.xml files
2016-09-16 15:55:59,908 DEBUG Process annotated classes
2016-09-16 15:55:59,911 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-16 15:55:59,937 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-16 15:55:59,938 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-16 15:55:59,944 DEBUG Import with entity name oauth_session
2016-09-16 15:55:59,949 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionEntity on table oauth_session
2016-09-16 15:55:59,994 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-16 15:55:59,998 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-16 15:56:00,002 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:id]
2016-09-16 15:56:00,017 DEBUG building SimpleValue for id
2016-09-16 15:56:00,019 DEBUG Building property id
2016-09-16 15:56:00,023 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,023 DEBUG MetadataSourceProcessor property alive with lazy=false
2016-09-16 15:56:00,024 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:alive]
2016-09-16 15:56:00,024 DEBUG building SimpleValue for alive
2016-09-16 15:56:00,024 DEBUG Building property alive
2016-09-16 15:56:00,024 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=authorisation_code, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,024 DEBUG MetadataSourceProcessor property authorisationCode with lazy=false
2016-09-16 15:56:00,024 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:authorisationCode]
2016-09-16 15:56:00,024 DEBUG building SimpleValue for authorisationCode
2016-09-16 15:56:00,025 DEBUG Building property authorisationCode
2016-09-16 15:56:00,025 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='context_id', referencedColumn='', mappedBy=''}
2016-09-16 15:56:00,027 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=context, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,031 DEBUG Building property context
2016-09-16 15:56:00,031 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,032 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-16 15:56:00,032 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:created]
2016-09-16 15:56:00,032 DEBUG building SimpleValue for created
2016-09-16 15:56:00,032 DEBUG Building property created
2016-09-16 15:56:00,032 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=expires_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,032 DEBUG MetadataSourceProcessor property expires with lazy=false
2016-09-16 15:56:00,033 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:expires]
2016-09-16 15:56:00,033 DEBUG building SimpleValue for expires
2016-09-16 15:56:00,033 DEBUG Building property expires
2016-09-16 15:56:00,034 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=initiator_detail, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,034 DEBUG MetadataSourceProcessor property initiator with lazy=false
2016-09-16 15:56:00,034 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:initiator]
2016-09-16 15:56:00,034 DEBUG building SimpleValue for initiator
2016-09-16 15:56:00,034 DEBUG Building property initiator
2016-09-16 15:56:00,034 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=current_token, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,035 DEBUG MetadataSourceProcessor property token with lazy=false
2016-09-16 15:56:00,035 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:token]
2016-09-16 15:56:00,035 DEBUG building SimpleValue for token
2016-09-16 15:56:00,035 DEBUG Building property token
2016-09-16 15:56:00,035 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,035 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-09-16 15:56:00,035 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:updated]
2016-09-16 15:56:00,035 DEBUG building SimpleValue for updated
2016-09-16 15:56:00,036 DEBUG Building property updated
2016-09-16 15:56:00,039 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.RoleEntity
2016-09-16 15:56:00,039 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-16 15:56:00,039 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-16 15:56:00,040 DEBUG Import with entity name role_definition
2016-09-16 15:56:00,049 DEBUG Bind entity com.peterphi.usermanager.db.entity.RoleEntity on table role_definition
2016-09-16 15:56:00,056 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,057 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-16 15:56:00,057 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:id]
2016-09-16 15:56:00,057 DEBUG building SimpleValue for id
2016-09-16 15:56:00,057 DEBUG Building property id
2016-09-16 15:56:00,057 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=caption, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,058 DEBUG MetadataSourceProcessor property caption with lazy=false
2016-09-16 15:56:00,058 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:caption]
2016-09-16 15:56:00,058 DEBUG building SimpleValue for caption
2016-09-16 15:56:00,058 DEBUG Building property caption
2016-09-16 15:56:00,059 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,068 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,068 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=members_KEY, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,069 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='members_KEY', referencedColumn='null', mappedBy='null'}
2016-09-16 15:56:00,070 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='role_id', referencedColumn='id', mappedBy=''}
2016-09-16 15:56:00,070 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='id', mappedBy=''}
2016-09-16 15:56:00,070 DEBUG Collection role: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-16 15:56:00,072 DEBUG Building property members
2016-09-16 15:56:00,073 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-16 15:56:00,074 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-16 15:56:00,074 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-16 15:56:00,074 DEBUG Import with entity name oauth_service
2016-09-16 15:56:00,074 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthServiceEntity on table oauth_service
2016-09-16 15:56:00,075 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,075 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-16 15:56:00,076 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:id]
2016-09-16 15:56:00,076 DEBUG building SimpleValue for id
2016-09-16 15:56:00,076 DEBUG Building property id
2016-09-16 15:56:00,076 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_secret, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,076 DEBUG MetadataSourceProcessor property clientSecret with lazy=false
2016-09-16 15:56:00,076 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:clientSecret]
2016-09-16 15:56:00,077 DEBUG building SimpleValue for clientSecret
2016-09-16 15:56:00,077 DEBUG Building property clientSecret
2016-09-16 15:56:00,077 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,078 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-16 15:56:00,078 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:created]
2016-09-16 15:56:00,078 DEBUG building SimpleValue for created
2016-09-16 15:56:00,078 DEBUG Building property created
2016-09-16 15:56:00,078 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=is_enabled, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,078 DEBUG MetadataSourceProcessor property enabled with lazy=false
2016-09-16 15:56:00,078 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:enabled]
2016-09-16 15:56:00,078 DEBUG building SimpleValue for enabled
2016-09-16 15:56:00,079 DEBUG Building property enabled
2016-09-16 15:56:00,079 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_endpoints, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,079 DEBUG MetadataSourceProcessor property endpoints with lazy=false
2016-09-16 15:56:00,079 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:endpoints]
2016-09-16 15:56:00,079 DEBUG building SimpleValue for endpoints
2016-09-16 15:56:00,079 DEBUG Building property endpoints
2016-09-16 15:56:00,079 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_name, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,079 DEBUG MetadataSourceProcessor property name with lazy=false
2016-09-16 15:56:00,080 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:name]
2016-09-16 15:56:00,080 DEBUG building SimpleValue for name
2016-09-16 15:56:00,080 DEBUG Building property name
2016-09-16 15:56:00,080 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='owner_id', referencedColumn='', mappedBy=''}
2016-09-16 15:56:00,080 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=owner, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,080 DEBUG Building property owner
2016-09-16 15:56:00,080 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,080 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-09-16 15:56:00,081 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:updated]
2016-09-16 15:56:00,081 DEBUG building SimpleValue for updated
2016-09-16 15:56:00,081 DEBUG Building property updated
2016-09-16 15:56:00,081 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,081 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-16 15:56:00,081 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-16 15:56:00,083 DEBUG Import with entity name user_account
2016-09-16 15:56:00,083 DEBUG Bind entity com.peterphi.usermanager.db.entity.UserEntity on table user_account
2016-09-16 15:56:00,086 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,089 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-16 15:56:00,089 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:id]
2016-09-16 15:56:00,090 DEBUG building SimpleValue for id
2016-09-16 15:56:00,090 DEBUG Building property id
2016-09-16 15:56:00,090 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,090 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-16 15:56:00,090 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:created]
2016-09-16 15:56:00,090 DEBUG building SimpleValue for created
2016-09-16 15:56:00,091 DEBUG Building property created
2016-09-16 15:56:00,091 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_format, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,091 DEBUG MetadataSourceProcessor property dateFormat with lazy=false
2016-09-16 15:56:00,091 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:dateFormat]
2016-09-16 15:56:00,091 DEBUG building SimpleValue for dateFormat
2016-09-16 15:56:00,091 DEBUG Building property dateFormat
2016-09-16 15:56:00,091 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=email, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,091 DEBUG MetadataSourceProcessor property email with lazy=false
2016-09-16 15:56:00,091 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:email]
2016-09-16 15:56:00,092 DEBUG building SimpleValue for email
2016-09-16 15:56:00,092 DEBUG Building property email
2016-09-16 15:56:00,093 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=last_login_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,093 DEBUG MetadataSourceProcessor property lastLogin with lazy=false
2016-09-16 15:56:00,094 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:lastLogin]
2016-09-16 15:56:00,094 DEBUG building SimpleValue for lastLogin
2016-09-16 15:56:00,094 DEBUG Building property lastLogin
2016-09-16 15:56:00,094 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=name, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,094 DEBUG MetadataSourceProcessor property name with lazy=false
2016-09-16 15:56:00,094 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:name]
2016-09-16 15:56:00,094 DEBUG building SimpleValue for name
2016-09-16 15:56:00,094 DEBUG Building property name
2016-09-16 15:56:00,095 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=password, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,095 DEBUG MetadataSourceProcessor property password with lazy=false
2016-09-16 15:56:00,095 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:password]
2016-09-16 15:56:00,095 DEBUG building SimpleValue for password
2016-09-16 15:56:00,095 DEBUG Building property password
2016-09-16 15:56:00,095 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=null, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,095 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=element, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,096 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=roles_KEY, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,096 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='roles_KEY', referencedColumn='null', mappedBy='null'}
2016-09-16 15:56:00,096 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-09-16 15:56:00,096 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2016-09-16 15:56:00,096 DEBUG Collection role: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-16 15:56:00,096 DEBUG Building property roles
2016-09-16 15:56:00,096 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=local_session_id, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,096 DEBUG MetadataSourceProcessor property sessionReconnectKey with lazy=false
2016-09-16 15:56:00,097 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:sessionReconnectKey]
2016-09-16 15:56:00,097 DEBUG building SimpleValue for sessionReconnectKey
2016-09-16 15:56:00,097 DEBUG Building property sessionReconnectKey
2016-09-16 15:56:00,097 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_timezone, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,097 DEBUG MetadataSourceProcessor property timeZone with lazy=false
2016-09-16 15:56:00,097 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:timeZone]
2016-09-16 15:56:00,097 DEBUG building SimpleValue for timeZone
2016-09-16 15:56:00,097 DEBUG Building property timeZone
2016-09-16 15:56:00,098 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-16 15:56:00,098 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2016-09-16 15:56:00,098 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2016-09-16 15:56:00,098 DEBUG Import with entity name oauth_session_context
2016-09-16 15:56:00,098 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity on table oauth_session_context
2016-09-16 15:56:00,101 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=id, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,101 DEBUG MetadataSourceProcessor property id with lazy=false
2016-09-16 15:56:00,102 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:id]
2016-09-16 15:56:00,102 DEBUG building SimpleValue for id
2016-09-16 15:56:00,102 DEBUG Building property id
2016-09-16 15:56:00,102 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,102 DEBUG MetadataSourceProcessor property active with lazy=false
2016-09-16 15:56:00,103 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:active]
2016-09-16 15:56:00,103 DEBUG building SimpleValue for active
2016-09-16 15:56:00,103 DEBUG Building property active
2016-09-16 15:56:00,117 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,128 DEBUG MetadataSourceProcessor property created with lazy=false
2016-09-16 15:56:00,128 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:created]
2016-09-16 15:56:00,129 DEBUG building SimpleValue for created
2016-09-16 15:56:00,129 DEBUG Building property created
2016-09-16 15:56:00,129 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=approved_scope, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,130 DEBUG MetadataSourceProcessor property scope with lazy=false
2016-09-16 15:56:00,130 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:scope]
2016-09-16 15:56:00,130 DEBUG building SimpleValue for scope
2016-09-16 15:56:00,130 DEBUG Building property scope
2016-09-16 15:56:00,130 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='service_id', referencedColumn='', mappedBy=''}
2016-09-16 15:56:00,131 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=service, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,131 DEBUG Building property service
2016-09-16 15:56:00,131 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,131 DEBUG MetadataSourceProcessor property updated with lazy=false
2016-09-16 15:56:00,131 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:updated]
2016-09-16 15:56:00,131 DEBUG building SimpleValue for updated
2016-09-16 15:56:00,132 DEBUG Building property updated
2016-09-16 15:56:00,132 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='', mappedBy=''}
2016-09-16 15:56:00,132 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=user, insertable=true, updatable=true, unique=false}
2016-09-16 15:56:00,133 DEBUG Building property user
2016-09-16 15:56:00,133 DEBUG Starting fillSimpleValue for id
2016-09-16 15:56:00,134 DEBUG Starting fillSimpleValue for alive
2016-09-16 15:56:00,134 DEBUG Starting fillSimpleValue for authorisationCode
2016-09-16 15:56:00,134 DEBUG Starting fillSimpleValue for created
2016-09-16 15:56:00,134 DEBUG Starting fillSimpleValue for expires
2016-09-16 15:56:00,134 DEBUG Starting fillSimpleValue for initiator
2016-09-16 15:56:00,134 DEBUG Starting fillSimpleValue for token
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for updated
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for id
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for caption
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for id
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for clientSecret
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for created
2016-09-16 15:56:00,135 DEBUG Starting fillSimpleValue for enabled
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for endpoints
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for name
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for updated
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for id
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for created
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for dateFormat
2016-09-16 15:56:00,136 DEBUG Starting fillSimpleValue for email
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for lastLogin
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for name
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for password
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for sessionReconnectKey
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for timeZone
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for id
2016-09-16 15:56:00,137 DEBUG Starting fillSimpleValue for active
2016-09-16 15:56:00,138 DEBUG Starting fillSimpleValue for created
2016-09-16 15:56:00,138 DEBUG Starting fillSimpleValue for scope
2016-09-16 15:56:00,138 DEBUG Starting fillSimpleValue for updated
2016-09-16 15:56:00,138 DEBUG Processing fk mappings (*ToOne and JoinedSubclass)
2016-09-16 15:56:00,143 DEBUG Processing extends queue
2016-09-16 15:56:00,144 DEBUG Processing extends queue
2016-09-16 15:56:00,144 DEBUG Processing collection mappings
2016-09-16 15:56:00,144 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-16 15:56:00,144 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-16 15:56:00,158 DEBUG Mapped collection key: role_id, element: user_id
2016-09-16 15:56:00,158 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-16 15:56:00,159 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-16 15:56:00,159 DEBUG Retrieving property com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-16 15:56:00,159 DEBUG Mapped collection key: user_id, element: role_id
2016-09-16 15:56:00,159 DEBUG Processing native query and ResultSetMapping mappings
2016-09-16 15:56:00,159 DEBUG Processing association property references
2016-09-16 15:56:00,159 DEBUG Creating tables' unique integer identifiers
2016-09-16 15:56:00,159 DEBUG Processing foreign key constraints
2016-09-16 15:56:00,159 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,160 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-16 15:56:00,160 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-16 15:56:00,160 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,160 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,160 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.RoleEntity
2016-09-16 15:56:00,162 DEBUG No JtaPlatform was specified, checking resolver
2016-09-16 15:56:00,162 DEBUG No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]
2016-09-16 15:56:00,166 DEBUG Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2016-09-16 15:56:00,169 DEBUG Automatic flush during beforeCompletion(): disabled
2016-09-16 15:56:00,169 DEBUG Automatic session close at end of transaction: disabled
2016-09-16 15:56:00,189 DEBUG JDBC batch size: 15
2016-09-16 15:56:00,189 DEBUG JDBC batch updates for versioned data: disabled
2016-09-16 15:56:00,189 DEBUG Scrollable result sets: enabled
2016-09-16 15:56:00,189 DEBUG Wrap result sets: disabled
2016-09-16 15:56:00,189 DEBUG JDBC3 getGeneratedKeys(): enabled
2016-09-16 15:56:00,189 DEBUG multi-tenancy strategy : NONE
2016-09-16 15:56:00,190 DEBUG Connection release mode: auto
2016-09-16 15:56:00,190  INFO HHH000399: Using default transaction strategy (direct JDBC transactions)
2016-09-16 15:56:00,192 DEBUG Using BatchFetchStyle : LEGACY
2016-09-16 15:56:00,192 DEBUG Default batch fetch size: 1
2016-09-16 15:56:00,192 DEBUG Generate SQL with comments: disabled
2016-09-16 15:56:00,192 DEBUG Order SQL updates by primary key: disabled
2016-09-16 15:56:00,192 DEBUG Order SQL inserts for batching: disabled
2016-09-16 15:56:00,193 DEBUG Default null ordering: none
2016-09-16 15:56:00,193 DEBUG Query translator: org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory
2016-09-16 15:56:00,207  INFO HHH000397: Using ASTQueryTranslatorFactory
2016-09-16 15:56:00,207 DEBUG Query language substitutions: {}
2016-09-16 15:56:00,207 DEBUG JPA-QL strict compliance: disabled
2016-09-16 15:56:00,207 DEBUG Second-level cache: enabled
2016-09-16 15:56:00,207 DEBUG Query cache: disabled
2016-09-16 15:56:00,208 DEBUG Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2016-09-16 15:56:00,210 DEBUG Optimize cache for minimal puts: disabled
2016-09-16 15:56:00,210 DEBUG Structured second-level cache entries: disabled
2016-09-16 15:56:00,211 DEBUG Second-level cache direct-reference entries: disabled
2016-09-16 15:56:00,211 DEBUG Automatic eviction of collection cache: disabled
2016-09-16 15:56:00,221 DEBUG Statistics: disabled
2016-09-16 15:56:00,221 DEBUG Deleted entity synthetic identifier rollback: disabled
2016-09-16 15:56:00,221 DEBUG Default entity-mode: pojo
2016-09-16 15:56:00,221 DEBUG Named query checking : enabled
2016-09-16 15:56:00,221 DEBUG Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2016-09-16 15:56:00,221 DEBUG Allow initialization of lazy state outside session : : disabled
2016-09-16 15:56:00,221 DEBUG JTA Track by Thread: enabled
2016-09-16 15:56:00,229 DEBUG Building session factory
2016-09-16 15:56:00,263 DEBUG Session factory constructed with filter configurations : {}
2016-09-16 15:56:00,273 DEBUG Instantiating session factory with properties: {liquibase.action=UPDATE, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.connection.password=, sun.boot.library.path=/usr/lib/jvm/java-8-oracle/jre/lib/amd64, java.vm.version=25.31-b07, hibernate.connection.username=sa, java.vm.vendor=Oracle Corporation, java.vendor.url=http://java.oracle.com/, path.separator=:, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=US, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.allow-hbm2ddl-create=true, java.runtime.version=1.8.0_31-b13, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, basedir=/home/travis/build/petergeneric/stdlib/user-manager/service, hibernate.current_session_context_class=thread, java.endorsed.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/endorsed, os.arch=amd64, surefire.real.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter9057267023678863540.jar, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Oracle Corporation, os.name=Linux, sun.jnu.encoding=UTF-8, java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib, surefire.test.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.19.Final/resteasy-jettison-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.connection.readOnly=false, java.specification.name=Java Platform API Specification, java.class.version=52.0, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, os.version=3.13.0-40-generic, user.home=/home/travis, user.timezone=Etc/UTC, java.awt.printerjob=sun.print.PSPrinterJob, java.specification.version=1.8, file.encoding=UTF-8, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, user.name=travis, java.class.path=/home/travis/build/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.19.Final/resteasy-jettison-provider-3.0.19.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.bytecode.use_reflection_optimizer=false, hibernate.show_sql=false, java.vm.specification.version=1.8, sun.arch.data.model=64, java.home=/usr/lib/jvm/java-8-oracle/jre, sun.java.command=/home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter9057267023678863540.jar /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire9082507785345554826tmp /home/travis/build/petergeneric/stdlib/user-manager/service/target/surefire/surefire_112407304606498800019tmp, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.connection.url=jdbc:hsqldb:mem:testdb, java.specification.vendor=Oracle Corporation, user.language=en, awt.toolkit=sun.awt.X11.XToolkit, java.vm.info=mixed mode, java.version=1.8.0_31, java.ext.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/ext:/usr/java/packages/lib/ext, sun.boot.class.path=/usr/lib/jvm/java-8-oracle/jre/lib/resources.jar:/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar:/usr/lib/jvm/java-8-oracle/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jsse.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jce.jar:/usr/lib/jvm/java-8-oracle/jre/lib/charsets.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jfr.jar:/usr/lib/jvm/java-8-oracle/jre/classes, java.vendor=Oracle Corporation, localRepository=/home/travis/.m2/repository, file.separator=/, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, sun.cpu.endian=little, sun.io.unicode.encoding=UnicodeLittle, liquibase.changelog=/liquibase/changelog.xml, hibernate.properties=embedded, sun.cpu.isalist=}
2016-09-16 15:56:00,303 DEBUG Unable to acquire Bean Validation ValidatorFactory, skipping activation
2016-09-16 15:56:00,303 DEBUG Skipping JACC integration as it was not enabled
2016-09-16 15:56:00,304 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-16 15:56:00,304 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-16 15:56:00,304 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-16 15:56:00,305 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-16 15:56:00,305 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2016-09-16 15:56:00,534 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2016-09-16 15:56:00,534 DEBUG  Row insert: insert into user_has_role (user_id, role_id) values (?, ?)
2016-09-16 15:56:00,534 DEBUG  Row update: update user_has_role set role_id=? where user_id=? and role_id=?
2016-09-16 15:56:00,535 DEBUG  Row delete: delete from user_has_role where user_id=? and role_id=?
2016-09-16 15:56:00,535 DEBUG  One-shot delete: delete from user_has_role where user_id=?
2016-09-16 15:56:00,535 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2016-09-16 15:56:00,535 DEBUG  Row insert: insert into user_has_role (role_id, user_id) values (?, ?)
2016-09-16 15:56:00,535 DEBUG  Row update: update user_has_role set user_id=? where role_id=? and user_id=?
2016-09-16 15:56:00,535 DEBUG  Row delete: delete from user_has_role where role_id=? and user_id=?
2016-09-16 15:56:00,535 DEBUG  One-shot delete: delete from user_has_role where role_id=?
2016-09-16 15:56:00,650 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,650 DEBUG  Version select: select id from user_account where id =?
2016-09-16 15:56:00,650 DEBUG  Snapshot select: select userentity_.id, userentity_.created_ts as created_2_4_, userentity_.date_format as date_for3_4_, userentity_.email as email4_4_, userentity_.last_login_ts as last_log5_4_, userentity_.name as name6_4_, userentity_.password as password7_4_, userentity_.local_session_id as local_se8_4_, userentity_.date_timezone as date_tim9_4_ from user_account userentity_ where userentity_.id=?
2016-09-16 15:56:00,655 DEBUG  Insert 0: insert into user_account (created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-09-16 15:56:00,655 DEBUG  Update 0: update user_account set created_ts=?, date_format=?, email=?, last_login_ts=?, name=?, password=?, local_session_id=?, date_timezone=? where id=?
2016-09-16 15:56:00,655 DEBUG  Delete 0: delete from user_account where id=?
2016-09-16 15:56:00,655 DEBUG  Identity insert: insert into user_account (id, created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone) values (default, ?, ?, ?, ?, ?, ?, ?, ?)
2016-09-16 15:56:00,701 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5dc0ff7d]
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,702 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,706 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,706 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,707 DEBUG Building LoadPlan...
2016-09-16 15:56:00,720 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,724 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,726 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [NONE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-16 15:56:00,726 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@25d0cb3a]
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,727 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,728 DEBUG Building LoadPlan...
2016-09-16 15:56:00,728 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,728 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,728 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-16 15:56:00,728 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6e3eb0cd]
2016-09-16 15:56:00,728 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,728 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,728 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,728 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,728 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,729 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,729 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,729 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,729 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,729 DEBUG Building LoadPlan...
2016-09-16 15:56:00,729 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,732 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,732 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,732 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@659feb22]
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,732 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,733 DEBUG Building LoadPlan...
2016-09-16 15:56:00,733 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,733 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,733 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_NOWAIT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,733 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2f4b98f6]
2016-09-16 15:56:00,733 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,733 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,733 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,734 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,734 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,734 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,734 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,734 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,734 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,734 DEBUG Building LoadPlan...
2016-09-16 15:56:00,734 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,735 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,735 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_SKIPLOCKED]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,735 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58c1da09]
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,735 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,735 DEBUG Building LoadPlan...
2016-09-16 15:56:00,735 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,736 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,736 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [FORCE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,736 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58d6e55a]
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,736 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,737 DEBUG Building LoadPlan...
2016-09-16 15:56:00,737 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,751 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,751 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,751 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@235d659c]
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,751 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,752 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,752 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,752 DEBUG Building LoadPlan...
2016-09-16 15:56:00,752 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,752 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,752 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_WRITE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,752 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2da16263]
2016-09-16 15:56:00,752 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,753 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,753 DEBUG Building LoadPlan...
2016-09-16 15:56:00,753 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,754 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,754 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2016-09-16 15:56:00,754 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47e51549]
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,754 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,755 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,755 DEBUG Building LoadPlan...
2016-09-16 15:56:00,755 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,755 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,755 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-16 15:56:00,755 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@360e9c06]
2016-09-16 15:56:00,755 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,755 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,755 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,756 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,756 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,756 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,757 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,757 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,757 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,757 DEBUG Building LoadPlan...
2016-09-16 15:56:00,757 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,757 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2016-09-16 15:56:00,757 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-16 15:56:00,772 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-16 15:56:00,773 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2016-09-16 15:56:00,774 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-16 15:56:00,774 DEBUG  Version select: select updated_ts from oauth_session_context where id =?
2016-09-16 15:56:00,774 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_2_, oauthsessi_.created_ts as created_3_2_, oauthsessi_.approved_scope as approved4_2_, oauthsessi_.service_id as service_6_2_, oauthsessi_.updated_ts as updated_5_2_, oauthsessi_.user_id as user_id7_2_ from oauth_session_context oauthsessi_ where oauthsessi_.id=?
2016-09-16 15:56:00,774 DEBUG  Insert 0: insert into oauth_session_context (is_active, created_ts, approved_scope, service_id, updated_ts, user_id, id) values (?, ?, ?, ?, ?, ?, ?)
2016-09-16 15:56:00,774 DEBUG  Update 0: update oauth_session_context set is_active=?, created_ts=?, approved_scope=?, service_id=?, updated_ts=?, user_id=? where id=? and updated_ts=?
2016-09-16 15:56:00,774 DEBUG  Delete 0: delete from oauth_session_context where id=? and updated_ts=?
2016-09-16 15:56:00,774 DEBUG  Identity insert: insert into oauth_session_context (id, is_active, created_ts, approved_scope, service_id, updated_ts, user_id) values (default, ?, ?, ?, ?, ?, ?)
2016-09-16 15:56:00,774 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58606c91]
2016-09-16 15:56:00,774 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,774 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,775 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,776 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,777 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@350ec690]
2016-09-16 15:56:00,779 DEBUG Visiting attribute path : service.clientSecret
2016-09-16 15:56:00,779 DEBUG Visiting attribute path : service.created
2016-09-16 15:56:00,779 DEBUG Visiting attribute path : service.enabled
2016-09-16 15:56:00,779 DEBUG Visiting attribute path : service.endpoints
2016-09-16 15:56:00,780 DEBUG Visiting attribute path : service.name
2016-09-16 15:56:00,780 DEBUG Visiting attribute path : service.owner
2016-09-16 15:56:00,780 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47768e74]
2016-09-16 15:56:00,780 DEBUG Visiting attribute path : service.owner.created
2016-09-16 15:56:00,780 DEBUG Visiting attribute path : service.owner.dateFormat
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.email
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.lastLogin
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.name
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.password
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.roles
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.owner.timeZone
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : service.updated
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,781 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b5a4aed]
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : user.created
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : user.dateFormat
2016-09-16 15:56:00,781 DEBUG Visiting attribute path : user.email
2016-09-16 15:56:00,782 DEBUG Visiting attribute path : user.lastLogin
2016-09-16 15:56:00,782 DEBUG Visiting attribute path : user.name
2016-09-16 15:56:00,782 DEBUG Visiting attribute path : user.password
2016-09-16 15:56:00,782 DEBUG Visiting attribute path : user.roles
2016-09-16 15:56:00,782 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-09-16 15:56:00,782 DEBUG Visiting attribute path : user.timeZone
2016-09-16 15:56:00,782 DEBUG Building LoadPlan...
2016-09-16 15:56:00,783 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,786 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-09-16 15:56:00,786 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [NONE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-09-16 15:56:00,786 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76130a29]
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,787 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3451f01d]
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.clientSecret
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.created
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.enabled
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.endpoints
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.name
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.owner
2016-09-16 15:56:00,787 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1cfc2538]
2016-09-16 15:56:00,787 DEBUG Visiting attribute path : service.owner.created
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.dateFormat
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.email
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.lastLogin
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.name
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.password
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.roles
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.owner.timeZone
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : service.updated
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,788 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,788 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d342959]
2016-09-16 15:56:00,789 DEBUG Visiting attribute path : user.created
2016-09-16 15:56:00,789 DEBUG Visiting attribute path : user.dateFormat
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.email
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.lastLogin
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.name
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.password
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.roles
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.sessionReconnectKey
2016-09-16 15:56:00,790 DEBUG Visiting attribute path : user.timeZone
2016-09-16 15:56:00,791 DEBUG Building LoadPlan...
2016-09-16 15:56:00,791 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,798 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2016-09-16 15:56:00,798 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2016-09-16 15:56:00,799 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53e76c11]
2016-09-16 15:56:00,799 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,799 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,799 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,799 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,799 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e4e8fdf]
2016-09-16 15:56:00,799 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,799 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,799 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a1d6ef2]
2016-09-16 15:56:00,799 DEBUG Building LoadPlan...
2016-09-16 15:56:00,799 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,800 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,800 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,800 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2721044]
2016-09-16 15:56:00,800 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,800 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,800 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,800 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,800 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6aa7b67f]
2016-09-16 15:56:00,800 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,800 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,800 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bcc3f27]
2016-09-16 15:56:00,800 DEBUG Building LoadPlan...
2016-09-16 15:56:00,800 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,801 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,801 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,801 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@79aee22a]
2016-09-16 15:56:00,801 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,801 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,801 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,801 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,801 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@61514735]
2016-09-16 15:56:00,801 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,802 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,802 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bee793f]
2016-09-16 15:56:00,802 DEBUG Building LoadPlan...
2016-09-16 15:56:00,803 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,803 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,803 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,803 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43b5021c]
2016-09-16 15:56:00,804 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,804 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,804 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,804 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,804 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@30893e08]
2016-09-16 15:56:00,804 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,804 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,804 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e86807a]
2016-09-16 15:56:00,804 DEBUG Building LoadPlan...
2016-09-16 15:56:00,804 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,805 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,805 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [FORCE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,805 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4548d254]
2016-09-16 15:56:00,806 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,806 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,806 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,806 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,806 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@208f0007]
2016-09-16 15:56:00,806 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,806 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,806 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3a90c13c]
2016-09-16 15:56:00,807 DEBUG Building LoadPlan...
2016-09-16 15:56:00,807 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,807 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,807 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,808 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@39c96e48]
2016-09-16 15:56:00,808 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,808 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,808 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,808 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,808 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40d23c82]
2016-09-16 15:56:00,808 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,808 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,808 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7cf78c85]
2016-09-16 15:56:00,808 DEBUG Building LoadPlan...
2016-09-16 15:56:00,810 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,810 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,810 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,810 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@ebe067d]
2016-09-16 15:56:00,810 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,810 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,810 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,810 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,810 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6badba10]
2016-09-16 15:56:00,810 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,810 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,810 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2b7e8044]
2016-09-16 15:56:00,810 DEBUG Building LoadPlan...
2016-09-16 15:56:00,811 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,811 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,811 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,811 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@550de6b8]
2016-09-16 15:56:00,812 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,812 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,812 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,812 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,812 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3c6c4689]
2016-09-16 15:56:00,812 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,812 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,812 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@63cf9de0]
2016-09-16 15:56:00,812 DEBUG Building LoadPlan...
2016-09-16 15:56:00,814 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,814 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,814 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,814 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@594d9f07]
2016-09-16 15:56:00,814 DEBUG Visiting attribute path : active
2016-09-16 15:56:00,814 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,814 DEBUG Visiting attribute path : scope
2016-09-16 15:56:00,814 DEBUG Visiting attribute path : service
2016-09-16 15:56:00,815 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5e9f73b]
2016-09-16 15:56:00,815 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,815 DEBUG Visiting attribute path : user
2016-09-16 15:56:00,815 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a565afb]
2016-09-16 15:56:00,815 DEBUG Building LoadPlan...
2016-09-16 15:56:00,816 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,816 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2016-09-16 15:56:00,816 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,818 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,818 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,818 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-16 15:56:00,819 DEBUG  Version select: select updated_ts from oauth_service where id =?
2016-09-16 15:56:00,819 DEBUG  Snapshot select: select oauthservi_.id, oauthservi_.client_secret as client_s2_0_, oauthservi_.created_ts as created_3_0_, oauthservi_.is_enabled as is_enabl4_0_, oauthservi_.client_endpoints as client_e5_0_, oauthservi_.client_name as client_n6_0_, oauthservi_.owner_id as owner_id8_0_, oauthservi_.updated_ts as updated_7_0_ from oauth_service oauthservi_ where oauthservi_.id=?
2016-09-16 15:56:00,819 DEBUG  Insert 0: insert into oauth_service (client_secret, created_ts, is_enabled, client_endpoints, client_name, owner_id, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2016-09-16 15:56:00,819 DEBUG  Update 0: update oauth_service set client_secret=?, created_ts=?, is_enabled=?, client_endpoints=?, client_name=?, owner_id=?, updated_ts=? where id=? and updated_ts=?
2016-09-16 15:56:00,819 DEBUG  Delete 0: delete from oauth_service where id=? and updated_ts=?
2016-09-16 15:56:00,819 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2fd64b11]
2016-09-16 15:56:00,819 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,819 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,819 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,819 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,819 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,819 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,819 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43d3aba5]
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.created
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.dateFormat
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.email
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.lastLogin
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.name
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.password
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.roles
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : owner.timeZone
2016-09-16 15:56:00,820 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,820 DEBUG Building LoadPlan...
2016-09-16 15:56:00,822 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,824 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-09-16 15:56:00,824 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [NONE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-09-16 15:56:00,824 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76e9f00b]
2016-09-16 15:56:00,824 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,824 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,824 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,824 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,825 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f1b8544]
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.created
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.dateFormat
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.email
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.lastLogin
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.name
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.password
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.roles
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.sessionReconnectKey
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : owner.timeZone
2016-09-16 15:56:00,825 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,825 DEBUG Building LoadPlan...
2016-09-16 15:56:00,825 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,827 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-09-16 15:56:00,827 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2016-09-16 15:56:00,827 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@688a2c09]
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,827 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@365cdacf]
2016-09-16 15:56:00,827 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,828 DEBUG Building LoadPlan...
2016-09-16 15:56:00,828 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,829 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,829 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,829 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@303c55fa]
2016-09-16 15:56:00,829 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,831 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,831 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,831 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,831 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,831 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,832 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7eb200ce]
2016-09-16 15:56:00,832 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,832 DEBUG Building LoadPlan...
2016-09-16 15:56:00,832 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,833 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,833 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_NOWAIT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,833 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2ee83775]
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,833 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@b5de58f]
2016-09-16 15:56:00,833 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,833 DEBUG Building LoadPlan...
2016-09-16 15:56:00,834 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,835 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,835 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_SKIPLOCKED]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,835 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6587305a]
2016-09-16 15:56:00,835 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,835 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,835 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,835 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,835 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,835 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,835 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f81621c]
2016-09-16 15:56:00,836 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,836 DEBUG Building LoadPlan...
2016-09-16 15:56:00,836 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,836 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,836 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [FORCE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,837 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b9499fe]
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,837 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@52a33c3f]
2016-09-16 15:56:00,837 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,837 DEBUG Building LoadPlan...
2016-09-16 15:56:00,837 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,838 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,838 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,838 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@668625f5]
2016-09-16 15:56:00,838 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,838 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,838 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,838 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,838 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,839 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,839 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@75babb67]
2016-09-16 15:56:00,839 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,839 DEBUG Building LoadPlan...
2016-09-16 15:56:00,840 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,841 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,841 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_WRITE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,841 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3eb3232b]
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,842 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@60bb7995]
2016-09-16 15:56:00,842 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,842 DEBUG Building LoadPlan...
2016-09-16 15:56:00,842 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,843 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,843 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2016-09-16 15:56:00,843 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40fa8766]
2016-09-16 15:56:00,843 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,843 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,843 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,843 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,843 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,843 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,844 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@663f237a]
2016-09-16 15:56:00,844 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,844 DEBUG Building LoadPlan...
2016-09-16 15:56:00,844 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,844 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,844 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-16 15:56:00,844 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d7399f9]
2016-09-16 15:56:00,844 DEBUG Visiting attribute path : clientSecret
2016-09-16 15:56:00,844 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,844 DEBUG Visiting attribute path : enabled
2016-09-16 15:56:00,844 DEBUG Visiting attribute path : endpoints
2016-09-16 15:56:00,844 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,845 DEBUG Visiting attribute path : owner
2016-09-16 15:56:00,845 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@14fded9d]
2016-09-16 15:56:00,845 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,845 DEBUG Building LoadPlan...
2016-09-16 15:56:00,845 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,845 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2016-09-16 15:56:00,845 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-16 15:56:00,846 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-16 15:56:00,846 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2016-09-16 15:56:00,846 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.RoleEntity
2016-09-16 15:56:00,846 DEBUG  Version select: select id from role_definition where id =?
2016-09-16 15:56:00,846 DEBUG  Snapshot select: select roleentity_.id, roleentity_.caption as caption2_3_ from role_definition roleentity_ where roleentity_.id=?
2016-09-16 15:56:00,846 DEBUG  Insert 0: insert into role_definition (caption, id) values (?, ?)
2016-09-16 15:56:00,846 DEBUG  Update 0: update role_definition set caption=? where id=?
2016-09-16 15:56:00,846 DEBUG  Delete 0: delete from role_definition where id=?
2016-09-16 15:56:00,846 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@bc6288b]
2016-09-16 15:56:00,846 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,846 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,846 DEBUG Building LoadPlan...
2016-09-16 15:56:00,847 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,847 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,847 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [NONE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-16 15:56:00,847 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34c70b5e]
2016-09-16 15:56:00,847 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,847 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,847 DEBUG Building LoadPlan...
2016-09-16 15:56:00,848 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,849 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,849 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-16 15:56:00,849 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@75156240]
2016-09-16 15:56:00,849 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,849 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,849 DEBUG Building LoadPlan...
2016-09-16 15:56:00,849 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,850 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,850 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,850 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d099323]
2016-09-16 15:56:00,850 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,850 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,850 DEBUG Building LoadPlan...
2016-09-16 15:56:00,850 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,850 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,850 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_NOWAIT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,850 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@10947c4e]
2016-09-16 15:56:00,851 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,851 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,851 DEBUG Building LoadPlan...
2016-09-16 15:56:00,851 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,851 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,851 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_SKIPLOCKED]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,851 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1756f7cc]
2016-09-16 15:56:00,851 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,851 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,851 DEBUG Building LoadPlan...
2016-09-16 15:56:00,851 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,854 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,854 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [FORCE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,854 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27df95e]
2016-09-16 15:56:00,854 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,854 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,854 DEBUG Building LoadPlan...
2016-09-16 15:56:00,854 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,855 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,855 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,855 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2b0e9f30]
2016-09-16 15:56:00,855 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,855 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,855 DEBUG Building LoadPlan...
2016-09-16 15:56:00,873 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,873 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,873 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_WRITE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,874 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3330f3ad]
2016-09-16 15:56:00,874 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,874 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,874 DEBUG Building LoadPlan...
2016-09-16 15:56:00,874 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,875 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,875 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2016-09-16 15:56:00,875 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@506aabf6]
2016-09-16 15:56:00,875 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,875 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,875 DEBUG Building LoadPlan...
2016-09-16 15:56:00,876 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,876 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,876 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-16 15:56:00,876 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6824b913]
2016-09-16 15:56:00,877 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,877 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,877 DEBUG Building LoadPlan...
2016-09-16 15:56:00,877 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,877 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2016-09-16 15:56:00,877 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2016-09-16 15:56:00,879 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-09-16 15:56:00,880 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2016-09-16 15:56:00,880 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-16 15:56:00,880 DEBUG  Version select: select updated_ts from oauth_session where id =?
2016-09-16 15:56:00,880 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_1_, oauthsessi_.authorisation_code as authoris3_1_, oauthsessi_.context_id as context_9_1_, oauthsessi_.created_ts as created_4_1_, oauthsessi_.expires_ts as expires_5_1_, oauthsessi_.initiator_detail as initiato6_1_, oauthsessi_.current_token as current_7_1_, oauthsessi_.updated_ts as updated_8_1_ from oauth_session oauthsessi_ where oauthsessi_.id=?
2016-09-16 15:56:00,880 DEBUG  Insert 0: insert into oauth_session (is_active, authorisation_code, context_id, created_ts, expires_ts, initiator_detail, current_token, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2016-09-16 15:56:00,880 DEBUG  Update 0: update oauth_session set is_active=?, authorisation_code=?, context_id=?, created_ts=?, expires_ts=?, initiator_detail=?, current_token=?, updated_ts=? where id=? and updated_ts=?
2016-09-16 15:56:00,880 DEBUG  Delete 0: delete from oauth_session where id=? and updated_ts=?
2016-09-16 15:56:00,880 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@74f827ad]
2016-09-16 15:56:00,880 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,881 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,881 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,881 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4a8a0099]
2016-09-16 15:56:00,881 DEBUG Visiting attribute path : context.active
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.created
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.scope
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service
2016-09-16 15:56:00,883 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49e4c2d5]
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.clientSecret
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.created
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.enabled
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.endpoints
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.name
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.owner
2016-09-16 15:56:00,883 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e36b7a0]
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.owner.created
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.owner.email
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-09-16 15:56:00,883 DEBUG Visiting attribute path : context.service.owner.name
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.service.owner.password
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.service.owner.roles
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.service.updated
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.updated
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.user
2016-09-16 15:56:00,884 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@f5cf29b]
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.user.created
2016-09-16 15:56:00,884 DEBUG Visiting attribute path : context.user.dateFormat
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.email
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.lastLogin
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.name
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.password
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.roles
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : context.user.timeZone
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,885 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,885 DEBUG Building LoadPlan...
2016-09-16 15:56:00,885 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,887 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-09-16 15:56:00,887 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [NONE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-09-16 15:56:00,887 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@37e69c43]
2016-09-16 15:56:00,887 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,887 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,887 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,887 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@345d053b]
2016-09-16 15:56:00,888 DEBUG Visiting attribute path : context.active
2016-09-16 15:56:00,888 DEBUG Visiting attribute path : context.created
2016-09-16 15:56:00,888 DEBUG Visiting attribute path : context.scope
2016-09-16 15:56:00,888 DEBUG Visiting attribute path : context.service
2016-09-16 15:56:00,888 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e8b3b79]
2016-09-16 15:56:00,888 DEBUG Visiting attribute path : context.service.clientSecret
2016-09-16 15:56:00,889 DEBUG Visiting attribute path : context.service.created
2016-09-16 15:56:00,889 DEBUG Visiting attribute path : context.service.enabled
2016-09-16 15:56:00,889 DEBUG Visiting attribute path : context.service.endpoints
2016-09-16 15:56:00,889 DEBUG Visiting attribute path : context.service.name
2016-09-16 15:56:00,890 DEBUG Visiting attribute path : context.service.owner
2016-09-16 15:56:00,890 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@518ddd3b]
2016-09-16 15:56:00,890 DEBUG Visiting attribute path : context.service.owner.created
2016-09-16 15:56:00,890 DEBUG Visiting attribute path : context.service.owner.dateFormat
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.email
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.lastLogin
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.name
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.password
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.roles
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.owner.timeZone
2016-09-16 15:56:00,893 DEBUG Visiting attribute path : context.service.updated
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.updated
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user
2016-09-16 15:56:00,894 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6e0e5dec]
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.created
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.dateFormat
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.email
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.lastLogin
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.name
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.password
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.roles
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : context.user.timeZone
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,894 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,894 DEBUG Building LoadPlan...
2016-09-16 15:56:00,895 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,896 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2016-09-16 15:56:00,896 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2016-09-16 15:56:00,896 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@777d0bc3]
2016-09-16 15:56:00,896 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,896 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,896 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,896 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2d85fb64]
2016-09-16 15:56:00,896 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,896 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,896 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,897 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,897 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,897 DEBUG Building LoadPlan...
2016-09-16 15:56:00,897 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,898 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,898 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,898 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@56476c16]
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,898 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@39ffda4a]
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,898 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,899 DEBUG Building LoadPlan...
2016-09-16 15:56:00,899 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,899 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,899 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,899 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3ba348ca]
2016-09-16 15:56:00,899 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,899 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,899 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,899 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@45b15381]
2016-09-16 15:56:00,899 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,899 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,899 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,900 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,900 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,900 DEBUG Building LoadPlan...
2016-09-16 15:56:00,900 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,900 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,900 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,901 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2dbfcf7]
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,901 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@38cedb7d]
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,901 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,901 DEBUG Building LoadPlan...
2016-09-16 15:56:00,901 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,901 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,901 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [FORCE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,902 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@772caabe]
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,902 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7102ac3e]
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,902 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,902 DEBUG Building LoadPlan...
2016-09-16 15:56:00,903 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,903 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,903 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,903 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f598450]
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,903 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@695c938d]
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,903 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,904 DEBUG Building LoadPlan...
2016-09-16 15:56:00,904 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,905 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,905 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,916 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d5bb1c4]
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,916 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@465b38e6]
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,916 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,917 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,917 DEBUG Building LoadPlan...
2016-09-16 15:56:00,917 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,917 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,917 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2016-09-16 15:56:00,917 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4b960b5b]
2016-09-16 15:56:00,917 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,917 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,917 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,917 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7bd96822]
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,918 DEBUG Building LoadPlan...
2016-09-16 15:56:00,918 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,918 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,918 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,918 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@64dae3b7]
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : alive
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : authorisationCode
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : context
2016-09-16 15:56:00,918 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e4c6583]
2016-09-16 15:56:00,918 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,919 DEBUG Visiting attribute path : expires
2016-09-16 15:56:00,919 DEBUG Visiting attribute path : initiator
2016-09-16 15:56:00,919 DEBUG Visiting attribute path : token
2016-09-16 15:56:00,919 DEBUG Visiting attribute path : updated
2016-09-16 15:56:00,919 DEBUG Building LoadPlan...
2016-09-16 15:56:00,919 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,919 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2016-09-16 15:56:00,919 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,920 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,920 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2016-09-16 15:56:00,926 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@67e25252]
2016-09-16 15:56:00,927 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58f4b31a]
2016-09-16 15:56:00,928 DEBUG Visiting attribute path : caption
2016-09-16 15:56:00,929 DEBUG Visiting attribute path : members
2016-09-16 15:56:00,929 DEBUG Property path deemed to be circular : members
2016-09-16 15:56:00,930 DEBUG Building LoadPlan...
2016-09-16 15:56:00,932 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,932 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.UserEntity.roles, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
          - SQL table alias mapping - roles0_
          - alias suffix - 0_
          - suffixed key columns - {user_id2_4_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_3_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
                - SQL table alias mapping - roleentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_3_1_}

2016-09-16 15:56:00,932 DEBUG Static select for collection com.peterphi.usermanager.db.entity.UserEntity.roles: select roles0_.user_id as user_id2_4_0_, roles0_.role_id as role_id1_5_0_, roleentity1_.id as id1_3_1_, roleentity1_.caption as caption2_3_1_ from user_has_role roles0_ inner join role_definition roleentity1_ on roles0_.role_id=roleentity1_.id where roles0_.user_id=?
2016-09-16 15:56:00,933 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@72bdd7c7]
2016-09-16 15:56:00,933 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7d17ee50]
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : created
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : dateFormat
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : email
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : lastLogin
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : name
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : password
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : roles
2016-09-16 15:56:00,933 DEBUG Property path deemed to be circular : roles
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : sessionReconnectKey
2016-09-16 15:56:00,933 DEBUG Visiting attribute path : timeZone
2016-09-16 15:56:00,933 DEBUG Building LoadPlan...
2016-09-16 15:56:00,933 DEBUG processing queryspace <gen:0>
2016-09-16 15:56:00,934 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.RoleEntity.members, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
          - SQL table alias mapping - members0_
          - alias suffix - 0_
          - suffixed key columns - {role_id1_3_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_4_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2016-09-16 15:56:00,934 DEBUG Static select for collection com.peterphi.usermanager.db.entity.RoleEntity.members: select members0_.role_id as role_id1_3_0_, members0_.user_id as user_id2_5_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from user_has_role members0_ inner join user_account userentity1_ on members0_.user_id=userentity1_.id where members0_.role_id=? order by userentity1_.id desc
2016-09-16 15:56:00,937 DEBUG Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@3a2e9f5b
2016-09-16 15:56:00,951 DEBUG Registering SessionFactory: 5e99cec2-b7cb-4ef1-9ad0-af73438ee108 (<unnamed>)
2016-09-16 15:56:00,951 DEBUG Not binding SessionFactory to JNDI, no JNDI name configured
2016-09-16 15:56:00,951 DEBUG Instantiated session factory
2016-09-16 15:56:00,954 DEBUG Checking 0 named HQL queries
2016-09-16 15:56:00,954 DEBUG Checking 0 named SQL queries
2016-09-16 15:56:00,959 DEBUG Statistics initialized [enabled=false]
2016-09-16 15:56:00,963 DEBUG Known entities: [com.peterphi.usermanager.db.entity.UserEntity, com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, com.peterphi.usermanager.db.entity.OAuthServiceEntity, com.peterphi.usermanager.db.entity.RoleEntity, com.peterphi.usermanager.db.entity.OAuthSessionEntity]
2016-09-16 15:56:00,971 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,973 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-09-16 15:56:00,990 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2016-09-16 15:56:00,991 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2016-09-16 15:56:00,991 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-16 15:56:00,991 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-16 15:56:00,992 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2016-09-16 15:56:00,992 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2016-09-16 15:56:00,992 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-16 15:56:00,992 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2016-09-16 15:56:01,720 DEBUG begin
2016-09-16 15:56:01,720 DEBUG Obtaining JDBC connection
2016-09-16 15:56:01,720 DEBUG Obtained JDBC connection
2016-09-16 15:56:01,721 DEBUG initial autocommit status: false
2016-09-16 15:56:01,791 DEBUG select this_.id as id1_4_0_, this_.created_ts as created_2_4_0_, this_.date_format as date_for3_4_0_, this_.email as email4_4_0_, this_.last_login_ts as last_log5_4_0_, this_.name as name6_4_0_, this_.password as password7_4_0_, this_.local_session_id as local_se8_4_0_, this_.date_timezone as date_tim9_4_0_ from user_account this_
2016-09-16 15:56:01,805 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-16 15:56:01,805 DEBUG rolling back
2016-09-16 15:56:01,806 DEBUG rolled JDBC Connection
2016-09-16 15:56:01,807 DEBUG Releasing JDBC connection
2016-09-16 15:56:01,807 DEBUG Released JDBC connection
2016-09-16 15:56:01,811 DEBUG begin
2016-09-16 15:56:01,811 DEBUG Obtaining JDBC connection
2016-09-16 15:56:01,811 DEBUG Obtained JDBC connection
2016-09-16 15:56:01,811 DEBUG initial autocommit status: false
2016-09-16 15:56:01,813 DEBUG select this_.id as id1_3_0_, this_.caption as caption2_3_0_ from role_definition this_
2016-09-16 15:56:01,834 DEBUG Result set row: 0
2016-09-16 15:56:01,837 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-09-16 15:56:01,849 DEBUG Result set row: 1
2016-09-16 15:56:01,849 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-09-16 15:56:01,849 DEBUG Result set row: 2
2016-09-16 15:56:01,849 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-09-16 15:56:01,850 DEBUG Result set row: 3
2016-09-16 15:56:01,850 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-09-16 15:56:01,850 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-09-16 15:56:01,858 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2016-09-16 15:56:01,858 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-09-16 15:56:01,858 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2016-09-16 15:56:01,858 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-09-16 15:56:01,859 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2016-09-16 15:56:01,859 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-09-16 15:56:01,859 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2016-09-16 15:56:01,860 DEBUG Transformed: 4 rows to: 4 distinct results
2016-09-16 15:56:01,860 DEBUG rolling back
2016-09-16 15:56:01,860 DEBUG rolled JDBC Connection
2016-09-16 15:56:01,860 DEBUG Releasing JDBC connection
2016-09-16 15:56:01,860 DEBUG Released JDBC connection
2016-09-16 15:56:01,861 DEBUG begin
2016-09-16 15:56:01,861 DEBUG Obtaining JDBC connection
2016-09-16 15:56:01,861 DEBUG Obtained JDBC connection
2016-09-16 15:56:01,862 DEBUG initial autocommit status: false
2016-09-16 15:56:01,864 DEBUG select this_.id as id1_0_1_, this_.client_secret as client_s2_0_1_, this_.created_ts as created_3_0_1_, this_.is_enabled as is_enabl4_0_1_, this_.client_endpoints as client_e5_0_1_, this_.client_name as client_n6_0_1_, this_.owner_id as owner_id8_0_1_, this_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from oauth_service this_ inner join user_account userentity2_ on this_.owner_id=userentity2_.id
2016-09-16 15:56:01,865 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-16 15:56:01,865 DEBUG rolling back
2016-09-16 15:56:01,865 DEBUG rolled JDBC Connection
2016-09-16 15:56:01,865 DEBUG Releasing JDBC connection
2016-09-16 15:56:01,866 DEBUG Released JDBC connection
2016-09-16 15:56:01,866 DEBUG begin
2016-09-16 15:56:01,866 DEBUG Obtaining JDBC connection
2016-09-16 15:56:01,866 DEBUG Obtained JDBC connection
2016-09-16 15:56:01,866 DEBUG initial autocommit status: false
2016-09-16 15:56:01,868 DEBUG select this_.id as id1_1_4_, this_.is_active as is_activ2_1_4_, this_.authorisation_code as authoris3_1_4_, this_.context_id as context_9_1_4_, this_.created_ts as created_4_1_4_, this_.expires_ts as expires_5_1_4_, this_.initiator_detail as initiato6_1_4_, this_.current_token as current_7_1_4_, this_.updated_ts as updated_8_1_4_, oauthsessi2_.id as id1_2_0_, oauthsessi2_.is_active as is_activ2_2_0_, oauthsessi2_.created_ts as created_3_2_0_, oauthsessi2_.approved_scope as approved4_2_0_, oauthsessi2_.service_id as service_6_2_0_, oauthsessi2_.updated_ts as updated_5_2_0_, oauthsessi2_.user_id as user_id7_2_0_, oauthservi3_.id as id1_0_1_, oauthservi3_.client_secret as client_s2_0_1_, oauthservi3_.created_ts as created_3_0_1_, oauthservi3_.is_enabled as is_enabl4_0_1_, oauthservi3_.client_endpoints as client_e5_0_1_, oauthservi3_.client_name as client_n6_0_1_, oauthservi3_.owner_id as owner_id8_0_1_, oauthservi3_.updated_ts as updated_7_0_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_, userentity5_.id as id1_4_3_, userentity5_.created_ts as created_2_4_3_, userentity5_.date_format as date_for3_4_3_, userentity5_.email as email4_4_3_, userentity5_.last_login_ts as last_log5_4_3_, userentity5_.name as name6_4_3_, userentity5_.password as password7_4_3_, userentity5_.local_session_id as local_se8_4_3_, userentity5_.date_timezone as date_tim9_4_3_ from oauth_session this_ inner join oauth_session_context oauthsessi2_ on this_.context_id=oauthsessi2_.id left outer join oauth_service oauthservi3_ on oauthsessi2_.service_id=oauthservi3_.id left outer join user_account userentity4_ on oauthservi3_.owner_id=userentity4_.id left outer join user_account userentity5_ on oauthsessi2_.user_id=userentity5_.id
2016-09-16 15:56:01,869 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-16 15:56:01,870 DEBUG rolling back
2016-09-16 15:56:01,870 DEBUG rolled JDBC Connection
2016-09-16 15:56:01,870 DEBUG Releasing JDBC connection
2016-09-16 15:56:01,870 DEBUG Released JDBC connection
2016-09-16 15:56:01,870 DEBUG begin
2016-09-16 15:56:01,871 DEBUG Obtaining JDBC connection
2016-09-16 15:56:01,871 DEBUG Obtained JDBC connection
2016-09-16 15:56:01,871 DEBUG initial autocommit status: false
2016-09-16 15:56:01,871 DEBUG select this_.id as id1_2_3_, this_.is_active as is_activ2_2_3_, this_.created_ts as created_3_2_3_, this_.approved_scope as approved4_2_3_, this_.service_id as service_6_2_3_, this_.updated_ts as updated_5_2_3_, this_.user_id as user_id7_2_3_, oauthservi2_.id as id1_0_0_, oauthservi2_.client_secret as client_s2_0_0_, oauthservi2_.created_ts as created_3_0_0_, oauthservi2_.is_enabled as is_enabl4_0_0_, oauthservi2_.client_endpoints as client_e5_0_0_, oauthservi2_.client_name as client_n6_0_0_, oauthservi2_.owner_id as owner_id8_0_0_, oauthservi2_.updated_ts as updated_7_0_0_, userentity3_.id as id1_4_1_, userentity3_.created_ts as created_2_4_1_, userentity3_.date_format as date_for3_4_1_, userentity3_.email as email4_4_1_, userentity3_.last_login_ts as last_log5_4_1_, userentity3_.name as name6_4_1_, userentity3_.password as password7_4_1_, userentity3_.local_session_id as local_se8_4_1_, userentity3_.date_timezone as date_tim9_4_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_ from oauth_session_context this_ inner join oauth_service oauthservi2_ on this_.service_id=oauthservi2_.id left outer join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on this_.user_id=userentity4_.id
2016-09-16 15:56:01,872 DEBUG Transformed: 0 rows to: 0 distinct results
2016-09-16 15:56:01,873 DEBUG rolling back
2016-09-16 15:56:01,873 DEBUG rolled JDBC Connection
2016-09-16 15:56:01,873 DEBUG Releasing JDBC connection
2016-09-16 15:56:01,876 DEBUG Released JDBC connection
2016-09-16 15:56:01,877  INFO Shutting down 1 service(s)
2016-09-16 15:56:01,877 DEBUG Requesting shutdown of com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@28e19366
2016-09-16 15:56:01,877  INFO Shut down Hibernate SessionFactory...
2016-09-16 15:56:01,877 DEBUG begin
2016-09-16 15:56:01,877 DEBUG Obtaining JDBC connection
2016-09-16 15:56:01,878 DEBUG Obtained JDBC connection
2016-09-16 15:56:01,878 DEBUG initial autocommit status: false
2016-09-16 15:56:01,880 DEBUG committing
2016-09-16 15:56:01,880 DEBUG committed JDBC Connection
2016-09-16 15:56:01,881 DEBUG Releasing JDBC connection
2016-09-16 15:56:01,881 DEBUG Released JDBC connection
2016-09-16 15:56:01,881 DEBUG HHH000031: Closing
2016-09-16 15:56:01,881 DEBUG Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2016-09-16 15:56:01,882  INFO HHH000030: Cleaning up connection pool [jdbc:hsqldb:mem:testdb]
2016-09-16 15:56:01,882 DEBUG Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2016-09-16 15:56:01,883  INFO Shutdown complete
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.323 sec - in com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.811 s]
[INFO] stdlib ............................................. SUCCESS [  5.642 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.092 s]
[INFO] stdlib guice common ................................ SUCCESS [  7.028 s]
[INFO] user-manager ....................................... SUCCESS [  0.008 s]
[INFO] user manager rest api .............................. SUCCESS [  0.152 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  2.440 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.162 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.121 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  3.532 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [ 17.525 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  5.134 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  7.903 s]
[INFO] carbon client ...................................... SUCCESS [  0.981 s]
[INFO] service-manager .................................... SUCCESS [  0.003 s]
[INFO] Configuration Service .............................. SUCCESS [  1.727 s]
[INFO] stdlib-rules ....................................... SUCCESS [  5.453 s]
[INFO] stdlib-azure ....................................... SUCCESS [  1.234 s]
[INFO] Service Manager Main ............................... SUCCESS [  0.095 s]
[INFO] user manager service ............................... SUCCESS [ 10.543 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:14 min
[INFO] Finished at: 2016-09-16T15:56:02+00:00
[INFO] Final Memory: 19M/318M
[INFO] ------------------------------------------------------------------------

travis_time:end:1f2f9f10:start=1474041286000061265,finish=1474041362780984672,duration=76780923407[0K
[32;1mThe command "mvn test -B" exited with 0.[0m
travis_fold:start:before_cache[0Ktravis_time:start:212e86de[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory

travis_time:end:212e86de:start=1474041362785256050,finish=1474041362789497979,duration=4241929[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:086e9e30[0K
travis_time:end:086e9e30:start=1474041362793744975,finish=1474041362797022699,duration=3277724[0Ktravis_time:start:23bd9418[0K[32;1mchange detected (content changed, file is created, or file is deleted):
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/configuration-9.1.5-SNAPSHOT.war
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.5-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/configuration/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/_remote.repositories
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.1.5-SNAPSHOT/service-manager-9.1.5-SNAPSHOT.war
/home/travis/.m2/repository/com/peterphi/std/config/service-manager/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/config/service-manager-parent/9.1.5-SNAPSHOT/maven-metadata-local.xml
/home/travis/.m2/repository/com/peterphi/std/confi
[0m
[32;1m...
[0m
[32;1mchanges detected, packing new archive[0m
.
.
.
.
.
.
[32;1muploading archive[0m

travis_time:end:23bd9418:start=1474041362800771227,finish=1474041420512534950,duration=57711763723[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
